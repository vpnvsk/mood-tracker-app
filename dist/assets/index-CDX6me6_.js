(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}})();function Jh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function jR(){if(TE)return Yl;TE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,u){var h=null;if(u!==void 0&&(h=""+u),s.key!==void 0&&(h=""+s.key),"key"in s){u={};for(var d in s)d!=="key"&&(u[d]=s[d])}else u=s;return s=u.ref,{$$typeof:r,type:a,key:h,ref:s!==void 0?s:null,props:u}}return Yl.Fragment=e,Yl.jsx=t,Yl.jsxs=t,Yl}var bE;function zR(){return bE||(bE=1,Nm.exports=jR()),Nm.exports}var Q=zR(),xm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function BR(){if(wE)return De;wE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function k(M,ee,oe){this.props=M,this.context=ee,this.refs=x,this.updater=oe||I}k.prototype.isReactComponent={},k.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function j(){}j.prototype=k.prototype;function J(M,ee,oe){this.props=M,this.context=ee,this.refs=x,this.updater=oe||I}var W=J.prototype=new j;W.constructor=J,A(W,k.prototype),W.isPureReactComponent=!0;var ie=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function N(M,ee,oe,ae,pe,Ie){return oe=Ie.ref,{$$typeof:r,type:M,key:ee,ref:oe!==void 0?oe:null,props:Ie}}function R(M,ee){return N(M.type,ee,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return ee[oe]})}var V=/\/+/g;function L(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):ee.toString(36)}function O(){}function st(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ze(M,ee,oe,ae,pe){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var ve=!1;if(M===null)ve=!0;else switch(Ie){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(M.$$typeof){case r:case e:ve=!0;break;case v:return ve=M._init,Ze(ve(M._payload),ee,oe,ae,pe)}}if(ve)return pe=pe(M),ve=ae===""?"."+L(M,0):ae,ie(pe)?(oe="",ve!=null&&(oe=ve.replace(V,"$&/")+"/"),Ze(pe,ee,oe,"",function(Mt){return Mt})):pe!=null&&(C(pe)&&(pe=R(pe,oe+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+ve)),ee.push(pe)),1;ve=0;var ct=ae===""?".":ae+":";if(ie(M))for(var He=0;He<M.length;He++)ae=M[He],Ie=ct+L(ae,He),ve+=Ze(ae,ee,oe,Ie,pe);else if(He=w(M),typeof He=="function")for(M=He.call(M),He=0;!(ae=M.next()).done;)ae=ae.value,Ie=ct+L(ae,He++),ve+=Ze(ae,ee,oe,Ie,pe);else if(Ie==="object"){if(typeof M.then=="function")return Ze(st(M),ee,oe,ae,pe);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(M,ee,oe){if(M==null)return M;var ae=[],pe=0;return Ze(M,ae,"","",function(Ie){return ee.call(oe,Ie,pe++)}),ae}function ue(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Oe(){}return De.Children={map:K,forEach:function(M,ee,oe){K(M,function(){ee.apply(this,arguments)},oe)},count:function(M){var ee=0;return K(M,function(){ee++}),ee},toArray:function(M){return K(M,function(ee){return ee})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=k,De.Fragment=t,De.Profiler=s,De.PureComponent=J,De.StrictMode=a,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,De.__COMPILER_RUNTIME={__proto__:null,c:function(M){return le.H.useMemoCache(M)}},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cloneElement=function(M,ee,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=A({},M.props),pe=M.key,Ie=void 0;if(ee!=null)for(ve in ee.ref!==void 0&&(Ie=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!ce.call(ee,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ee.ref===void 0||(ae[ve]=ee[ve]);var ve=arguments.length-2;if(ve===1)ae.children=oe;else if(1<ve){for(var ct=Array(ve),He=0;He<ve;He++)ct[He]=arguments[He+2];ae.children=ct}return N(M.type,pe,void 0,void 0,Ie,ae)},De.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},De.createElement=function(M,ee,oe){var ae,pe={},Ie=null;if(ee!=null)for(ae in ee.key!==void 0&&(Ie=""+ee.key),ee)ce.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(pe[ae]=ee[ae]);var ve=arguments.length-2;if(ve===1)pe.children=oe;else if(1<ve){for(var ct=Array(ve),He=0;He<ve;He++)ct[He]=arguments[He+2];pe.children=ct}if(M&&M.defaultProps)for(ae in ve=M.defaultProps,ve)pe[ae]===void 0&&(pe[ae]=ve[ae]);return N(M,Ie,void 0,void 0,null,pe)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:d,render:M}},De.isValidElement=C,De.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ue}},De.memo=function(M,ee){return{$$typeof:g,type:M,compare:ee===void 0?null:ee}},De.startTransition=function(M){var ee=le.T,oe={};le.T=oe;try{var ae=M(),pe=le.S;pe!==null&&pe(oe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Oe,me)}catch(Ie){me(Ie)}finally{le.T=ee}},De.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},De.use=function(M){return le.H.use(M)},De.useActionState=function(M,ee,oe){return le.H.useActionState(M,ee,oe)},De.useCallback=function(M,ee){return le.H.useCallback(M,ee)},De.useContext=function(M){return le.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,ee){return le.H.useDeferredValue(M,ee)},De.useEffect=function(M,ee,oe){var ae=le.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(M,ee)},De.useId=function(){return le.H.useId()},De.useImperativeHandle=function(M,ee,oe){return le.H.useImperativeHandle(M,ee,oe)},De.useInsertionEffect=function(M,ee){return le.H.useInsertionEffect(M,ee)},De.useLayoutEffect=function(M,ee){return le.H.useLayoutEffect(M,ee)},De.useMemo=function(M,ee){return le.H.useMemo(M,ee)},De.useOptimistic=function(M,ee){return le.H.useOptimistic(M,ee)},De.useReducer=function(M,ee,oe){return le.H.useReducer(M,ee,oe)},De.useRef=function(M){return le.H.useRef(M)},De.useState=function(M){return le.H.useState(M)},De.useSyncExternalStore=function(M,ee,oe){return le.H.useSyncExternalStore(M,ee,oe)},De.useTransition=function(){return le.H.useTransition()},De.version="19.1.0",De}var SE;function ef(){return SE||(SE=1,xm.exports=BR()),xm.exports}var Y=ef();const qR=Jh(Y);var Mm={exports:{}},Kl={},Pm={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function HR(){return AE||(AE=1,function(r){function e(K,ue){var me=K.length;K.push(ue);e:for(;0<me;){var Oe=me-1>>>1,M=K[Oe];if(0<s(M,ue))K[Oe]=ue,K[me]=M,me=Oe;else break e}}function t(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ue=K[0],me=K.pop();if(me!==ue){K[0]=me;e:for(var Oe=0,M=K.length,ee=M>>>1;Oe<ee;){var oe=2*(Oe+1)-1,ae=K[oe],pe=oe+1,Ie=K[pe];if(0>s(ae,me))pe<M&&0>s(Ie,ae)?(K[Oe]=Ie,K[pe]=me,Oe=pe):(K[Oe]=ae,K[oe]=me,Oe=oe);else if(pe<M&&0>s(Ie,me))K[Oe]=Ie,K[pe]=me,Oe=pe;else break e}}return ue}function s(K,ue){var me=K.sortIndex-ue.sortIndex;return me!==0?me:K.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,b=null,w=3,I=!1,A=!1,x=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ie(K){for(var ue=t(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=K)a(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function le(K){if(x=!1,ie(K),!A)if(t(p)!==null)A=!0,ce||(ce=!0,L());else{var ue=t(g);ue!==null&&Ze(le,ue.startTime-K)}}var ce=!1,N=-1,R=5,C=-1;function P(){return k?!0:!(r.unstable_now()-C<R)}function V(){if(k=!1,ce){var K=r.unstable_now();C=K;var ue=!0;try{e:{A=!1,x&&(x=!1,J(N),N=-1),I=!0;var me=w;try{t:{for(ie(K),b=t(p);b!==null&&!(b.expirationTime>K&&P());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,w=b.priorityLevel;var M=Oe(b.expirationTime<=K);if(K=r.unstable_now(),typeof M=="function"){b.callback=M,ie(K),ue=!0;break t}b===t(p)&&a(p),ie(K)}else a(p);b=t(p)}if(b!==null)ue=!0;else{var ee=t(g);ee!==null&&Ze(le,ee.startTime-K),ue=!1}}break e}finally{b=null,w=me,I=!1}ue=void 0}}finally{ue?L():ce=!1}}}var L;if(typeof W=="function")L=function(){W(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,st=O.port2;O.port1.onmessage=V,L=function(){st.postMessage(null)}}else L=function(){j(V,0)};function Ze(K,ue){N=j(function(){K(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var me=w;w=ue;try{return K()}finally{w=me}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=w;w=K;try{return ue()}finally{w=me}},r.unstable_scheduleCallback=function(K,ue,me){var Oe=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=me+M,K={id:v++,callback:ue,priorityLevel:K,startTime:me,expirationTime:M,sortIndex:-1},me>Oe?(K.sortIndex=me,e(g,K),t(p)===null&&K===t(g)&&(x?(J(N),N=-1):x=!0,Ze(le,me-Oe))):(K.sortIndex=M,e(p,K),A||I||(A=!0,ce||(ce=!0,L()))),K},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(K){var ue=w;return function(){var me=w;w=ue;try{return K.apply(this,arguments)}finally{w=me}}}}(km)),km}var RE;function FR(){return RE||(RE=1,Pm.exports=HR()),Pm.exports}var Vm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function GR(){if(IE)return cn;IE=1;var r=ef();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},cn.flushSync=function(p){var g=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=v,a.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:I}):v==="script"&&a.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},cn.requestFormReset=function(p){a.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var CE;function YR(){if(CE)return Vm.exports;CE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vm.exports=GR(),Vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function KR(){if(DE)return Kl;DE=1;var r=FR(),e=ef(),t=YR();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(a(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,l=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),n;if(m===l)return d(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==l.return)o=f,l=m;else{for(var E=!1,T=f.child;T;){if(T===o){E=!0,o=f,l=m;break}if(T===l){E=!0,l=f,o=m;break}T=T.sibling}if(!E){for(T=m.child;T;){if(T===o){E=!0,o=m,l=f;break}if(T===l){E=!0,l=m,o=f;break}T=T.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==l)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case k:return"Profiler";case x:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case W:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case ie:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return i=n.displayName||null,i!==null?i:st(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return st(n(i))}catch{}}return null}var Ze=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Oe=[],M=-1;function ee(n){return{current:n}}function oe(n){0>M||(n.current=Oe[M],Oe[M]=null,M--)}function ae(n,i){M++,Oe[M]=n.current,n.current=i}var pe=ee(null),Ie=ee(null),ve=ee(null),ct=ee(null);function He(n,i){switch(ae(ve,i),ae(Ie,n),ae(pe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Q_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Q_(i),n=W_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(pe),ae(pe,n)}function Mt(){oe(pe),oe(Ie),oe(ve)}function Un(n){n.memoizedState!==null&&ae(ct,n);var i=pe.current,o=W_(i,n.type);i!==o&&(ae(Ie,n),ae(pe,o))}function Rn(n){Ie.current===n&&(oe(pe),oe(Ie)),ct.current===n&&(oe(ct),Bl._currentValue=me)}var Ln=Object.prototype.hasOwnProperty,rr=r.unstable_scheduleCallback,rt=r.unstable_cancelCallback,ir=r.unstable_shouldYield,$t=r.unstable_requestPaint,Qt=r.unstable_now,Cs=r.unstable_getCurrentPriorityLevel,xi=r.unstable_ImmediatePriority,Mi=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,Ko=r.unstable_LowPriority,Yr=r.unstable_IdlePriority,Oa=r.log,Ds=r.unstable_setDisableYieldValue,ht=null,Ye=null;function pn(n){if(typeof Oa=="function"&&Ds(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,n)}catch{}}var Rt=Math.clz32?Math.clz32:Kr,Na=Math.log,Os=Math.LN2;function Kr(n){return n>>>=0,n===0?32:31-(Na(n)/Os|0)|0}var jn=256,_r=4194304;function In(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $r(n,i,o){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?f=In(l):(E&=T,E!==0?f=In(E):o||(o=T&~n,o!==0&&(f=In(o))))):(T=l&~m,T!==0?f=In(T):E!==0?f=In(E):o||(o=l&~n,o!==0&&(f=In(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function Er(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Qr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var n=jn;return jn<<=1,(jn&4194048)===0&&(jn=256),n}function Pi(){var n=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),n}function ar(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function zn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function It(n,i,o,l,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,D=n.expirationTimes,H=n.hiddenUpdates;for(o=E&~o;0<o;){var X=31-Rt(o),te=1<<X;T[X]=0,D[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}o&=~te}l!==0&&lt(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function lt(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Rt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|o&4194090}function Tr(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var l=31-Rt(o),f=1<<l;f&i|n[l]&i&&(n[l]|=i),o&=~f}}function Fe(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Wt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function br(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:pE(n.type))}function ki(n,i){var o=ue.p;try{return ue.p=n,i()}finally{ue.p=o}}var it=Math.random().toString(36).slice(2),yt="__reactFiber$"+it,ft="__reactProps$"+it,Xt="__reactContainer$"+it,Wr="__reactEvents$"+it,Ma="__reactListeners$"+it,Bn="__reactHandles$"+it,Ns="__reactResources$"+it,sr="__reactMarker$"+it;function or(n){delete n[yt],delete n[ft],delete n[Wr],delete n[Ma],delete n[Bn]}function lr(n){var i=n[yt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Xt]||o[yt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=eE(n);n!==null;){if(o=n[yt])return o;n=eE(n)}return i}n=o,o=n.parentNode}return null}function qn(n){if(n=n[yt]||n[Xt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Se(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Me(n){var i=n[Ns];return i||(i=n[Ns]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(n){n[sr]=!0}var Zt=new Set,zt={};function gn(n,i){ur(n,i),ur(n+"Capture",i)}function ur(n,i){for(zt[n]=i,n=0;n<i.length;n++)Zt.add(i[n])}var xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},Pa={};function Bu(n){return Ln.call(Pa,n)?!0:Ln.call(zu,n)?!1:xs.test(n)?Pa[n]=!0:(zu[n]=!0,!1)}function Vi(n,i,o){if(Bu(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function wr(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Jt(n,i,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+l)}}var ka,qu;function Xr(n){if(ka===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",qu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+n+qu}var Ms=!1;function Ps(n,i){if(!n||Ms)return"";Ms=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(n,[],te)}else{try{te.call()}catch(G){F=G}n.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],T=m[1];if(E&&T){var D=E.split(`
`),H=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var X=`
`+D[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{Ms=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Xr(o):""}function $o(n){switch(n.tag){case 26:case 27:case 5:return Xr(n.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return Ps(n.type,!1);case 11:return Ps(n.type.render,!1);case 1:return Ps(n.type,!0);case 31:return Xr("Activity");default:return""}}function ks(n){try{var i="";do i+=$o(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kf(n){var i=Qo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Vs(n){n._valueTracker||(n._valueTracker=kf(n))}function Wo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return n&&(l=Qo(n)?n.checked?"true":"false":n.value),n=l,n!==o?(i.setValue(n),!0):!1}function Va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vf=/[\n"\\]/g;function Ct(n){return n.replace(Vf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cn(n,i,o,l,f,m,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+yn(i)):n.value!==""+yn(i)&&(n.value=""+yn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ui(n,E,yn(i)):o!=null?Ui(n,E,yn(o)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+yn(T):n.removeAttribute("name")}function Ua(n,i,o,l,f,m,E,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+yn(o):"",i=i!=null?""+yn(i):o,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ui(n,i,o){i==="number"&&Va(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Zr(n,i,o,l){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&l&&(n[o].defaultSelected=!0)}else{for(o=""+yn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Je(n,i,o){if(i!=null&&(i=""+yn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+yn(o):""}function La(n,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(a(92));if(Ze(l)){if(1<l.length)throw Error(a(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=yn(i),n.defaultValue=o,l=n.textContent,l===o&&l!==""&&l!==null&&(n.value=l)}function Hn(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var ja=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,o):typeof o!="number"||o===0||ja.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Xo(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&o[f]!==l&&Hu(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Hu(n,m,i[m])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(n){return Lf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Jr=null;function Fn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ei=null,ti=null;function Jo(n){var i=qn(n);if(i&&(n=i.stateNode)){var o=n[ft]||null;e:switch(n=i.stateNode,i.type){case"input":if(Cn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==n&&l.form===n.form){var f=l[ft]||null;if(!f)throw Error(a(90));Cn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===n.form&&Wo(l)}break e;case"textarea":Je(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Zr(n,!!o.multiple,i,!1)}}}var Sr=!1;function Fu(n,i,o){if(Sr)return n(i,o);Sr=!0;try{var l=n(i);return l}finally{if(Sr=!1,(ei!==null||ti!==null)&&(Uc(),ei&&(i=ei,n=ti,ti=ei=null,Jo(i),n)))for(i=0;i<n.length;i++)Jo(n[i])}}function za(n,i){var o=n.stateNode;if(o===null)return null;var l=o[ft]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(cr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Gn=!1}var Ar=null,Li=null,ni=null;function el(){if(ni)return ni;var n,i=Li,o=i.length,l,f="value"in Ar?Ar.value:Ar.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(l=1;l<=E&&i[o-l]===f[m-l];l++);return ni=f.slice(n,1<l?1-l:void 0)}function Rr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ir(){return!0}function tl(){return!1}function Bt(n){function i(o,l,f,m,E){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ir:tl,this.isPropagationStopped=tl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Bt($e),qa=v({},$e,{view:0,detail:0}),Gu=Bt(qa),js,zs,Cr,Ha=v({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cr&&(Cr&&n.type==="mousemove"?(js=n.screenX-Cr.screenX,zs=n.screenY-Cr.screenY):zs=js=0,Cr=n),js)},movementY:function(n){return"movementY"in n?n.movementY:zs}}),Yn=Bt(Ha),Yu=v({},Ha,{dataTransfer:0}),jf=Bt(Yu),Fa=v({},qa,{relatedTarget:0}),Bs=Bt(Fa),nl=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),qs=Bt(nl),Ku=v({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hs=Bt(Ku),zf=v({},$e,{data:0}),rl=Bt(zf),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Qu[n])?!!i[n]:!1}function Ya(){return il}var Wu=v({},qa,{key:function(n){if(n.key){var i=Ga[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Rr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(n){return n.type==="keypress"?Rr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Rr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fs=Bt(Wu),Xu=v({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Bt(Xu),ri=v({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Zu=Bt(ri),Ju=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Bt(Ju),tc=v({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gs=Bt(tc),vn=v({},$e,{newState:0,oldState:0}),nc=Bt(vn),rc=[9,13,27,32],Dr=cr&&"CompositionEvent"in window,c=null;cr&&"documentMode"in document&&(c=document.documentMode);var y=cr&&"TextEvent"in window&&!c,_=cr&&(!Dr||c&&8<c&&11>=c),S=" ",B=!1;function $(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function Pt(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return n=i.data,n===S&&B?null:n;default:return null}}function ze(n,i){if(je)return n==="compositionend"||!Dr&&$(n,i)?(n=el(),ni=Li=Ar=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!qt[n.type]:i==="textarea"}function ii(n,i,o,l){ei?ti?ti.push(l):ti=[l]:ei=l,i=Hc(i,"onChange"),0<i.length&&(o=new Ls("onChange","change",null,o,l),n.push({event:o,listeners:i}))}var en=null,Or=null;function sl(n){F_(n,0)}function ic(n){var i=Se(n);if(Wo(i))return n}function hy(n,i){if(n==="change")return i}var fy=!1;if(cr){var Bf;if(cr){var qf="oninput"in document;if(!qf){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),qf=typeof dy.oninput=="function"}Bf=qf}else Bf=!1;fy=Bf&&(!document.documentMode||9<document.documentMode)}function my(){en&&(en.detachEvent("onpropertychange",py),Or=en=null)}function py(n){if(n.propertyName==="value"&&ic(Or)){var i=[];ii(i,Or,n,Fn(n)),Fu(sl,i)}}function pA(n,i,o){n==="focusin"?(my(),en=i,Or=o,en.attachEvent("onpropertychange",py)):n==="focusout"&&my()}function gA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(Or)}function yA(n,i){if(n==="click")return ic(i)}function vA(n,i){if(n==="input"||n==="change")return ic(i)}function _A(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Dn=typeof Object.is=="function"?Object.is:_A;function ol(n,i){if(Dn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Ln.call(i,f)||!Dn(n[f],i[f]))return!1}return!0}function gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yy(n,i){var o=gy(n);n=0;for(var l;o;){if(o.nodeType===3){if(l=n+o.textContent.length,n<=i&&l>=i)return{node:o,offset:i-n};n=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gy(o)}}function vy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?vy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function _y(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Va(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Va(n.document)}return i}function Hf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var EA=cr&&"documentMode"in document&&11>=document.documentMode,Ys=null,Ff=null,ll=null,Gf=!1;function Ey(n,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gf||Ys==null||Ys!==Va(l)||(l=Ys,"selectionStart"in l&&Hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Hc(Ff,"onSelect"),0<l.length&&(i=new Ls("onSelect","select",null,i,o),n.push({event:i,listeners:l}),i.target=Ys)))}function Ka(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ks={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Yf={},Ty={};cr&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function $a(n){if(Yf[n])return Yf[n];if(!Ks[n])return n;var i=Ks[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ty)return Yf[n]=i[o];return n}var by=$a("animationend"),wy=$a("animationiteration"),Sy=$a("animationstart"),TA=$a("transitionrun"),bA=$a("transitionstart"),wA=$a("transitioncancel"),Ay=$a("transitionend"),Ry=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function hr(n,i){Ry.set(n,i),gn(i,[n])}var Iy=new WeakMap;function Kn(n,i){if(typeof n=="object"&&n!==null){var o=Iy.get(n);return o!==void 0?o:(i={value:n,source:i,stack:ks(i)},Iy.set(n,i),i)}return{value:n,source:i,stack:ks(i)}}var $n=[],$s=0,$f=0;function ac(){for(var n=$s,i=$f=$s=0;i<n;){var o=$n[i];$n[i++]=null;var l=$n[i];$n[i++]=null;var f=$n[i];$n[i++]=null;var m=$n[i];if($n[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Cy(o,f,m)}}function sc(n,i,o,l){$n[$s++]=n,$n[$s++]=i,$n[$s++]=o,$n[$s++]=l,$f|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Qf(n,i,o,l){return sc(n,i,o,l),oc(n)}function Qs(n,i){return sc(n,null,null,i),oc(n)}function Cy(n,i,o){n.lanes|=o;var l=n.alternate;l!==null&&(l.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Rt(o),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=o|536870912),m):null}function oc(n){if(50<Ml)throw Ml=0,tm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ws={};function SA(n,i,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,i,o,l){return new SA(n,i,o,l)}function Wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ai(n,i){var o=n.alternate;return o===null?(o=On(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Dy(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,o,l,f,m){var E=0;if(l=n,typeof n=="function")Wf(n)&&(E=1);else if(typeof n=="string")E=RR(n,o,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=On(31,o,i,f),n.elementType=C,n.lanes=m,n;case A:return Qa(o.children,f,m,i);case x:E=8,f|=24;break;case k:return n=On(12,o,i,f|2),n.elementType=k,n.lanes=m,n;case le:return n=On(13,o,i,f),n.elementType=le,n.lanes=m,n;case ce:return n=On(19,o,i,f),n.elementType=ce,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:case W:E=10;break e;case J:E=9;break e;case ie:E=11;break e;case N:E=14;break e;case R:E=16,l=null;break e}E=29,o=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=On(E,o,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function Qa(n,i,o,l){return n=On(7,n,l,i),n.lanes=o,n}function Xf(n,i,o){return n=On(6,n,null,i),n.lanes=o,n}function Zf(n,i,o){return i=On(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Xs=[],Zs=0,uc=null,cc=0,Qn=[],Wn=0,Wa=null,si=1,oi="";function Xa(n,i){Xs[Zs++]=cc,Xs[Zs++]=uc,uc=n,cc=i}function Oy(n,i,o){Qn[Wn++]=si,Qn[Wn++]=oi,Qn[Wn++]=Wa,Wa=n;var l=si;n=oi;var f=32-Rt(l)-1;l&=~(1<<f),o+=1;var m=32-Rt(i)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,si=1<<32-Rt(i)+f|o<<f|l,oi=m+n}else si=1<<m|o<<f|l,oi=n}function Jf(n){n.return!==null&&(Xa(n,1),Oy(n,1,0))}function ed(n){for(;n===uc;)uc=Xs[--Zs],Xs[Zs]=null,cc=Xs[--Zs],Xs[Zs]=null;for(;n===Wa;)Wa=Qn[--Wn],Qn[Wn]=null,oi=Qn[--Wn],Qn[Wn]=null,si=Qn[--Wn],Qn[Wn]=null}var _n=null,vt=null,Ke=!1,Za=null,Nr=!1,td=Error(a(519));function Ja(n){var i=Error(a(418,""));throw hl(Kn(i,n)),td}function Ny(n){var i=n.stateNode,o=n.type,l=n.memoizedProps;switch(i[yt]=n,i[ft]=l,o){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(o=0;o<kl.length;o++)Ve(kl[o],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ua(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),La(i,l.value,l.defaultValue,l.children),Vs(i)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||$_(i.textContent,o)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||Ja(n)}function xy(n){for(_n=n.return;_n;)switch(_n.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:_n=_n.return}}function ul(n){if(n!==_n)return!1;if(!Ke)return xy(n),Ke=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ym(n.type,n.memoizedProps)),o=!o),o&&vt&&Ja(n),xy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){vt=dr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}vt=null}}else i===27?(i=vt,ea(n.type)?(n=Tm,Tm=null,vt=n):vt=i):vt=_n?dr(n.stateNode.nextSibling):null;return!0}function cl(){vt=_n=null,Ke=!1}function My(){var n=Za;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),Za=null),n}function hl(n){Za===null?Za=[n]:Za.push(n)}var nd=ee(null),es=null,li=null;function ji(n,i,o){ae(nd,i._currentValue),i._currentValue=o}function ui(n){n._currentValue=nd.current,oe(nd)}function rd(n,i,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===o)break;n=n.return}}function id(n,i,o,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<i.length;D++)if(T.context===i[D]){m.lanes|=o,T=m.alternate,T!==null&&(T.lanes|=o),rd(m.return,o,n),l||(E=null);break e}m=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),rd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function fl(n,i,o,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=f.type;Dn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===ct.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Bl):n=[Bl])}f=f.return}n!==null&&id(i,n,o,l),i.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!Dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ts(n){es=n,li=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function un(n){return Py(es,n)}function fc(n,i){return es===null&&ts(n),Py(n,i)}function Py(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},li===null){if(n===null)throw Error(a(308));li=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else li=li.next=i;return o}var AA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},RA=r.unstable_scheduleCallback,IA=r.unstable_NormalPriority,Vt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new AA,data:new Map,refCount:0}}function dl(n){n.refCount--,n.refCount===0&&RA(IA,function(){n.controller.abort()})}var ml=null,sd=0,Js=0,eo=null;function CA(n,i){if(ml===null){var o=ml=[];sd=0,Js=lm(),eo={status:"pending",value:void 0,then:function(l){o.push(l)}}}return sd++,i.then(ky,ky),i}function ky(){if(--sd===0&&ml!==null){eo!==null&&(eo.status="fulfilled");var n=ml;ml=null,Js=0,eo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function DA(n,i){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var Vy=K.S;K.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&CA(n,i),Vy!==null&&Vy(n,i)};var ns=ee(null);function od(){var n=ns.current;return n!==null?n:ot.pooledCache}function dc(n,i){i===null?ae(ns,ns.current):ae(ns,i.pool)}function Uy(){var n=od();return n===null?null:{parent:Vt._currentValue,pool:n}}var pl=Error(a(460)),Ly=Error(a(474)),mc=Error(a(542)),ld={then:function(){}};function jy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function zy(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(pc,pc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,qy(n),n;default:if(typeof i.status=="string")i.then(pc,pc);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,qy(n),n}throw gl=i,pl}}var gl=null;function By(){if(gl===null)throw Error(a(459));var n=gl;return gl=null,n}function qy(n){if(n===pl||n===mc)throw Error(a(483))}var zi=!1;function ud(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qi(n,i,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(n),Cy(n,null,o),i}return sc(n,l,i,o),oc(n)}function yl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,o|=l,i.lanes=o,Tr(n,o)}}function hd(n,i){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var fd=!1;function vl(){if(fd){var n=eo;if(n!==null)throw n}}function _l(n,i,o,l){fd=!1;var f=n.updateQueue;zi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,H=D.next;D.next=null,E===null?m=H:E.next=H,E=D;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;E=0,X=H=D=null,T=m;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Be&F)===F:(l&F)===F){F!==0&&F===Js&&(fd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=n,_e=T;F=i;var nt=o;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){te=we.call(nt,te,F);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,F=typeof we=="function"?we.call(nt,te,F):we,F==null)break e;te=v({},te,F);break e;case 2:zi=!0}}F=T.callback,F!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=G,D=te):X=X.next=G,E|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(D=te),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Wi|=E,n.lanes=E,n.memoizedState=te}}function Hy(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Fy(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Hy(o[n],i)}var to=ee(null),gc=ee(0);function Gy(n,i){n=gi,ae(gc,n),ae(to,i),gi=n|i.baseLanes}function dd(){ae(gc,gi),ae(to,to.current)}function md(){gi=gc.current,oe(to),oe(gc)}var Hi=0,Ne=null,et=null,Dt=null,yc=!1,no=!1,rs=!1,vc=0,El=0,ro=null,OA=0;function bt(){throw Error(a(321))}function pd(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Dn(n[o],i[o]))return!1;return!0}function gd(n,i,o,l,f,m){return Hi=m,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?Cv:Dv,rs=!1,m=o(l,f),rs=!1,no&&(m=Ky(i,o,l,f)),Yy(n),m}function Yy(n){K.H=Sc;var i=et!==null&&et.next!==null;if(Hi=0,Dt=et=Ne=null,yc=!1,El=0,ro=null,i)throw Error(a(300));n===null||Ht||(n=n.dependencies,n!==null&&hc(n)&&(Ht=!0))}function Ky(n,i,o,l){Ne=n;var f=0;do{if(no&&(ro=null),El=0,no=!1,25<=f)throw Error(a(301));if(f+=1,Dt=et=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=UA,m=i(o,l)}while(no);return m}function NA(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?Tl(i):i,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Ne.flags|=1024),i}function yd(){var n=vc!==0;return vc=0,n}function vd(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function _d(n){if(yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yc=!1}Hi=0,Dt=et=Ne=null,no=!1,El=vc=0,ro=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function Ot(){if(et===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var i=Dt===null?Ne.memoizedState:Dt.next;if(i!==null)Dt=i,et=n;else{if(n===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Dt===null?Ne.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(n){var i=El;return El+=1,ro===null&&(ro=[]),n=zy(ro,n,i),i=Ne,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Cv:Dv),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tl(n);if(n.$$typeof===W)return un(n)}throw Error(a(438,String(n)))}function Td(n){var i=null,o=Ne.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Ed(),Ne.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),l=0;l<n;l++)o[l]=P;return i.index++,o}function ci(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=Ot();return bd(i,et,n)}function bd(n,i,o){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=o;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var T=E=null,D=null,H=i,X=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Be&te)===te:(Hi&te)===te){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Js&&(X=!0);else if((Hi&F)===F){H=H.next,F===Js&&(X=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=te,E=m):D=D.next=te,Ne.lanes|=F,Wi|=F;te=H.action,rs&&o(m,te),m=H.hasEagerState?H.eagerState:o(m,te)}else F={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=F,E=m):D=D.next=F,Ne.lanes|=te,Wi|=te;H=H.next}while(H!==null&&H!==i);if(D===null?E=m:D.next=T,!Dn(m,n.memoizedState)&&(Ht=!0,X&&(o=eo,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function wd(n){var i=Ot(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var l=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);Dn(m,i.memoizedState)||(Ht=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,l]}function $y(n,i,o){var l=Ne,f=Ot(),m=Ke;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var E=!Dn((et||f).memoizedState,o);E&&(f.memoizedState=o,Ht=!0),f=f.queue;var T=Xy.bind(null,l,f,n);if(bl(2048,8,T,[n]),f.getSnapshot!==i||E||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,io(9,Tc(),Wy.bind(null,l,f,o,i),null),ot===null)throw Error(a(349));m||(Hi&124)!==0||Qy(l,i,o)}return o}function Qy(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ne.updateQueue,i===null?(i=Ed(),Ne.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Wy(n,i,o,l){i.value=o,i.getSnapshot=l,Zy(i)&&Jy(n)}function Xy(n,i,o){return o(function(){Zy(i)&&Jy(n)})}function Zy(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Dn(n,o)}catch{return!0}}function Jy(n){var i=Qs(n,2);i!==null&&kn(i,n,2)}function Sd(n){var i=Tn();if(typeof n=="function"){var o=n;if(n=o(),rs){pn(!0);try{o()}finally{pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:n},i}function ev(n,i,o,l){return n.baseState=o,bd(n,et,typeof l=="function"?l:ci)}function xA(n,i,o,l,f){if(wc(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};K.T!==null?o(!0):m.isTransition=!1,l(m),o=i.pending,o===null?(m.next=i.pending=m,tv(i,m)):(m.next=o.next,i.pending=o.next=m)}}function tv(n,i){var o=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=K.T,E={};K.T=E;try{var T=o(f,l),D=K.S;D!==null&&D(E,T),nv(n,i,T)}catch(H){Ad(n,i,H)}finally{K.T=m}}else try{m=o(f,l),nv(n,i,m)}catch(H){Ad(n,i,H)}}function nv(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){rv(n,i,l)},function(l){return Ad(n,i,l)}):rv(n,i,o)}function rv(n,i,o){i.status="fulfilled",i.value=o,iv(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,tv(n,o)))}function Ad(n,i,o){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,iv(i),i=i.next;while(i!==l)}n.action=null}function iv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function av(n,i){return i}function sv(n,i){if(Ke){var o=ot.formState;if(o!==null){e:{var l=Ne;if(Ke){if(vt){t:{for(var f=vt,m=Nr;f.nodeType!==8;){if(!m){f=null;break t}if(f=dr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){vt=dr(f.nextSibling),l=f.data==="F!";break e}}Ja(l)}l=!1}l&&(i=o[0])}}return o=Tn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:i},o.queue=l,o=Av.bind(null,Ne,l),l.dispatch=o,l=Sd(!1),m=Od.bind(null,Ne,!1,l.queue),l=Tn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,o=xA.bind(null,Ne,f,m,o),f.dispatch=o,l.memoizedState=n,[i,o,!1]}function ov(n){var i=Ot();return lv(i,et,n)}function lv(n,i,o){if(i=bd(n,i,av)[0],n=Ec(ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(E){throw E===pl?mc:E}else l=i;i=Ot();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(Ne.flags|=2048,io(9,Tc(),MA.bind(null,f,o),null)),[l,m,n]}function MA(n,i){n.action=i}function uv(n){var i=Ot(),o=et;if(o!==null)return lv(i,o,n);Ot(),i=i.memoizedState,o=Ot();var l=o.queue.dispatch;return o.memoizedState=n,[i,l,!1]}function io(n,i,o,l){return n={tag:n,create:o,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Ed(),Ne.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,i.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function cv(){return Ot().memoizedState}function bc(n,i,o,l){var f=Tn();l=l===void 0?null:l,Ne.flags|=n,f.memoizedState=io(1|i,Tc(),o,l)}function bl(n,i,o,l){var f=Ot();l=l===void 0?null:l;var m=f.memoizedState.inst;et!==null&&l!==null&&pd(l,et.memoizedState.deps)?f.memoizedState=io(i,m,o,l):(Ne.flags|=n,f.memoizedState=io(1|i,m,o,l))}function hv(n,i){bc(8390656,8,n,i)}function fv(n,i){bl(2048,8,n,i)}function dv(n,i){return bl(4,2,n,i)}function mv(n,i){return bl(4,4,n,i)}function pv(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function gv(n,i,o){o=o!=null?o.concat([n]):null,bl(4,4,pv.bind(null,i,n),o)}function Rd(){}function yv(n,i){var o=Ot();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&pd(i,l[1])?l[0]:(o.memoizedState=[n,i],n)}function vv(n,i){var o=Ot();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&pd(i,l[1]))return l[0];if(l=n(),rs){pn(!0);try{n()}finally{pn(!1)}}return o.memoizedState=[l,i],l}function Id(n,i,o){return o===void 0||(Hi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=T_(),Ne.lanes|=n,Wi|=n,o)}function _v(n,i,o,l){return Dn(o,i)?o:to.current!==null?(n=Id(n,o,l),Dn(n,i)||(Ht=!0),n):(Hi&42)===0?(Ht=!0,n.memoizedState=o):(n=T_(),Ne.lanes|=n,Wi|=n,i)}function Ev(n,i,o,l,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var E=K.T,T={};K.T=T,Od(n,!1,i,o);try{var D=f(),H=K.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=DA(D,l);wl(n,i,X,Pn(n))}else wl(n,i,l,Pn(n))}catch(te){wl(n,i,{then:function(){},status:"rejected",reason:te},Pn())}finally{ue.p=m,K.T=E}}function PA(){}function Cd(n,i,o,l){if(n.tag!==5)throw Error(a(476));var f=Tv(n).queue;Ev(n,f,i,me,o===null?PA:function(){return bv(n),o(l)})}function Tv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function bv(n){var i=Tv(n).next.queue;wl(n,i,{},Pn())}function Dd(){return un(Bl)}function wv(){return Ot().memoizedState}function Sv(){return Ot().memoizedState}function kA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Pn();n=Bi(o);var l=qi(i,n,o);l!==null&&(kn(l,i,o),yl(l,i,o)),i={cache:ad()},n.payload=i;return}i=i.return}}function VA(n,i,o){var l=Pn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wc(n)?Rv(i,o):(o=Qf(n,i,o,l),o!==null&&(kn(o,n,l),Iv(o,i,l)))}function Av(n,i,o){var l=Pn();wl(n,i,o,l)}function wl(n,i,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wc(n))Rv(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,T=m(E,o);if(f.hasEagerState=!0,f.eagerState=T,Dn(T,E))return sc(n,i,f,0),ot===null&&ac(),!1}catch{}finally{}if(o=Qf(n,i,f,l),o!==null)return kn(o,n,l),Iv(o,i,l),!0}return!1}function Od(n,i,o,l){if(l={lane:2,revertLane:lm(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(a(479))}else i=Qf(n,o,l,2),i!==null&&kn(i,n,2)}function wc(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function Rv(n,i){no=yc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Iv(n,i,o){if((o&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,o|=l,i.lanes=o,Tr(n,o)}}var Sc={readContext:un,use:_c,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},Cv={readContext:un,use:_c,useCallback:function(n,i){return Tn().memoizedState=[n,i===void 0?null:i],n},useContext:un,useEffect:hv,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,bc(4194308,4,pv.bind(null,i,n),o)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var o=Tn();i=i===void 0?null:i;var l=n();if(rs){pn(!0);try{n()}finally{pn(!1)}}return o.memoizedState=[l,i],l},useReducer:function(n,i,o){var l=Tn();if(o!==void 0){var f=o(i);if(rs){pn(!0);try{o(i)}finally{pn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=VA.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=Tn();return n={current:n},i.memoizedState=n},useState:function(n){n=Sd(n);var i=n.queue,o=Av.bind(null,Ne,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Rd,useDeferredValue:function(n,i){var o=Tn();return Id(o,n,i)},useTransition:function(){var n=Sd(!1);return n=Ev.bind(null,Ne,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var l=Ne,f=Tn();if(Ke){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),ot===null)throw Error(a(349));(Be&124)!==0||Qy(l,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,hv(Xy.bind(null,l,m,n),[n]),l.flags|=2048,io(9,Tc(),Wy.bind(null,l,m,o,i),null),o},useId:function(){var n=Tn(),i=ot.identifierPrefix;if(Ke){var o=oi,l=si;o=(l&~(1<<32-Rt(l)-1)).toString(32)+o,i="«"+i+"R"+o,o=vc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=OA++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Dd,useFormState:sv,useActionState:sv,useOptimistic:function(n){var i=Tn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Od.bind(null,Ne,!0,o),o.dispatch=i,[n,i]},useMemoCache:Td,useCacheRefresh:function(){return Tn().memoizedState=kA.bind(null,Ne)}},Dv={readContext:un,use:_c,useCallback:yv,useContext:un,useEffect:fv,useImperativeHandle:gv,useInsertionEffect:dv,useLayoutEffect:mv,useMemo:vv,useReducer:Ec,useRef:cv,useState:function(){return Ec(ci)},useDebugValue:Rd,useDeferredValue:function(n,i){var o=Ot();return _v(o,et.memoizedState,n,i)},useTransition:function(){var n=Ec(ci)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:$y,useId:wv,useHostTransitionStatus:Dd,useFormState:ov,useActionState:ov,useOptimistic:function(n,i){var o=Ot();return ev(o,et,n,i)},useMemoCache:Td,useCacheRefresh:Sv},UA={readContext:un,use:_c,useCallback:yv,useContext:un,useEffect:fv,useImperativeHandle:gv,useInsertionEffect:dv,useLayoutEffect:mv,useMemo:vv,useReducer:wd,useRef:cv,useState:function(){return wd(ci)},useDebugValue:Rd,useDeferredValue:function(n,i){var o=Ot();return et===null?Id(o,n,i):_v(o,et.memoizedState,n,i)},useTransition:function(){var n=wd(ci)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:$y,useId:wv,useHostTransitionStatus:Dd,useFormState:uv,useActionState:uv,useOptimistic:function(n,i){var o=Ot();return et!==null?ev(o,et,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Td,useCacheRefresh:Sv},ao=null,Sl=0;function Ac(n){var i=Sl;return Sl+=1,ao===null&&(ao=[]),zy(ao,n,i)}function Al(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ov(n){var i=n._init;return i(n._payload)}function Nv(n){function i(z,U){if(n){var q=z.deletions;q===null?(z.deletions=[U],z.flags|=16):q.push(U)}}function o(z,U){if(!n)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=ai(z,U),z.index=0,z.sibling=null,z}function m(z,U,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<U?(z.flags|=67108866,U):q):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function T(z,U,q,Z){return U===null||U.tag!==6?(U=Xf(q,z.mode,Z),U.return=z,U):(U=f(U,q),U.return=z,U)}function D(z,U,q,Z){var fe=q.type;return fe===A?X(z,U,q.props.children,Z,q.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ov(fe)===U.type)?(U=f(U,q.props),Al(U,q),U.return=z,U):(U=lc(q.type,q.key,q.props,null,z.mode,Z),Al(U,q),U.return=z,U)}function H(z,U,q,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Zf(q,z.mode,Z),U.return=z,U):(U=f(U,q.children||[]),U.return=z,U)}function X(z,U,q,Z,fe){return U===null||U.tag!==7?(U=Qa(q,z.mode,Z,fe),U.return=z,U):(U=f(U,q),U.return=z,U)}function te(z,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Xf(""+U,z.mode,q),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return q=lc(U.type,U.key,U.props,null,z.mode,q),Al(q,U),q.return=z,q;case I:return U=Zf(U,z.mode,q),U.return=z,U;case R:var Z=U._init;return U=Z(U._payload),te(z,U,q)}if(Ze(U)||L(U))return U=Qa(U,z.mode,q,null),U.return=z,U;if(typeof U.then=="function")return te(z,Ac(U),q);if(U.$$typeof===W)return te(z,fc(z,U),q);Rc(z,U)}return null}function F(z,U,q,Z){var fe=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:T(z,U,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===fe?D(z,U,q,Z):null;case I:return q.key===fe?H(z,U,q,Z):null;case R:return fe=q._init,q=fe(q._payload),F(z,U,q,Z)}if(Ze(q)||L(q))return fe!==null?null:X(z,U,q,Z,null);if(typeof q.then=="function")return F(z,U,Ac(q),Z);if(q.$$typeof===W)return F(z,U,fc(z,q),Z);Rc(z,q)}return null}function G(z,U,q,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,T(U,z,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return z=z.get(Z.key===null?q:Z.key)||null,D(U,z,Z,fe);case I:return z=z.get(Z.key===null?q:Z.key)||null,H(U,z,Z,fe);case R:var Pe=Z._init;return Z=Pe(Z._payload),G(z,U,q,Z,fe)}if(Ze(Z)||L(Z))return z=z.get(q)||null,X(U,z,Z,fe,null);if(typeof Z.then=="function")return G(z,U,q,Ac(Z),fe);if(Z.$$typeof===W)return G(z,U,q,fc(U,Z),fe);Rc(U,Z)}return null}function we(z,U,q,Z){for(var fe=null,Pe=null,ge=U,Ee=U=0,Gt=null;ge!==null&&Ee<q.length;Ee++){ge.index>Ee?(Gt=ge,ge=null):Gt=ge.sibling;var Ge=F(z,ge,q[Ee],Z);if(Ge===null){ge===null&&(ge=Gt);break}n&&ge&&Ge.alternate===null&&i(z,ge),U=m(Ge,U,Ee),Pe===null?fe=Ge:Pe.sibling=Ge,Pe=Ge,ge=Gt}if(Ee===q.length)return o(z,ge),Ke&&Xa(z,Ee),fe;if(ge===null){for(;Ee<q.length;Ee++)ge=te(z,q[Ee],Z),ge!==null&&(U=m(ge,U,Ee),Pe===null?fe=ge:Pe.sibling=ge,Pe=ge);return Ke&&Xa(z,Ee),fe}for(ge=l(ge);Ee<q.length;Ee++)Gt=G(ge,z,Ee,q[Ee],Z),Gt!==null&&(n&&Gt.alternate!==null&&ge.delete(Gt.key===null?Ee:Gt.key),U=m(Gt,U,Ee),Pe===null?fe=Gt:Pe.sibling=Gt,Pe=Gt);return n&&ge.forEach(function(aa){return i(z,aa)}),Ke&&Xa(z,Ee),fe}function _e(z,U,q,Z){if(q==null)throw Error(a(151));for(var fe=null,Pe=null,ge=U,Ee=U=0,Gt=null,Ge=q.next();ge!==null&&!Ge.done;Ee++,Ge=q.next()){ge.index>Ee?(Gt=ge,ge=null):Gt=ge.sibling;var aa=F(z,ge,Ge.value,Z);if(aa===null){ge===null&&(ge=Gt);break}n&&ge&&aa.alternate===null&&i(z,ge),U=m(aa,U,Ee),Pe===null?fe=aa:Pe.sibling=aa,Pe=aa,ge=Gt}if(Ge.done)return o(z,ge),Ke&&Xa(z,Ee),fe;if(ge===null){for(;!Ge.done;Ee++,Ge=q.next())Ge=te(z,Ge.value,Z),Ge!==null&&(U=m(Ge,U,Ee),Pe===null?fe=Ge:Pe.sibling=Ge,Pe=Ge);return Ke&&Xa(z,Ee),fe}for(ge=l(ge);!Ge.done;Ee++,Ge=q.next())Ge=G(ge,z,Ee,Ge.value,Z),Ge!==null&&(n&&Ge.alternate!==null&&ge.delete(Ge.key===null?Ee:Ge.key),U=m(Ge,U,Ee),Pe===null?fe=Ge:Pe.sibling=Ge,Pe=Ge);return n&&ge.forEach(function(LR){return i(z,LR)}),Ke&&Xa(z,Ee),fe}function nt(z,U,q,Z){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var fe=q.key;U!==null;){if(U.key===fe){if(fe=q.type,fe===A){if(U.tag===7){o(z,U.sibling),Z=f(U,q.props.children),Z.return=z,z=Z;break e}}else if(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ov(fe)===U.type){o(z,U.sibling),Z=f(U,q.props),Al(Z,q),Z.return=z,z=Z;break e}o(z,U);break}else i(z,U);U=U.sibling}q.type===A?(Z=Qa(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=lc(q.type,q.key,q.props,null,z.mode,Z),Al(Z,q),Z.return=z,z=Z)}return E(z);case I:e:{for(fe=q.key;U!==null;){if(U.key===fe)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){o(z,U.sibling),Z=f(U,q.children||[]),Z.return=z,z=Z;break e}else{o(z,U);break}else i(z,U);U=U.sibling}Z=Zf(q,z.mode,Z),Z.return=z,z=Z}return E(z);case R:return fe=q._init,q=fe(q._payload),nt(z,U,q,Z)}if(Ze(q))return we(z,U,q,Z);if(L(q)){if(fe=L(q),typeof fe!="function")throw Error(a(150));return q=fe.call(q),_e(z,U,q,Z)}if(typeof q.then=="function")return nt(z,U,Ac(q),Z);if(q.$$typeof===W)return nt(z,U,fc(z,q),Z);Rc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(o(z,U.sibling),Z=f(U,q),Z.return=z,z=Z):(o(z,U),Z=Xf(q,z.mode,Z),Z.return=z,z=Z),E(z)):o(z,U)}return function(z,U,q,Z){try{Sl=0;var fe=nt(z,U,q,Z);return ao=null,fe}catch(ge){if(ge===pl||ge===mc)throw ge;var Pe=On(29,ge,null,z.mode);return Pe.lanes=Z,Pe.return=z,Pe}finally{}}}var so=Nv(!0),xv=Nv(!1),Xn=ee(null),xr=null;function Fi(n){var i=n.alternate;ae(Ut,Ut.current&1),ae(Xn,n),xr===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(xr=n)}function Mv(n){if(n.tag===22){if(ae(Ut,Ut.current),ae(Xn,n),xr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(xr=n)}}else Gi()}function Gi(){ae(Ut,Ut.current),ae(Xn,Xn.current)}function hi(n){oe(Xn),xr===n&&(xr=null),oe(Ut)}var Ut=ee(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Em(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nd(n,i,o,l){i=n.memoizedState,o=o(l,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var xd={enqueueSetState:function(n,i,o){n=n._reactInternals;var l=Pn(),f=Bi(l);f.payload=i,o!=null&&(f.callback=o),i=qi(n,f,l),i!==null&&(kn(i,n,l),yl(i,n,l))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var l=Pn(),f=Bi(l);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=qi(n,f,l),i!==null&&(kn(i,n,l),yl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Pn(),l=Bi(o);l.tag=2,i!=null&&(l.callback=i),i=qi(n,l,o),i!==null&&(kn(i,n,o),yl(i,n,o))}};function Pv(n,i,o,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!ol(o,l)||!ol(f,m):!0}function kv(n,i,o,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==n&&xd.enqueueReplaceState(i,i.state,null)}function is(n,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Vv(n){Cc(n)}function Uv(n){console.error(n)}function Lv(n){Cc(n)}function Dc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jv(n,i,o){try{var l=n.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Md(n,i,o){return o=Bi(o),o.tag=3,o.payload={element:null},o.callback=function(){Dc(n,i)},o}function zv(n){return n=Bi(n),n.tag=3,n}function Bv(n,i,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){jv(i,o,l)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){jv(i,o,l),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LA(n,i,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&fl(i,o,f,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return xr===null?rm():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===ld?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),am(n,l,f)),!1;case 22:return o.flags|=65536,l===ld?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),am(n,l,f)),!1}throw Error(a(435,o.tag))}return am(n,l,f),rm(),!1}if(Ke)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==td&&(n=Error(a(422),{cause:l}),hl(Kn(n,o)))):(l!==td&&(i=Error(a(423),{cause:l}),hl(Kn(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Kn(l,o),f=Md(n.stateNode,l,f),hd(n,f),_t!==4&&(_t=2)),!1;var m=Error(a(520),{cause:l});if(m=Kn(m,o),xl===null?xl=[m]:xl.push(m),_t!==4&&(_t=2),i===null)return!0;l=Kn(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Md(o.stateNode,l,n),hd(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xi===null||!Xi.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=zv(f),Bv(f,n,o,l),hd(o,f),!1}o=o.return}while(o!==null);return!1}var qv=Error(a(461)),Ht=!1;function tn(n,i,o,l){i.child=n===null?xv(i,null,o,l):so(i,n.child,o,l)}function Hv(n,i,o,l,f){o=o.render;var m=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ts(i),l=gd(n,i,o,E,m,f),T=yd(),n!==null&&!Ht?(vd(n,i,f),fi(n,i,f)):(Ke&&T&&Jf(i),i.flags|=1,tn(n,i,l,f),i.child)}function Fv(n,i,o,l,f){if(n===null){var m=o.type;return typeof m=="function"&&!Wf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Gv(n,i,m,l,f)):(n=lc(o.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Bd(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:ol,o(E,l)&&n.ref===i.ref)return fi(n,i,f)}return i.flags|=1,n=ai(m,l),n.ref=i.ref,n.return=i,i.child=n}function Gv(n,i,o,l,f){if(n!==null){var m=n.memoizedProps;if(ol(m,l)&&n.ref===i.ref)if(Ht=!1,i.pendingProps=l=m,Bd(n,f))(n.flags&131072)!==0&&(Ht=!0);else return i.lanes=n.lanes,fi(n,i,f)}return Pd(n,i,o,l,f)}function Yv(n,i,o){var l=i.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|o:o,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Kv(n,i,l,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,m!==null?m.cachePool:null),m!==null?Gy(i,m):dd(),Mv(i);else return i.lanes=i.childLanes=536870912,Kv(n,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(dc(i,m.cachePool),Gy(i,m),Gi(),i.memoizedState=null):(n!==null&&dc(i,null),dd(),Gi());return tn(n,i,f,o),i.child}function Kv(n,i,o,l){var f=od();return f=f===null?null:{parent:Vt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&dc(i,null),dd(),Mv(i),n!==null&&fl(n,i,l,!0),null}function Oc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Pd(n,i,o,l,f){return ts(i),o=gd(n,i,o,l,void 0,f),l=yd(),n!==null&&!Ht?(vd(n,i,f),fi(n,i,f)):(Ke&&l&&Jf(i),i.flags|=1,tn(n,i,o,f),i.child)}function $v(n,i,o,l,f,m){return ts(i),i.updateQueue=null,o=Ky(i,l,o,f),Yy(n),l=yd(),n!==null&&!Ht?(vd(n,i,m),fi(n,i,m)):(Ke&&l&&Jf(i),i.flags|=1,tn(n,i,o,m),i.child)}function Qv(n,i,o,l,f){if(ts(i),i.stateNode===null){var m=Ws,E=o.contextType;typeof E=="object"&&E!==null&&(m=un(E)),m=new o(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=xd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},ud(i),E=o.contextType,m.context=typeof E=="object"&&E!==null?un(E):Ws,m.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Nd(i,o,E,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&xd.enqueueReplaceState(m,m.state,null),_l(i,l,m,f),vl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,D=is(o,T);m.props=D;var H=m.context,X=o.contextType;E=Ws,typeof X=="object"&&X!==null&&(E=un(X));var te=o.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||H!==E)&&kv(i,m,l,E),zi=!1;var F=i.memoizedState;m.state=F,_l(i,l,m,f),vl(),H=i.memoizedState,T||F!==H||zi?(typeof te=="function"&&(Nd(i,o,te,l),H=i.memoizedState),(D=zi||Pv(i,o,D,l,F,H,E))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=E,l=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,cd(n,i),E=i.memoizedProps,X=is(o,E),m.props=X,te=i.pendingProps,F=m.context,H=o.contextType,D=Ws,typeof H=="object"&&H!==null&&(D=un(H)),T=o.getDerivedStateFromProps,(H=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==te||F!==D)&&kv(i,m,l,D),zi=!1,F=i.memoizedState,m.state=F,_l(i,l,m,f),vl();var G=i.memoizedState;E!==te||F!==G||zi||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof T=="function"&&(Nd(i,o,T,l),G=i.memoizedState),(X=zi||Pv(i,o,X,l,F,G,D)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),m.props=l,m.state=G,m.context=D,l=X):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Oc(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=so(i,n.child,null,f),i.child=so(i,null,o,f)):tn(n,i,o,f),i.memoizedState=m.state,n=i.child):n=fi(n,i,f),n}function Wv(n,i,o,l){return cl(),i.flags|=256,tn(n,i,o,l),i.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(n){return{baseLanes:n,cachePool:Uy()}}function Ud(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Zn),n}function Xv(n,i,o){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ke){if(f?Fi(i):Gi(),Ke){var T=vt,D;if(D=T){e:{for(D=T,T=Nr;D.nodeType!==8;){if(!T){T=null;break e}if(D=dr(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:Wa!==null?{id:si,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},D=On(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,_n=i,vt=null,D=!0):D=!1}D||Ja(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Em(T)?i.lanes=32:i.lanes=536870912,null;hi(i)}return T=l.children,l=l.fallback,f?(Gi(),f=i.mode,T=Nc({mode:"hidden",children:T},f),l=Qa(l,f,o,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Vd(o),f.childLanes=Ud(n,E,o),i.memoizedState=kd,l):(Fi(i),Ld(i,T))}if(D=n.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(m)i.flags&256?(Fi(i),i.flags&=-257,i=jd(n,i,o)):i.memoizedState!==null?(Gi(),i.child=n.child,i.flags|=128,i=null):(Gi(),f=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),f=Qa(f,T,o,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,so(i,n.child,null,o),l=i.child,l.memoizedState=Vd(o),l.childLanes=Ud(n,E,o),i.memoizedState=kd,i=f);else if(Fi(i),Em(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(a(419)),l.stack="",l.digest=E,hl({value:l,source:null,stack:null}),i=jd(n,i,o)}else if(Ht||fl(n,i,o,!1),E=(o&n.childLanes)!==0,Ht||E){if(E=ot,E!==null&&(l=o&-o,l=(l&42)!==0?1:Fe(l),l=(l&(E.suspendedLanes|o))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Qs(n,l),kn(E,n,l),qv;T.data==="$?"||rm(),i=jd(n,i,o)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,vt=dr(T.nextSibling),_n=i,Ke=!0,Za=null,Nr=!1,n!==null&&(Qn[Wn++]=si,Qn[Wn++]=oi,Qn[Wn++]=Wa,si=n.id,oi=n.overflow,Wa=i),i=Ld(i,l.children),i.flags|=4096);return i}return f?(Gi(),f=l.fallback,T=i.mode,D=n.child,H=D.sibling,l=ai(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?f=ai(H,f):(f=Qa(f,T,o,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=Vd(o):(D=T.cachePool,D!==null?(H=Vt._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=Uy(),T={baseLanes:T.baseLanes|o,cachePool:D}),f.memoizedState=T,f.childLanes=Ud(n,E,o),i.memoizedState=kd,l):(Fi(i),o=n.child,n=o.sibling,o=ai(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function Ld(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=On(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function jd(n,i,o){return so(i,n.child,null,o),n=Ld(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Zv(n,i,o){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),rd(n.return,i,o)}function zd(n,i,o,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function Jv(n,i,o){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(tn(n,i,l.children,o),l=Ut.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zv(n,o,i);else if(n.tag===19)Zv(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ae(Ut,l),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Ic(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),zd(i,!1,f,o,m);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}zd(i,!0,o,null,m);break;case"together":zd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fi(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Wi|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(fl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=ai(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ai(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Bd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function jA(n,i,o){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),ji(i,Vt,n.memoizedState.cache),cl();break;case 27:case 5:Un(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:ji(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Xv(n,i,o):(Fi(i),n=fi(n,i,o),n!==null?n.sibling:null);Fi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(fl(n,i,o,!1),l=(o&i.childLanes)!==0),f){if(l)return Jv(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Ut,Ut.current),l)break;return null;case 22:case 23:return i.lanes=0,Yv(n,i,o);case 24:ji(i,Vt,n.memoizedState.cache)}return fi(n,i,o)}function e_(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ht=!0;else{if(!Bd(n,o)&&(i.flags&128)===0)return Ht=!1,jA(n,i,o);Ht=(n.flags&131072)!==0}else Ht=!1,Ke&&(i.flags&1048576)!==0&&Oy(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Wf(l)?(n=is(l,n),i.tag=1,i=Qv(null,i,l,n,o)):(i.tag=0,i=Pd(null,i,l,n,o));else{if(l!=null){if(f=l.$$typeof,f===ie){i.tag=11,i=Hv(null,i,l,n,o);break e}else if(f===N){i.tag=14,i=Fv(null,i,l,n,o);break e}}throw i=st(l)||l,Error(a(306,i,""))}}return i;case 0:return Pd(n,i,i.type,i.pendingProps,o);case 1:return l=i.type,f=is(l,i.pendingProps),Qv(n,i,l,f,o);case 3:e:{if(He(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,cd(n,i),_l(i,l,null,o);var E=i.memoizedState;if(l=E.cache,ji(i,Vt,l),l!==m.cache&&id(i,[Vt],o,!0),vl(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Wv(n,i,l,o);break e}else if(l!==f){f=Kn(Error(a(424)),i),hl(f),i=Wv(n,i,l,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=dr(n.firstChild),_n=i,Ke=!0,Za=null,Nr=!0,o=xv(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cl(),l===f){i=fi(n,i,o);break e}tn(n,i,l,o)}i=i.child}return i;case 26:return Oc(n,i),n===null?(o=iE(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ke||(o=i.type,n=i.pendingProps,l=Gc(ve.current).createElement(o),l[yt]=i,l[ft]=n,rn(l,o,n),Ce(l),i.stateNode=l):i.memoizedState=iE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Un(i),n===null&&Ke&&(l=i.stateNode=tE(i.type,i.pendingProps,ve.current),_n=i,Nr=!0,f=vt,ea(i.type)?(Tm=f,vt=dr(l.firstChild)):vt=f),tn(n,i,i.pendingProps.children,o),Oc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ke&&((f=l=vt)&&(l=dR(l,i.type,i.pendingProps,Nr),l!==null?(i.stateNode=l,_n=i,vt=dr(l.firstChild),Nr=!1,f=!0):f=!1),f||Ja(i)),Un(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,ym(f,m)?l=null:E!==null&&ym(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=gd(n,i,NA,null,null,o),Bl._currentValue=f),Oc(n,i),tn(n,i,l,o),i.child;case 6:return n===null&&Ke&&((n=o=vt)&&(o=mR(o,i.pendingProps,Nr),o!==null?(i.stateNode=o,_n=i,vt=null,n=!0):n=!1),n||Ja(i)),null;case 13:return Xv(n,i,o);case 4:return He(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=so(i,null,l,o):tn(n,i,l,o),i.child;case 11:return Hv(n,i,i.type,i.pendingProps,o);case 7:return tn(n,i,i.pendingProps,o),i.child;case 8:return tn(n,i,i.pendingProps.children,o),i.child;case 12:return tn(n,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,ji(i,i.type,l.value),tn(n,i,l.children,o),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ts(i),f=un(f),l=l(f),i.flags|=1,tn(n,i,l,o),i.child;case 14:return Fv(n,i,i.type,i.pendingProps,o);case 15:return Gv(n,i,i.type,i.pendingProps,o);case 19:return Jv(n,i,o);case 31:return l=i.pendingProps,o=i.mode,l={mode:l.mode,children:l.children},n===null?(o=Nc(l,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=ai(n.child,l),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Yv(n,i,o);case 24:return ts(i),l=un(Vt),n===null?(f=od(),f===null&&(f=ot,m=ad(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:l,cache:f},ud(i),ji(i,Vt,f)):((n.lanes&o)!==0&&(cd(n,i),_l(i,null,null,o),vl()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ji(i,Vt,l)):(l=m.cache,ji(i,Vt,l),l!==f.cache&&id(i,[Vt],o,!0))),tn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function di(n){n.flags|=4}function t_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!uE(i)){if(i=Xn.current,i!==null&&((Be&4194048)===Be?xr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==xr))throw gl=ld,Ly;n.flags|=8192}}function xc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Pi():536870912,n.lanes|=i,co|=i)}function Rl(n,i){if(!Ke)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function pt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=o,i}function zA(n,i,o){var l=i.pendingProps;switch(ed(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return o=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ui(Vt),Mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ul(i)?di(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,My())),pt(i),null;case 26:return o=i.memoizedState,n===null?(di(i),o!==null?(pt(i),t_(i,o)):(pt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(di(i),pt(i),t_(i,o)):(pt(i),i.flags&=-16777217):(n.memoizedProps!==l&&di(i),pt(i),i.flags&=-16777217),null;case 27:Rn(i),o=ve.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&di(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return pt(i),null}n=pe.current,ul(i)?Ny(i):(n=tE(f,l,o),i.stateNode=n,di(i))}return pt(i),null;case 5:if(Rn(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&di(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return pt(i),null}if(n=pe.current,ul(i))Ny(i);else{switch(f=Gc(ve.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}n[yt]=i,n[ft]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(rn(n,o,l),o){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&di(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&di(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=ve.current,ul(i)){if(n=i.stateNode,o=i.memoizedProps,l=null,f=_n,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[yt]=i,n=!!(n.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||$_(n.nodeValue,o)),n||Ja(i)}else n=Gc(n).createTextNode(l),n[yt]=i,i.stateNode=n}return pt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[yt]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),f=!1}else f=My(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(hi(i),i):(hi(i),null)}if(hi(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=l!==null,n=n!==null&&n.memoizedState!==null,o){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),xc(i,i.updateQueue),pt(i),null;case 4:return Mt(),n===null&&fm(i.stateNode.containerInfo),pt(i),null;case 10:return ui(i.type),pt(i),null;case 19:if(oe(Ut),f=i.memoizedState,f===null)return pt(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)Rl(f,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Ic(n),m!==null){for(i.flags|=128,Rl(f,!1),n=m.updateQueue,i.updateQueue=n,xc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Dy(o,n),o=o.sibling;return ae(Ut,Ut.current&1|2),i.child}n=n.sibling}f.tail!==null&&Qt()>kc&&(i.flags|=128,l=!0,Rl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Ic(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,xc(i,n),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return pt(i),null}else 2*Qt()-f.renderingStartTime>kc&&o!==536870912&&(i.flags|=128,l=!0,Rl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Qt(),i.sibling=null,n=Ut.current,ae(Ut,l?n&1|2:n&1),i):(pt(i),null);case 22:case 23:return hi(i),md(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),o=i.updateQueue,o!==null&&xc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),n!==null&&oe(ns),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ui(Vt),pt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function BA(n,i){switch(ed(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ui(Vt),Mt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Rn(i),null;case 13:if(hi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));cl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return oe(Ut),null;case 4:return Mt(),null;case 10:return ui(i.type),null;case 22:case 23:return hi(i),md(),n!==null&&oe(ns),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ui(Vt),null;case 25:return null;default:return null}}function n_(n,i){switch(ed(i),i.tag){case 3:ui(Vt),Mt();break;case 26:case 27:case 5:Rn(i);break;case 4:Mt();break;case 13:hi(i);break;case 19:oe(Ut);break;case 10:ui(i.type);break;case 22:case 23:hi(i),md(),n!==null&&oe(ns);break;case 24:ui(Vt)}}function Il(n,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&n)===n){l=void 0;var m=o.create,E=o.inst;l=m(),E.destroy=l}o=o.next}while(o!==f)}}catch(T){at(i,i.return,T)}}function Yi(n,i,o){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var D=o,H=T;try{H()}catch(X){at(f,D,X)}}}l=l.next}while(l!==m)}}catch(X){at(i,i.return,X)}}function r_(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Fy(i,o)}catch(l){at(n,n.return,l)}}}function i_(n,i,o){o.props=is(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(l){at(n,i,l)}}function Cl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof o=="function"?n.refCleanup=o(l):o.current=l}}catch(f){at(n,i,f)}}function Mr(n,i){var o=n.ref,l=n.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){at(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){at(n,i,f)}else o.current=null}function a_(n){var i=n.type,o=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){at(n,n.return,f)}}function qd(n,i,o){try{var l=n.stateNode;lR(l,n.type,o,i),l[ft]=i}catch(f){at(n,n.return,f)}}function s_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ea(n.type)||n.tag===4}function Hd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||s_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ea(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fd(n,i,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&ea(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Fd(n,i,o),n=n.sibling;n!==null;)Fd(n,i,o),n=n.sibling}function Mc(n,i,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(l!==4&&(l===27&&ea(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Mc(n,i,o),n=n.sibling;n!==null;)Mc(n,i,o),n=n.sibling}function o_(n){var i=n.stateNode,o=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);rn(i,l,o),i[yt]=n,i[ft]=o}catch(m){at(n,n.return,m)}}var mi=!1,wt=!1,Gd=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function qA(n,i){if(n=n.containerInfo,pm=Xc,n=_y(n),Hf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,T=-1,D=-1,H=0,X=0,te=n,F=null;t:for(;;){for(var G;te!==o||f!==0&&te.nodeType!==3||(T=E+f),te!==m||l!==0&&te.nodeType!==3||(D=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===n)break t;if(F===o&&++H===f&&(T=E),F===m&&++X===l&&(D=E),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}o=T===-1||D===-1?null:{start:T,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(gm={focusedElem:n,selectionRange:o},Xc=!1,Ft=i;Ft!==null;)if(i=Ft,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ft=n;else for(;Ft!==null;){switch(i=Ft,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var we=is(o.type,f,o.elementType===o.type);n=l.getSnapshotBeforeUpdate(we,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){at(o,o.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)_m(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Ft=n;break}Ft=i.return}}function u_(n,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(n,o),l&4&&Il(5,o);break;case 1:if(Ki(n,o),l&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){at(o,o.return,E)}else{var f=is(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){at(o,o.return,E)}}l&64&&r_(o),l&512&&Cl(o,o.return);break;case 3:if(Ki(n,o),l&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Fy(n,i)}catch(E){at(o,o.return,E)}}break;case 27:i===null&&l&4&&o_(o);case 26:case 5:Ki(n,o),i===null&&l&4&&a_(o),l&512&&Cl(o,o.return);break;case 12:Ki(n,o);break;case 13:Ki(n,o),l&4&&f_(n,o),l&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=XA.bind(null,o),pR(n,o))));break;case 22:if(l=o.memoizedState!==null||mi,!l){i=i!==null&&i.memoizedState!==null||wt,f=mi;var m=wt;mi=l,(wt=i)&&!m?$i(n,o,(o.subtreeFlags&8772)!==0):Ki(n,o),mi=f,wt=m}break;case 30:break;default:Ki(n,o)}}function c_(n){var i=n.alternate;i!==null&&(n.alternate=null,c_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&or(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,bn=!1;function pi(n,i,o){for(o=o.child;o!==null;)h_(n,i,o),o=o.sibling}function h_(n,i,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,o)}catch{}switch(o.tag){case 26:wt||Mr(o,i),pi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Mr(o,i);var l=dt,f=bn;ea(o.type)&&(dt=o.stateNode,bn=!1),pi(n,i,o),Ul(o.stateNode),dt=l,bn=f;break;case 5:wt||Mr(o,i);case 6:if(l=dt,f=bn,dt=null,pi(n,i,o),dt=l,bn=f,dt!==null)if(bn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(m){at(o,i,m)}else try{dt.removeChild(o.stateNode)}catch(m){at(o,i,m)}break;case 18:dt!==null&&(bn?(n=dt,J_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Gl(n)):J_(dt,o.stateNode));break;case 4:l=dt,f=bn,dt=o.stateNode.containerInfo,bn=!0,pi(n,i,o),dt=l,bn=f;break;case 0:case 11:case 14:case 15:wt||Yi(2,o,i),wt||Yi(4,o,i),pi(n,i,o);break;case 1:wt||(Mr(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&i_(o,i,l)),pi(n,i,o);break;case 21:pi(n,i,o);break;case 22:wt=(l=wt)||o.memoizedState!==null,pi(n,i,o),wt=l;break;default:pi(n,i,o)}}function f_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(o){at(i,i.return,o)}}function HA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new l_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new l_),i;default:throw Error(a(435,n.tag))}}function Yd(n,i){var o=HA(n);i.forEach(function(l){var f=ZA.bind(null,n,l);o.has(l)||(o.add(l),l.then(f,f))})}function Nn(n,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],m=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ea(T.type)){dt=T.stateNode,bn=!1;break e}break;case 5:dt=T.stateNode,bn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(dt===null)throw Error(a(160));h_(m,E,f),dt=null,bn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)d_(i,n),i=i.sibling}var fr=null;function d_(n,i){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(i,n),xn(n),l&4&&(Yi(3,n,n.return),Il(3,n),Yi(5,n,n.return));break;case 1:Nn(i,n),xn(n),l&512&&(wt||o===null||Mr(o,o.return)),l&64&&mi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=fr;if(Nn(i,n),xn(n),l&512&&(wt||o===null||Mr(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=n.memoizedState,o===null)if(l===null)if(n.stateNode===null){e:{l=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[sr]||m[yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),rn(m,l,o),m[yt]=n,Ce(m),l=m;break e;case"link":var E=oE("link","href",f).get(l+(o.href||""));if(E){for(var T=0;T<E.length;T++)if(m=E[T],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(T,1);break t}}m=f.createElement(l),rn(m,l,o),f.head.appendChild(m);break;case"meta":if(E=oE("meta","content",f).get(l+(o.content||""))){for(T=0;T<E.length;T++)if(m=E[T],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(T,1);break t}}m=f.createElement(l),rn(m,l,o),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[yt]=n,Ce(m),l=m}n.stateNode=l}else lE(f,n.type,n.stateNode);else n.stateNode=sE(f,l,n.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?lE(f,n.type,n.stateNode):sE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&qd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Nn(i,n),xn(n),l&512&&(wt||o===null||Mr(o,o.return)),o!==null&&l&4&&qd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Nn(i,n),xn(n),l&512&&(wt||o===null||Mr(o,o.return)),n.flags&32){f=n.stateNode;try{Hn(f,"")}catch(G){at(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,qd(n,f,o!==null?o.memoizedProps:f)),l&1024&&(Gd=!0);break;case 6:if(Nn(i,n),xn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,o=n.stateNode;try{o.nodeValue=l}catch(G){at(n,n.return,G)}}break;case 3:if($c=null,f=fr,fr=Yc(i.containerInfo),Nn(i,n),fr=f,xn(n),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(G){at(n,n.return,G)}Gd&&(Gd=!1,m_(n));break;case 4:l=fr,fr=Yc(n.stateNode.containerInfo),Nn(i,n),xn(n),fr=l;break;case 12:Nn(i,n),xn(n);break;case 13:Nn(i,n),xn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zd=Qt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yd(n,l)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,H=mi,X=wt;if(mi=H||f,wt=X||D,Nn(i,n),wt=X,mi=H,xn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||D||mi||wt||as(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){D=o=i;try{if(m=D.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=D.stateNode;var te=D.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){at(D,D.return,G)}}}else if(i.tag===6){if(o===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(G){at(D,D.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Yd(n,o))));break;case 19:Nn(i,n),xn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yd(n,l)));break;case 30:break;case 21:break;default:Nn(i,n),xn(n)}}function xn(n){var i=n.flags;if(i&2){try{for(var o,l=n.return;l!==null;){if(s_(l)){o=l;break}l=l.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=Hd(n);Mc(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(Hn(E,""),o.flags&=-33);var T=Hd(n);Mc(n,T,E);break;case 3:case 4:var D=o.stateNode.containerInfo,H=Hd(n);Fd(n,H,D);break;default:throw Error(a(161))}}catch(X){at(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function m_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;m_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ki(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)u_(n,i.alternate,i),i=i.sibling}function as(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Yi(4,i,i.return),as(i);break;case 1:Mr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&i_(i,i.return,o),as(i);break;case 27:Ul(i.stateNode);case 26:case 5:Mr(i,i.return),as(i);break;case 22:i.memoizedState===null&&as(i);break;case 30:as(i);break;default:as(i)}n=n.sibling}}function $i(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:$i(f,m,o),Il(4,m);break;case 1:if($i(f,m,o),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){at(l,l.return,H)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Hy(D[f],T)}catch(H){at(l,l.return,H)}}o&&E&64&&r_(m),Cl(m,m.return);break;case 27:o_(m);case 26:case 5:$i(f,m,o),o&&l===null&&E&4&&a_(m),Cl(m,m.return);break;case 12:$i(f,m,o);break;case 13:$i(f,m,o),o&&E&4&&f_(f,m);break;case 22:m.memoizedState===null&&$i(f,m,o),Cl(m,m.return);break;case 30:break;default:$i(f,m,o)}i=i.sibling}}function Kd(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&dl(o))}function $d(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&dl(n))}function Pr(n,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(n,i,o,l),i=i.sibling}function p_(n,i,o,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Pr(n,i,o,l),f&2048&&Il(9,i);break;case 1:Pr(n,i,o,l);break;case 3:Pr(n,i,o,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&dl(n)));break;case 12:if(f&2048){Pr(n,i,o,l),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,T=m.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){at(i,i.return,D)}}else Pr(n,i,o,l);break;case 13:Pr(n,i,o,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Pr(n,i,o,l):Dl(n,i):m._visibility&2?Pr(n,i,o,l):(m._visibility|=2,oo(n,i,o,l,(i.subtreeFlags&10256)!==0)),f&2048&&Kd(E,i);break;case 24:Pr(n,i,o,l),f&2048&&$d(i.alternate,i);break;default:Pr(n,i,o,l)}}function oo(n,i,o,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,T=o,D=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:oo(m,E,T,D,f),Il(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?oo(m,E,T,D,f):Dl(m,E):(X._visibility|=2,oo(m,E,T,D,f)),f&&H&2048&&Kd(E.alternate,E);break;case 24:oo(m,E,T,D,f),f&&H&2048&&$d(E.alternate,E);break;default:oo(m,E,T,D,f)}i=i.sibling}}function Dl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,l=i,f=l.flags;switch(l.tag){case 22:Dl(o,l),f&2048&&Kd(l.alternate,l);break;case 24:Dl(o,l),f&2048&&$d(l.alternate,l);break;default:Dl(o,l)}i=i.sibling}}var Ol=8192;function lo(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)g_(n),n=n.sibling}function g_(n){switch(n.tag){case 26:lo(n),n.flags&Ol&&n.memoizedState!==null&&CR(fr,n.memoizedState,n.memoizedProps);break;case 5:lo(n);break;case 3:case 4:var i=fr;fr=Yc(n.stateNode.containerInfo),lo(n),fr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,lo(n),Ol=i):lo(n));break;default:lo(n)}}function y_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];Ft=l,__(l,n)}y_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)v_(n),n=n.sibling}function v_(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&Yi(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Pc(n)):Nl(n);break;default:Nl(n)}}function Pc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];Ft=l,__(l,n)}y_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Yi(8,i,i.return),Pc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Pc(i));break;default:Pc(i)}n=n.sibling}}function __(n,i){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Yi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Ft=l;else e:for(o=n;Ft!==null;){l=Ft;var f=l.sibling,m=l.return;if(c_(l),l===o){Ft=null;break e}if(f!==null){f.return=m,Ft=f;break e}Ft=m}}}var FA={getCacheForType:function(n){var i=un(Vt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},GA=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,ke=null,Be=0,Xe=0,Mn=null,Qi=!1,uo=!1,Qd=!1,gi=0,_t=0,Wi=0,ss=0,Wd=0,Zn=0,co=0,xl=null,wn=null,Xd=!1,Zd=0,kc=1/0,Vc=null,Xi=null,nn=0,Zi=null,ho=null,fo=0,Jd=0,em=null,E_=null,Ml=0,tm=null;function Pn(){if((We&2)!==0&&Be!==0)return Be&-Be;if(K.T!==null){var n=Js;return n!==0?n:lm()}return br()}function T_(){Zn===0&&(Zn=(Be&536870912)===0||Ke?xa():536870912);var n=Xn.current;return n!==null&&(n.flags|=32),Zn}function kn(n,i,o){(n===ot&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(mo(n,0),Ji(n,Be,Zn,!1)),zn(n,o),((We&2)===0||n!==ot)&&(n===ot&&((We&2)===0&&(ss|=o),_t===4&&Ji(n,Be,Zn,!1)),kr(n))}function b_(n,i,o){if((We&6)!==0)throw Error(a(327));var l=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Er(n,i),f=l?$A(n,i):im(n,i,!0),m=l;do{if(f===0){uo&&!l&&Ji(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!YA(o)){f=im(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;f=xl;var D=T.current.memoizedState.isDehydrated;if(D&&(mo(T,E).flags|=256),E=im(T,E,!1),E!==2){if(Qd&&!D){T.errorRecoveryDisabledLanes|=m,ss|=m,f=4;break e}m=wn,wn=f,m!==null&&(wn===null?wn=m:wn.push.apply(wn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){mo(n,0),Ji(n,i,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ji(l,i,Zn,!Qi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Zd+300-Qt(),10<f)){if(Ji(l,i,Zn,!Qi),$r(l,0,!0)!==0)break e;l.timeoutHandle=X_(w_.bind(null,l,o,wn,Vc,Xd,i,Zn,ss,co,Qi,m,2,-0,0),f);break e}w_(l,o,wn,Vc,Xd,i,Zn,ss,co,Qi,m,0,-0,0)}}break}while(!0);kr(n)}function w_(n,i,o,l,f,m,E,T,D,H,X,te,F,G){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:IR},g_(i),te=DR(),te!==null)){n.cancelPendingCommit=te(O_.bind(null,n,i,m,o,l,f,E,T,D,X,1,F,G)),Ji(n,m,E,!H);return}O_(n,i,m,o,l,f,E,T,D)}function YA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!Dn(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(n,i,o,l){i&=~Wd,i&=~ss,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-Rt(f),E=1<<m;l[m]=-1,f&=~E}o!==0&&lt(n,o,i)}function Uc(){return(We&6)===0?(Pl(0),!1):!0}function nm(){if(ke!==null){if(Xe===0)var n=ke.return;else n=ke,li=es=null,_d(n),ao=null,Sl=0,n=ke;for(;n!==null;)n_(n.alternate,n),n=n.return;ke=null}}function mo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,cR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),nm(),ot=n,ke=o=ai(n.current,null),Be=i,Xe=0,Mn=null,Qi=!1,uo=Er(n,i),Qd=!1,co=Zn=Wd=ss=Wi=_t=0,wn=xl=null,Xd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Rt(l),m=1<<f;i|=n[f],l&=~m}return gi=i,ac(),o}function S_(n,i){Ne=null,K.H=Sc,i===pl||i===mc?(i=By(),Xe=3):i===Ly?(i=By(),Xe=4):Xe=i===qv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mn=i,ke===null&&(_t=1,Dc(n,Kn(i,n.current)))}function A_(){var n=K.H;return K.H=Sc,n===null?Sc:n}function R_(){var n=K.A;return K.A=FA,n}function rm(){_t=4,Qi||(Be&4194048)!==Be&&Xn.current!==null||(uo=!0),(Wi&134217727)===0&&(ss&134217727)===0||ot===null||Ji(ot,Be,Zn,!1)}function im(n,i,o){var l=We;We|=2;var f=A_(),m=R_();(ot!==n||Be!==i)&&(Vc=null,mo(n,i)),i=!1;var E=_t;e:do try{if(Xe!==0&&ke!==null){var T=ke,D=Mn;switch(Xe){case 8:nm(),E=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var H=Xe;if(Xe=0,Mn=null,po(n,T,D,H),o&&uo){E=0;break e}break;default:H=Xe,Xe=0,Mn=null,po(n,T,D,H)}}KA(),E=_t;break}catch(X){S_(n,X)}while(!0);return i&&n.shellSuspendCounter++,li=es=null,We=l,K.H=f,K.A=m,ke===null&&(ot=null,Be=0,ac()),E}function KA(){for(;ke!==null;)I_(ke)}function $A(n,i){var o=We;We|=2;var l=A_(),f=R_();ot!==n||Be!==i?(Vc=null,kc=Qt()+500,mo(n,i)):uo=Er(n,i);e:do try{if(Xe!==0&&ke!==null){i=ke;var m=Mn;t:switch(Xe){case 1:Xe=0,Mn=null,po(n,i,m,1);break;case 2:case 9:if(jy(m)){Xe=0,Mn=null,C_(i);break}i=function(){Xe!==2&&Xe!==9||ot!==n||(Xe=7),kr(n)},m.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:jy(m)?(Xe=0,Mn=null,C_(i)):(Xe=0,Mn=null,po(n,i,m,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var T=ke;if(!E||uE(E)){Xe=0,Mn=null;var D=T.sibling;if(D!==null)ke=D;else{var H=T.return;H!==null?(ke=H,Lc(H)):ke=null}break t}}Xe=0,Mn=null,po(n,i,m,5);break;case 6:Xe=0,Mn=null,po(n,i,m,6);break;case 8:nm(),_t=6;break e;default:throw Error(a(462))}}QA();break}catch(X){S_(n,X)}while(!0);return li=es=null,K.H=l,K.A=f,We=o,ke!==null?0:(ot=null,Be=0,ac(),_t)}function QA(){for(;ke!==null&&!ir();)I_(ke)}function I_(n){var i=e_(n.alternate,n,gi);n.memoizedProps=n.pendingProps,i===null?Lc(n):ke=i}function C_(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=$v(o,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=$v(o,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:_d(i);default:n_(o,i),i=ke=Dy(i,gi),i=e_(o,i,gi)}n.memoizedProps=n.pendingProps,i===null?Lc(n):ke=i}function po(n,i,o,l){li=es=null,_d(i),ao=null,Sl=0;var f=i.return;try{if(LA(n,f,i,o,Be)){_t=1,Dc(n,Kn(o,n.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;_t=1,Dc(n,Kn(o,n.current)),ke=null;return}i.flags&32768?(Ke||l===1?n=!0:uo||(Be&536870912)!==0?n=!1:(Qi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(i,n)):Lc(i)}function Lc(n){var i=n;do{if((i.flags&32768)!==0){D_(i,Qi);return}n=i.return;var o=zA(i.alternate,i,gi);if(o!==null){ke=o;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=n}while(i!==null);_t===0&&(_t=5)}function D_(n,i){do{var o=BA(n.alternate,n);if(o!==null){o.flags&=32767,ke=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){ke=n;return}ke=n=o}while(n!==null);_t=6,ke=null}function O_(n,i,o,l,f,m,E,T,D){n.cancelPendingCommit=null;do jc();while(nn!==0);if((We&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=$f,It(n,o,m,E,T,D),n===ot&&(ke=ot=null,Be=0),ho=i,Zi=n,fo=o,Jd=m,em=f,E_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,JA(Gr,function(){return k_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=ue.p,ue.p=2,E=We,We|=4;try{qA(n,i,o)}finally{We=E,ue.p=f,K.T=l}}nn=1,N_(),x_(),M_()}}function N_(){if(nn===1){nn=0;var n=Zi,i=ho,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var l=ue.p;ue.p=2;var f=We;We|=4;try{d_(i,n);var m=gm,E=_y(n.containerInfo),T=m.focusedElem,D=m.selectionRange;if(E!==T&&T&&T.ownerDocument&&vy(T.ownerDocument.documentElement,T)){if(D!==null&&Hf(T)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),we=T.textContent.length,_e=Math.min(D.start,we),nt=D.end===void 0?_e:Math.min(D.end,we);!G.extend&&_e>nt&&(E=nt,nt=_e,_e=E);var z=yy(T,_e),U=yy(T,nt);if(z&&U&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var q=te.createRange();q.setStart(z.node,z.offset),G.removeAllRanges(),_e>nt?(G.addRange(q),G.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),G.addRange(q))}}}}for(te=[],G=T;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xc=!!pm,gm=pm=null}finally{We=f,ue.p=l,K.T=o}}n.current=i,nn=2}}function x_(){if(nn===2){nn=0;var n=Zi,i=ho,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var l=ue.p;ue.p=2;var f=We;We|=4;try{u_(n,i.alternate,i)}finally{We=f,ue.p=l,K.T=o}}nn=3}}function M_(){if(nn===4||nn===3){nn=0,$t();var n=Zi,i=ho,o=fo,l=E_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,ho=Zi=null,P_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Xi=null),Wt(o),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=ue.p,ue.p=2,K.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];m(T.value,{componentStack:T.stack})}}finally{K.T=i,ue.p=f}}(fo&3)!==0&&jc(),kr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===tm?Ml++:(Ml=0,tm=n):Ml=0,Pl(0)}}function P_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,dl(i)))}function jc(n){return N_(),x_(),M_(),k_()}function k_(){if(nn!==5)return!1;var n=Zi,i=Jd;Jd=0;var o=Wt(fo),l=K.T,f=ue.p;try{ue.p=32>o?32:o,K.T=null,o=em,em=null;var m=Zi,E=fo;if(nn=0,ho=Zi=null,fo=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,v_(m.current),p_(m,m.current,E,o),We=T,Pl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,m)}catch{}return!0}finally{ue.p=f,K.T=l,P_(n,i)}}function V_(n,i,o){i=Kn(o,i),i=Md(n.stateNode,i,2),n=qi(n,i,2),n!==null&&(zn(n,2),kr(n))}function at(n,i,o){if(n.tag===3)V_(n,n,o);else for(;i!==null;){if(i.tag===3){V_(i,n,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){n=Kn(o,n),o=zv(2),l=qi(i,o,2),l!==null&&(Bv(o,l,i,n),zn(l,2),kr(l));break}}i=i.return}}function am(n,i,o){var l=n.pingCache;if(l===null){l=n.pingCache=new GA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(o)||(Qd=!0,f.add(o),n=WA.bind(null,n,i,o),i.then(n,n))}function WA(n,i,o){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ot===n&&(Be&o)===o&&(_t===4||_t===3&&(Be&62914560)===Be&&300>Qt()-Zd?(We&2)===0&&mo(n,0):Wd|=o,co===Be&&(co=0)),kr(n)}function U_(n,i){i===0&&(i=Pi()),n=Qs(n,i),n!==null&&(zn(n,i),kr(n))}function XA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),U_(n,o)}function ZA(n,i){var o=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),U_(n,o)}function JA(n,i){return rr(n,i)}var zc=null,go=null,sm=!1,Bc=!1,om=!1,os=0;function kr(n){n!==go&&n.next===null&&(go===null?zc=go=n:go=go.next=n),Bc=!0,sm||(sm=!0,tR())}function Pl(n,i){if(!om&&Bc){om=!0;do for(var o=!1,l=zc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Rt(42|n)+1)-1,m&=f&~(E&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,B_(l,m))}else m=Be,m=$r(l,l===ot?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Er(l,m)||(o=!0,B_(l,m));l=l.next}while(o);om=!1}}function eR(){L_()}function L_(){Bc=sm=!1;var n=0;os!==0&&(uR()&&(n=os),os=0);for(var i=Qt(),o=null,l=zc;l!==null;){var f=l.next,m=j_(l,i);m===0?(l.next=null,o===null?zc=f:o.next=f,f===null&&(go=o)):(o=l,(n!==0||(m&3)!==0)&&(Bc=!0)),l=f}Pl(n)}function j_(n,i){for(var o=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Rt(m),T=1<<E,D=f[E];D===-1?((T&o)===0||(T&l)!==0)&&(f[E]=Qr(T,i)):D<=i&&(n.expiredLanes|=T),m&=~T}if(i=ot,o=Be,o=$r(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,o===0||n===i&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&rt(l),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Er(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(l!==null&&rt(l),Wt(o)){case 2:case 8:o=Mi;break;case 32:o=Gr;break;case 268435456:o=Yr;break;default:o=Gr}return l=z_.bind(null,n),o=rr(o,l),n.callbackPriority=i,n.callbackNode=o,i}return l!==null&&l!==null&&rt(l),n.callbackPriority=2,n.callbackNode=null,2}function z_(n,i){if(nn!==0&&nn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(jc()&&n.callbackNode!==o)return null;var l=Be;return l=$r(n,n===ot?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(b_(n,l,i),j_(n,Qt()),n.callbackNode!=null&&n.callbackNode===o?z_.bind(null,n):null)}function B_(n,i){if(jc())return null;b_(n,i,!0)}function tR(){hR(function(){(We&6)!==0?rr(xi,eR):L_()})}function lm(){return os===0&&(os=xa()),os}function q_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Us(""+n)}function H_(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function nR(n,i,o,l,f){if(i==="submit"&&o&&o.stateNode===f){var m=q_((f[ft]||null).action),E=l.submitter;E&&(i=(i=E[ft]||null)?q_(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var T=new Ls("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var D=E?H_(f,E):new FormData(f);Cd(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=E?H_(f,E):new FormData(f),Cd(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var um=0;um<Kf.length;um++){var cm=Kf[um],rR=cm.toLowerCase(),iR=cm[0].toUpperCase()+cm.slice(1);hr(rR,"on"+iR)}hr(by,"onAnimationEnd"),hr(wy,"onAnimationIteration"),hr(Sy,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(TA,"onTransitionRun"),hr(bA,"onTransitionStart"),hr(wA,"onTransitionCancel"),hr(Ay,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function F_(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var l=n[o],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch(X){Cc(X)}f.currentTarget=null,m=D}else for(E=0;E<l.length;E++){if(T=l[E],D=T.instance,H=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch(X){Cc(X)}f.currentTarget=null,m=D}}}}function Ve(n,i){var o=i[Wr];o===void 0&&(o=i[Wr]=new Set);var l=n+"__bubble";o.has(l)||(G_(i,n,2,!1),o.add(l))}function hm(n,i,o){var l=0;i&&(l|=4),G_(o,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function fm(n){if(!n[qc]){n[qc]=!0,Zt.forEach(function(o){o!=="selectionchange"&&(aR.has(o)||hm(o,!1,n),hm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,hm("selectionchange",!1,i))}}function G_(n,i,o,l){switch(pE(i)){case 2:var f=xR;break;case 8:f=MR;break;default:f=Rm}o=f.bind(null,i,o,n),f=void 0,!Gn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function dm(n,i,o,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=lr(T),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=m=E;continue e}T=T.parentNode}}l=l.return}Fu(function(){var H=m,X=Fn(o),te=[];e:{var F=Ry.get(n);if(F!==void 0){var G=Ls,we=n;switch(n){case"keypress":if(Rr(o)===0)break e;case"keydown":case"keyup":G=Fs;break;case"focusin":we="focus",G=Bs;break;case"focusout":we="blur",G=Bs;break;case"beforeblur":case"afterblur":G=Bs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Zu;break;case by:case wy:case Sy:G=qs;break;case Ay:G=ec;break;case"scroll":case"scrollend":G=Gu;break;case"wheel":G=Gs;break;case"copy":case"cut":case"paste":G=Hs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=al;break;case"toggle":case"beforetoggle":G=nc}var _e=(i&4)!==0,nt=!_e&&(n==="scroll"||n==="scrollend"),z=_e?F!==null?F+"Capture":null:F;_e=[];for(var U=H,q;U!==null;){var Z=U;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=za(U,z),Z!=null&&_e.push(Vl(U,Z,q))),nt)break;U=U.return}0<_e.length&&(F=new G(F,we,null,o,X),te.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",F&&o!==Jr&&(we=o.relatedTarget||o.fromElement)&&(lr(we)||we[Xt]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(we=o.relatedTarget||o.toElement,G=H,we=we?lr(we):null,we!==null&&(nt=u(we),_e=we.tag,we!==nt||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(G=null,we=H),G!==we)){if(_e=Yn,Z="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(_e=al,Z="onPointerLeave",z="onPointerEnter",U="pointer"),nt=G==null?F:Se(G),q=we==null?F:Se(we),F=new _e(Z,U+"leave",G,o,X),F.target=nt,F.relatedTarget=q,Z=null,lr(X)===H&&(_e=new _e(z,U+"enter",we,o,X),_e.target=q,_e.relatedTarget=nt,Z=_e),nt=Z,G&&we)t:{for(_e=G,z=we,U=0,q=_e;q;q=yo(q))U++;for(q=0,Z=z;Z;Z=yo(Z))q++;for(;0<U-q;)_e=yo(_e),U--;for(;0<q-U;)z=yo(z),q--;for(;U--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=yo(_e),z=yo(z)}_e=null}else _e=null;G!==null&&Y_(te,F,G,_e,!1),we!==null&&nt!==null&&Y_(te,nt,we,_e,!0)}}e:{if(F=H?Se(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var fe=hy;else if(kt(F))if(fy)fe=vA;else{fe=gA;var Pe=pA}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Zo(H.elementType)&&(fe=hy):fe=yA;if(fe&&(fe=fe(n,H))){ii(te,fe,o,X);break e}Pe&&Pe(n,F,H),n==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Ui(F,"number",F.value)}switch(Pe=H?Se(H):window,n){case"focusin":(kt(Pe)||Pe.contentEditable==="true")&&(Ys=Pe,Ff=H,ll=null);break;case"focusout":ll=Ff=Ys=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,Ey(te,o,X);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":Ey(te,o,X)}var ge;if(Dr)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?$(n,o)&&(Ee="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&o.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(ge=el()):(Ar=X,Li="value"in Ar?Ar.value:Ar.textContent,je=!0)),Pe=Hc(H,Ee),0<Pe.length&&(Ee=new rl(Ee,n,null,o,X),te.push({event:Ee,listeners:Pe}),ge?Ee.data=ge:(ge=se(o),ge!==null&&(Ee.data=ge)))),(ge=y?Pt(n,o):ze(n,o))&&(Ee=Hc(H,"onBeforeInput"),0<Ee.length&&(Pe=new rl("onBeforeInput","beforeinput",null,o,X),te.push({event:Pe,listeners:Ee}),Pe.data=ge)),nR(te,n,H,o,X)}F_(te,i)})}function Vl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Hc(n,i){for(var o=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=za(n,o),f!=null&&l.unshift(Vl(n,f,m)),f=za(n,i),f!=null&&l.push(Vl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function yo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Y_(n,i,o,l,f){for(var m=i._reactName,E=[];o!==null&&o!==l;){var T=o,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,f?(H=za(o,m),H!=null&&E.unshift(Vl(o,H,D))):f||(H=za(o,m),H!=null&&E.push(Vl(o,H,D)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var sR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function K_(n){return(typeof n=="string"?n:""+n).replace(sR,`
`).replace(oR,"")}function $_(n,i){return i=K_(i),K_(n)===i}function Fc(){}function tt(n,i,o,l,f,m){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Hn(n,""+l);break;case"className":wr(n,"class",l);break;case"tabIndex":wr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(n,o,l);break;case"style":Xo(n,l,m);break;case"data":if(i!=="object"){wr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(o);break}l=Us(""+l),n.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&tt(n,i,"name",f.name,f,null),tt(n,i,"formEncType",f.formEncType,f,null),tt(n,i,"formMethod",f.formMethod,f,null),tt(n,i,"formTarget",f.formTarget,f,null)):(tt(n,i,"encType",f.encType,f,null),tt(n,i,"method",f.method,f,null),tt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(o);break}l=Us(""+l),n.setAttribute(o,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}o=Us(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,""+l):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":l===!0?n.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,l):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(o,l):n.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(o):n.setAttribute(o,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Vi(n,"popover",l);break;case"xlinkActuate":Jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uf.get(o)||o,Vi(n,o,l))}}function mm(n,i,o,l,f,m){switch(o){case"style":Xo(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof l=="string"?Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&Hn(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[ft]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,l,f);break e}o in n?n[o]=l:l===!0?n.setAttribute(o,""):Vi(n,o,l)}}}function rn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(n,i,m,E,o,null)}}f&&tt(n,i,"srcSet",o.srcSet,o,null),l&&tt(n,i,"src",o.src,o,null);return;case"input":Ve("invalid",n);var T=m=E=f=null,D=null,H=null;for(l in o)if(o.hasOwnProperty(l)){var X=o[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":m=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:tt(n,i,l,X,o,null)}}Ua(n,m,T,D,H,E,f,!1),Vs(n);return;case"select":Ve("invalid",n),l=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:tt(n,i,f,T,o,null)}i=m,o=E,n.multiple=!!l,i!=null?Zr(n,!!l,i,!1):o!=null&&Zr(n,!!l,o,!0);return;case"textarea":Ve("invalid",n),m=f=l=null;for(E in o)if(o.hasOwnProperty(E)&&(T=o[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:tt(n,i,E,T,o,null)}La(n,l,f,m),Vs(n);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(l=o[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,i,D,l,o,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<kl.length;l++)Ve(kl[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(l=o[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(n,i,H,l,o,null)}return;default:if(Zo(i)){for(X in o)o.hasOwnProperty(X)&&(l=o[X],l!==void 0&&mm(n,i,X,l,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(l=o[T],l!=null&&tt(n,i,T,l,o,null))}function lR(n,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,T=null,D=null,H=null,X=null;for(G in o){var te=o[G];if(o.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(G)||tt(n,i,G,null,l,te)}}for(var F in l){var G=l[F];if(te=o[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":m=G;break;case"name":f=G;break;case"checked":H=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:G!==te&&tt(n,i,F,G,l,te)}}Cn(n,E,T,D,H,X,m,f);return;case"select":G=E=T=F=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(m)||tt(n,i,m,null,l,D)}for(f in l)if(m=l[f],D=o[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":E=m;default:m!==D&&tt(n,i,f,m,l,D)}i=T,o=E,l=G,F!=null?Zr(n,!!o,F,!1):!!l!=!!o&&(i!=null?Zr(n,!!o,i,!0):Zr(n,!!o,o?[]:"",!1));return;case"textarea":G=F=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(n,i,T,null,l,f)}for(E in l)if(f=l[E],m=o[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&tt(n,i,E,f,l,m)}Je(n,F,G);return;case"option":for(var we in o)if(F=o[we],o.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:tt(n,i,we,null,l,F)}for(D in l)if(F=l[D],G=o[D],l.hasOwnProperty(D)&&F!==G&&(F!=null||G!=null))switch(D){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:tt(n,i,D,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)F=o[_e],o.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&tt(n,i,_e,null,l,F);for(H in l)if(F=l[H],G=o[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:tt(n,i,H,F,l,G)}return;default:if(Zo(i)){for(var nt in o)F=o[nt],o.hasOwnProperty(nt)&&F!==void 0&&!l.hasOwnProperty(nt)&&mm(n,i,nt,void 0,l,F);for(X in l)F=l[X],G=o[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||mm(n,i,X,F,l,G);return}}for(var z in o)F=o[z],o.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&tt(n,i,z,null,l,F);for(te in l)F=l[te],G=o[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||tt(n,i,te,F,l,G)}var pm=null,gm=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function Q_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ym(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function uR(){var n=window.event;return n&&n.type==="popstate"?n===vm?!1:(vm=n,!0):(vm=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(n){return Z_.resolve(null).then(n).catch(fR)}:X_;function fR(n){setTimeout(function(){throw n})}function ea(n){return n==="head"}function J_(n,i){var o=i,l=0,f=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<l&&8>l){o=l;var E=n.ownerDocument;if(o&1&&Ul(E.documentElement),o&2&&Ul(E.body),o&4)for(o=E.head,Ul(o),E=o.firstChild;E;){var T=E.nextSibling,D=E.nodeName;E[sr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=T}}if(f===0){n.removeChild(m),Gl(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=m}while(o);Gl(i)}function _m(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_m(o),or(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function dR(n,i,o,l){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[sr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=dr(n.nextSibling),n===null)break}return null}function mR(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=dr(n.nextSibling),n===null))return null;return n}function Em(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function pR(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function dr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Tm=null;function eE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function tE(n,i,o){switch(i=Gc(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ul(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);or(n)}var Jn=new Map,nE=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var yi=ue.d;ue.d={f:gR,r:yR,D:vR,C:_R,L:ER,m:TR,X:wR,S:bR,M:SR};function gR(){var n=yi.f(),i=Uc();return n||i}function yR(n){var i=qn(n);i!==null&&i.tag===5&&i.type==="form"?bv(i):yi.r(n)}var vo=typeof document>"u"?null:document;function rE(n,i,o){var l=vo;if(l&&typeof i=="string"&&i){var f=Ct(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),nE.has(f)||(nE.add(f),n={rel:n,crossOrigin:o,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),rn(i,"link",n),Ce(i),l.head.appendChild(i)))}}function vR(n){yi.D(n),rE("dns-prefetch",n,null)}function _R(n,i){yi.C(n,i),rE("preconnect",n,i)}function ER(n,i,o){yi.L(n,i,o);var l=vo;if(l&&n&&i){var f='link[rel="preload"][as="'+Ct(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ct(o.imageSizes)+'"]')):f+='[href="'+Ct(n)+'"]';var m=f;switch(i){case"style":m=_o(n);break;case"script":m=Eo(n)}Jn.has(m)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Jn.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ll(m))||i==="script"&&l.querySelector(jl(m))||(i=l.createElement("link"),rn(i,"link",n),Ce(i),l.head.appendChild(i)))}}function TR(n,i){yi.m(n,i);var o=vo;if(o&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ct(l)+'"][href="'+Ct(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Eo(n)}if(!Jn.has(m)&&(n=v({rel:"modulepreload",href:n},i),Jn.set(m,n),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(jl(m)))return}l=o.createElement("link"),rn(l,"link",n),Ce(l),o.head.appendChild(l)}}}function bR(n,i,o){yi.S(n,i,o);var l=vo;if(l&&n){var f=Me(l).hoistableStyles,m=_o(n);i=i||"default";var E=f.get(m);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ll(m)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Jn.get(m))&&bm(n,o);var D=E=l.createElement("link");Ce(D),rn(D,"link",n),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Kc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(m,E)}}}function wR(n,i){yi.X(n,i);var o=vo;if(o&&n){var l=Me(o).hoistableScripts,f=Eo(n),m=l.get(f);m||(m=o.querySelector(jl(f)),m||(n=v({src:n,async:!0},i),(i=Jn.get(f))&&wm(n,i),m=o.createElement("script"),Ce(m),rn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function SR(n,i){yi.M(n,i);var o=vo;if(o&&n){var l=Me(o).hoistableScripts,f=Eo(n),m=l.get(f);m||(m=o.querySelector(jl(f)),m||(n=v({src:n,async:!0,type:"module"},i),(i=Jn.get(f))&&wm(n,i),m=o.createElement("script"),Ce(m),rn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function iE(n,i,o,l){var f=(f=ve.current)?Yc(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=_o(o.href),o=Me(f).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=_o(o.href);var m=Me(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Ll(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Jn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(n,o),m||AR(f,n,o,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(o),o=Me(f).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function _o(n){return'href="'+Ct(n)+'"'}function Ll(n){return'link[rel="stylesheet"]['+n+"]"}function aE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function AR(n,i,o,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",o),Ce(i),n.head.appendChild(i))}function Eo(n){return'[src="'+Ct(n)+'"]'}function jl(n){return"script[async]"+n}function sE(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(l)return i.instance=l,Ce(l),l;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ce(l),rn(l,"style",f),Kc(l,o.precedence,n),i.instance=l;case"stylesheet":f=_o(o.href);var m=n.querySelector(Ll(f));if(m)return i.state.loading|=4,i.instance=m,Ce(m),m;l=aE(o),(f=Jn.get(f))&&bm(l,f),m=(n.ownerDocument||n).createElement("link"),Ce(m);var E=m;return E._p=new Promise(function(T,D){E.onload=T,E.onerror=D}),rn(m,"link",l),i.state.loading|=4,Kc(m,o.precedence,n),i.instance=m;case"script":return m=Eo(o.src),(f=n.querySelector(jl(m)))?(i.instance=f,Ce(f),f):(l=o,(f=Jn.get(m))&&(l=v({},o),wm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ce(f),rn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kc(l,o.precedence,n));return i.instance}function Kc(n,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function bm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function wm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var $c=null;function oE(n,i,o){if($c===null){var l=new Map,f=$c=new Map;f.set(o,l)}else f=$c,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(n))return l;for(l.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[sr]||m[yt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(m):l.set(E,[m])}}return l}function lE(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function RR(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function IR(){}function CR(n,i,o){if(zl===null)throw Error(a(475));var l=zl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=_o(o.href),m=n.querySelector(Ll(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Qc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,Ce(m);return}m=n.ownerDocument||n,o=aE(o),(f=Jn.get(f))&&bm(o,f),m=m.createElement("link"),Ce(m);var E=m;E._p=new Promise(function(T,D){E.onload=T,E.onerror=D}),rn(m,"link",o),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Qc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function DR(){if(zl===null)throw Error(a(475));var n=zl;return n.stylesheets&&n.count===0&&Sm(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Sm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wc=null;function Sm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wc=new Map,i.forEach(OR,n),Wc=null,Qc.call(n))}function OR(n,i){if(!(i.state.loading&4)){var o=Wc.get(n);if(o)var l=o.get(null);else{o=new Map,Wc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),l=E)}l&&o.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||l,m===l&&o.set(null,f),o.set(E,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Bl={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function NR(n,i,o,l,f,m,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function cE(n,i,o,l,f,m,E,T,D,H,X,te){return n=new NR(n,i,o,E,T,D,H,te),i=1,m===!0&&(i|=24),m=On(3,null,null,i),n.current=m,m.stateNode=n,i=ad(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:i},ud(m),n}function hE(n){return n?(n=Ws,n):Ws}function fE(n,i,o,l,f,m){f=hE(f),l.context===null?l.context=f:l.pendingContext=f,l=Bi(i),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=qi(n,l,i),o!==null&&(kn(o,n,i),yl(o,n,i))}function dE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Am(n,i){dE(n,i),(n=n.alternate)&&dE(n,i)}function mE(n){if(n.tag===13){var i=Qs(n,67108864);i!==null&&kn(i,n,67108864),Am(n,67108864)}}var Xc=!0;function xR(n,i,o,l){var f=K.T;K.T=null;var m=ue.p;try{ue.p=2,Rm(n,i,o,l)}finally{ue.p=m,K.T=f}}function MR(n,i,o,l){var f=K.T;K.T=null;var m=ue.p;try{ue.p=8,Rm(n,i,o,l)}finally{ue.p=m,K.T=f}}function Rm(n,i,o,l){if(Xc){var f=Im(l);if(f===null)dm(n,i,l,Zc,o),gE(n,l);else if(kR(f,n,i,o,l))l.stopPropagation();else if(gE(n,l),i&4&&-1<PR.indexOf(n)){for(;f!==null;){var m=qn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=In(m.pendingLanes);if(E!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var D=1<<31-Rt(E);T.entanglements[1]|=D,E&=~D}kr(m),(We&6)===0&&(kc=Qt()+500,Pl(0))}}break;case 13:T=Qs(m,2),T!==null&&kn(T,m,2),Uc(),Am(m,2)}if(m=Im(l),m===null&&dm(n,i,l,Zc,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else dm(n,i,l,null,o)}}function Im(n){return n=Fn(n),Cm(n)}var Zc=null;function Cm(n){if(Zc=null,n=lr(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function pE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case xi:return 2;case Mi:return 8;case Gr:case Ko:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var Dm=!1,ta=null,na=null,ra=null,ql=new Map,Hl=new Map,ia=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gE(n,i){switch(n){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(n,i,o,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=qn(i),i!==null&&mE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function kR(n,i,o,l,f){switch(i){case"focusin":return ta=Fl(ta,n,i,o,l,f),!0;case"dragenter":return na=Fl(na,n,i,o,l,f),!0;case"mouseover":return ra=Fl(ra,n,i,o,l,f),!0;case"pointerover":var m=f.pointerId;return ql.set(m,Fl(ql.get(m)||null,n,i,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Hl.set(m,Fl(Hl.get(m)||null,n,i,o,l,f)),!0}return!1}function yE(n){var i=lr(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){n.blockedOn=i,ki(n.priority,function(){if(o.tag===13){var l=Pn();l=Fe(l);var f=Qs(o,l);f!==null&&kn(f,o,l),Am(o,l)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Im(n.nativeEvent);if(o===null){o=n.nativeEvent;var l=new o.constructor(o.type,o);Jr=l,o.target.dispatchEvent(l),Jr=null}else return i=qn(o),i!==null&&mE(i),n.blockedOn=o,!1;i.shift()}return!0}function vE(n,i,o){Jc(n)&&o.delete(i)}function VR(){Dm=!1,ta!==null&&Jc(ta)&&(ta=null),na!==null&&Jc(na)&&(na=null),ra!==null&&Jc(ra)&&(ra=null),ql.forEach(vE),Hl.forEach(vE)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,Dm||(Dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VR)))}var th=null;function _E(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Cm(l||o)===null)continue;break}var m=qn(o);m!==null&&(n.splice(i,3),i-=3,Cd(m,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Gl(n){function i(D){return eh(D,n)}ta!==null&&eh(ta,n),na!==null&&eh(na,n),ra!==null&&eh(ra,n),ql.forEach(i),Hl.forEach(i);for(var o=0;o<ia.length;o++){var l=ia[o];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ia.length&&(o=ia[0],o.blockedOn===null);)yE(o),o.blockedOn===null&&ia.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],E=f[ft]||null;if(typeof m=="function")E||_E(o);else if(E){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[ft]||null)T=E.formAction;else if(Cm(f)!==null)continue}else T=E.action;typeof T=="function"?o[l+1]=T:(o.splice(l,3),l-=3),_E(o)}}}function Om(n){this._internalRoot=n}nh.prototype.render=Om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,l=Pn();fE(o,l,n,i,null,null)},nh.prototype.unmount=Om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;fE(n.current,2,null,n,null,null),Uc(),i[Xt]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=br();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ia.length&&i!==0&&i<ia[o].priority;o++);ia.splice(o,0,n),o===0&&yE(n)}};var EE=e.version;if(EE!=="19.1.0")throw Error(a(527,EE,"19.1.0"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var UR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ht=rh.inject(UR),Ye=rh}catch{}}return Kl.createRoot=function(n,i){if(!s(n))throw Error(a(299));var o=!1,l="",f=Vv,m=Uv,E=Lv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=cE(n,1,!1,null,null,o,l,f,m,E,T,null),n[Xt]=i.current,fm(n),new Om(i)},Kl.hydrateRoot=function(n,i,o){if(!s(n))throw Error(a(299));var l=!1,f="",m=Vv,E=Uv,T=Lv,D=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),i=cE(n,1,!0,i,o??null,l,f,m,E,T,D,H),i.context=hE(null),o=i.current,l=Pn(),l=Fe(l),f=Bi(l),f.callback=null,qi(o,f,l),o=l,i.current.lanes=o,zn(i,o),kr(i),n[Xt]=i.current,fm(n),new nh(i)},Kl.version="19.1.0",Kl}var OE;function $R(){if(OE)return Mm.exports;OE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=KR(),Mm.exports}var QR=$R();const WR=Jh(QR);var $l={},NE;function XR(){if(NE)return $l;NE=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=h,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,I){const A=new u,x=w.length;if(x<2)return A;const k=(I==null?void 0:I.decode)||v;let j=0;do{const J=w.indexOf("=",j);if(J===-1)break;const W=w.indexOf(";",j),ie=W===-1?x:W;if(J>ie){j=w.lastIndexOf(";",J-1)+1;continue}const le=d(w,j,J),ce=p(w,J,le),N=w.slice(le,ce);if(A[N]===void 0){let R=d(w,J+1,ie),C=p(w,ie,R);const P=k(w.slice(R,C));A[N]=P}j=ie+1}while(j<x);return A}function d(w,I,A){do{const x=w.charCodeAt(I);if(x!==32&&x!==9)return I}while(++I<A);return A}function p(w,I,A){for(;I>A;){const x=w.charCodeAt(--I);if(x!==32&&x!==9)return I+1}return A}function g(w,I,A){const x=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=x(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let j=w+"="+k;if(!A)return j;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);j+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);j+="; Domain="+A.domain}if(A.path){if(!a.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);j+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);j+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(j+="; HttpOnly"),A.secure&&(j+="; Secure"),A.partitioned&&(j+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return j}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return s.call(w)==="[object Date]"}return $l}XR();function At(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sp({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function tf(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function kT(r,e,t="/"){return ZR(r,e,t,!1)}function ZR(r,e,t,a){let s=typeof e=="string"?tf(e):e,u=ya(s.pathname||"/",t);if(u==null)return null;let h=VT(r);JR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=cI(u);d=lI(h[p],g,a)}return d}function VT(r,e=[],t=[],a=""){let s=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(At(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Ti([a,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(At(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),VT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sI(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))s(u,h);else for(let p of UT(u.path))s(u,h,p)}),e}function UT(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return s?[u,""]:[u];let h=UT(a.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),s&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function JR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:oI(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var eI=/^:[\w-]+$/,tI=3,nI=2,rI=1,iI=10,aI=-2,xE=r=>r==="*";function sI(r,e){let t=r.split("/"),a=t.length;return t.some(xE)&&(a+=aI),e&&(a+=nI),t.filter(s=>!xE(s)).reduce((s,u)=>s+(eI.test(u)?tI:u===""?rI:iI),a)}function oI(r,e){return r.length===e.length&&r.slice(0,-1).every((a,s)=>a===e[s])?r[r.length-1]-e[e.length-1]:0}function lI(r,e,t=!1){let{routesMeta:a}=r,s={},u="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&t&&!a[a.length-1].route.index&&(b=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),h.push({params:s,pathname:Ti([u,b.pathname]),pathnameBase:mI(Ti([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Ti([u,b.pathnameBase]))}return h}function Nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=uI(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let A=d[w]||"";h=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const I=d[w];return b&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function uI(r,e=!1,t=!0){Si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function cI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ya(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function hI(r,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof r=="string"?tf(r):r;return{pathname:t?t.startsWith("/")?t:fI(t,e):e,search:pI(a),hash:gI(s)}}function fI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Um(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LT(r){let e=dI(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function jT(r,e,t,a=!1){let s;typeof r=="string"?s=tf(r):(s={...r},At(!s.pathname||!s.pathname.includes("?"),Um("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),Um("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),Um("#","search","hash",s)));let u=r===""||s.pathname==="",h=u?"/":s.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!a&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;s.pathname=w.join("/")}d=b>=0?e[b]:"/"}let p=hI(s,d),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ti=r=>r.join("/").replace(/\/\/+/g,"/"),mI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function yI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var zT=["POST","PUT","PATCH","DELETE"];new Set(zT);var vI=["GET",...zT];new Set(vI);var Lo=Y.createContext(null);Lo.displayName="DataRouter";var nf=Y.createContext(null);nf.displayName="DataRouterState";var BT=Y.createContext({isTransitioning:!1});BT.displayName="ViewTransition";var _I=Y.createContext(new Map);_I.displayName="Fetchers";var EI=Y.createContext(null);EI.displayName="Await";var Di=Y.createContext(null);Di.displayName="Navigation";var rf=Y.createContext(null);rf.displayName="Location";var Oi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Qp=Y.createContext(null);Qp.displayName="RouteError";function TI(r,{relative:e}={}){At(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=Y.useContext(Di),{hash:s,pathname:u,search:h}=Su(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Ti([t,u])),a.createHref({pathname:d,search:h,hash:s})}function af(){return Y.useContext(rf)!=null}function Es(){return At(af(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(rf).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HT(r){Y.useContext(Di).static||Y.useLayoutEffect(r)}function Wp(){let{isDataRoute:r}=Y.useContext(Oi);return r?PI():bI()}function bI(){At(af(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Lo),{basename:e,navigator:t}=Y.useContext(Di),{matches:a}=Y.useContext(Oi),{pathname:s}=Es(),u=JSON.stringify(LT(a)),h=Y.useRef(!1);return HT(()=>{h.current=!0}),Y.useCallback((p,g={})=>{if(Si(h.current,qT),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=jT(p,JSON.parse(u),s,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ti([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,s,r])}Y.createContext(null);function Su(r,{relative:e}={}){let{matches:t}=Y.useContext(Oi),{pathname:a}=Es(),s=JSON.stringify(LT(t));return Y.useMemo(()=>jT(r,JSON.parse(s),a,e==="path"),[r,s,a,e])}function wI(r,e){return FT(r,e)}function FT(r,e,t,a){var J;At(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:u}=Y.useContext(Di),{matches:h}=Y.useContext(Oi),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let W=b&&b.path||"";GT(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Es(),I;if(e){let W=typeof e=="string"?tf(e):e;At(v==="/"||((J=W.pathname)==null?void 0:J.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),I=W}else I=w;let A=I.pathname||"/",x=A;if(v!=="/"){let W=v.replace(/^\//,"").split("/");x="/"+A.replace(/^\//,"").split("/").slice(W.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:kT(r,{pathname:x});Si(b||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Si(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=CI(k&&k.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Ti([v,s.encodeLocation?s.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Ti([v,s.encodeLocation?s.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,t,a);return e&&j?Y.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},j):j}function SI(){let r=MI(),e=yI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:s},t):null,h)}var AI=Y.createElement(SI,null),RI=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Y.createElement(Oi.Provider,{value:this.props.routeContext},Y.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function II({routeContext:r,match:e,children:t}){let a=Y.useContext(Lo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Oi.Provider,{value:r},t)}function CI(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,u=t==null?void 0:t.errors;if(u!=null){let p=s.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:b}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,g,v)=>{let b,w=!1,I=null,A=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||AI,h&&(d<0&&v===0?(GT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):d===v&&(w=!0,A=g.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,v+1)),k=()=>{let j;return b?j=I:w?j=A:g.route.Component?j=Y.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,Y.createElement(II,{match:g,routeContext:{outlet:p,matches:x,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Y.createElement(RI,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}function Xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(r){let e=Y.useContext(Lo);return At(e,Xp(r)),e}function OI(r){let e=Y.useContext(nf);return At(e,Xp(r)),e}function NI(r){let e=Y.useContext(Oi);return At(e,Xp(r)),e}function Zp(r){let e=NI(r),t=e.matches[e.matches.length-1];return At(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function xI(){return Zp("useRouteId")}function MI(){var a;let r=Y.useContext(Qp),e=OI("useRouteError"),t=Zp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function PI(){let{router:r}=DI("useNavigate"),e=Zp("useNavigate"),t=Y.useRef(!1);return HT(()=>{t.current=!0}),Y.useCallback(async(s,u={})=>{Si(t.current,qT),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...u}))},[r,e])}var ME={};function GT(r,e,t){!e&&!ME[r]&&(ME[r]=!0,Si(!1,t))}Y.memo(kI);function kI({routes:r,future:e,state:t}){return FT(r,void 0,t,e)}function Xl(r){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VI({children:r,location:e}){return wI(op(r),e)}function op(r,e=[]){let t=[];return Y.Children.forEach(r,(a,s)=>{if(!Y.isValidElement(a))return;let u=[...e,s];if(a.type===Y.Fragment){t.push.apply(t,op(a.props.children,u));return}At(a.type===Xl,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=op(a.props.children,u)),t.push(h)}),t}var yh="get",vh="application/x-www-form-urlencoded";function sf(r){return r!=null&&typeof r.tagName=="string"}function UI(r){return sf(r)&&r.tagName.toLowerCase()==="button"}function LI(r){return sf(r)&&r.tagName.toLowerCase()==="form"}function jI(r){return sf(r)&&r.tagName.toLowerCase()==="input"}function zI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BI(r,e){return r.button===0&&(!e||e==="_self")&&!zI(r)}var ih=null;function qI(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var HI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(r){return r!=null&&!HI.has(r)?(Si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function FI(r,e){let t,a,s,u,h;if(LI(r)){let d=r.getAttribute("action");a=d?ya(d,e):null,t=r.getAttribute("method")||yh,s=Lm(r.getAttribute("enctype"))||vh,u=new FormData(r)}else if(UI(r)||jI(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(a=p?ya(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||yh,s=Lm(r.getAttribute("formenctype"))||Lm(d.getAttribute("enctype"))||vh,u=new FormData(d,r),!qI()){let{name:g,type:v,value:b}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yh,a=null,s=vh,h=r}return u&&s==="text/plain"&&(h=u,u=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:u,body:h}}function Jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function GI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function KI(r,e,t){let a=await Promise.all(r.map(async s=>{let u=e.routes[s.route.id];if(u){let h=await GI(u,t);return h.links?h.links():[]}return[]}));return XI(a.flat(1).filter(YI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function PE(r,e,t,a,s,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function $I(r,e,{includeHydrateFallback:t}={}){return QI(r.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let u=[s.module];return s.clientActionModule&&(u=u.concat(s.clientActionModule)),s.clientLoaderModule&&(u=u.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(u=u.concat(s.hydrateFallbackModule)),s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function QI(r){return[...new Set(r)]}function WI(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function XI(r,e){let t=new Set;return new Set(e),r.reduce((a,s)=>{let u=JSON.stringify(WI(s));return t.has(u)||(t.add(u),a.push({key:u,link:s})),a},[])}var ZI=new Set([100,101,204,205]);function JI(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ya(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YT(){let r=Y.useContext(Lo);return Jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function e1(){let r=Y.useContext(nf);return Jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var eg=Y.createContext(void 0);eg.displayName="FrameworkContext";function KT(){let r=Y.useContext(eg);return Jp(r,"You must render this element inside a <HydratedRouter> element"),r}function t1(r,e){let t=Y.useContext(eg),[a,s]=Y.useState(!1),[u,h]=Y.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let x=j=>{j.forEach(J=>{h(J.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let x=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(x)}}},[a]);let I=()=>{s(!0)},A=()=>{s(!1),h(!1)};return t?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ql(d,I),onBlur:Ql(p,A),onMouseEnter:Ql(g,I),onMouseLeave:Ql(v,A),onTouchStart:Ql(b,I)}]:[!1,w,{}]}function Ql(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function n1({page:r,...e}){let{router:t}=YT(),a=Y.useMemo(()=>kT(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?Y.createElement(i1,{page:r,matches:a,...e}):null}function r1(r){let{manifest:e,routeModules:t}=KT(),[a,s]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return KI(r,e,t).then(h=>{u||s(h)}),()=>{u=!0}},[r,e,t]),a}function i1({page:r,matches:e,...t}){let a=Es(),{manifest:s,routeModules:u}=KT(),{basename:h}=YT(),{loaderData:d,matches:p}=e1(),g=Y.useMemo(()=>PE(r,e,p,s,a,"data"),[r,e,p,s,a]),v=Y.useMemo(()=>PE(r,e,p,s,a,"assets"),[r,e,p,s,a]),b=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let A=new Set,x=!1;if(e.forEach(j=>{var W;let J=s.routes[j.route.id];!J||!J.hasLoader||(!g.some(ie=>ie.route.id===j.route.id)&&j.route.id in d&&((W=u[j.route.id])!=null&&W.shouldRevalidate)||J.hasClientLoader?x=!0:A.add(j.route.id))}),A.size===0)return[];let k=JI(r,h);return x&&A.size>0&&k.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[h,d,a,s,g,e,r,u]),w=Y.useMemo(()=>$I(v,s),[v,s]),I=r1(v);return Y.createElement(Y.Fragment,null,b.map(A=>Y.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),w.map(A=>Y.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),I.map(({key:A,link:x})=>Y.createElement("link",{key:A,...x})))}function a1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$T&&(window.__reactRouterVersion="7.5.2")}catch{}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WT=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...w},I){let{basename:A}=Y.useContext(Di),x=typeof g=="string"&&QT.test(g),k,j=!1;if(typeof g=="string"&&x&&(k=g,$T))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=ya(P.pathname,A);P.origin===C.origin&&V!=null?g=V+P.search+P.hash:j=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=TI(g,{relative:s}),[W,ie,le]=t1(a,w),ce=u1(g,{replace:h,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:b});function N(C){e&&e(C),C.defaultPrevented||ce(C)}let R=Y.createElement("a",{...w,...le,href:k||J,onClick:j||u?e:N,ref:a1(I,ie),target:p,"data-discover":!x&&t==="render"?"true":void 0});return W&&!x?Y.createElement(Y.Fragment,null,R,Y.createElement(n1,{page:J})):R});WT.displayName="Link";var s1=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:u,to:h,viewTransition:d,children:p,...g},v){let b=Su(h,{relative:g.relative}),w=Es(),I=Y.useContext(nf),{navigator:A,basename:x}=Y.useContext(Di),k=I!=null&&m1(b)&&d===!0,j=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,J=w.pathname,W=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(J=J.toLowerCase(),W=W?W.toLowerCase():null,j=j.toLowerCase()),W&&x&&(W=ya(W,x)||W);const ie=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let le=J===j||!s&&J.startsWith(j)&&J.charAt(ie)==="/",ce=W!=null&&(W===j||!s&&W.startsWith(j)&&W.charAt(j.length)==="/"),N={isActive:le,isPending:ce,isTransitioning:k},R=le?e:void 0,C;typeof a=="function"?C=a(N):C=[a,le?"active":null,ce?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(N):u;return Y.createElement(WT,{...g,"aria-current":R,className:C,ref:v,style:P,to:h,viewTransition:d},typeof p=="function"?p(N):p)});s1.displayName="NavLink";var o1=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:u,method:h=yh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...w},I)=>{let A=f1(),x=d1(d,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&QT.test(d),J=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ie=W.nativeEvent.submitter,le=(ie==null?void 0:ie.getAttribute("formmethod"))||h;A(ie||W.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:s,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return Y.createElement("form",{ref:I,method:k,action:x,onSubmit:a?p:J,...w,"data-discover":!j&&r==="render"?"true":void 0})});o1.displayName="Form";function l1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(r){let e=Y.useContext(Lo);return At(e,l1(r)),e}function u1(r,{target:e,replace:t,state:a,preventScrollReset:s,relative:u,viewTransition:h}={}){let d=Wp(),p=Es(),g=Su(r,{relative:u});return Y.useCallback(v=>{if(BI(v,e)){v.preventDefault();let b=t!==void 0?t:sp(p)===sp(g);d(r,{replace:b,state:a,preventScrollReset:s,relative:u,viewTransition:h})}},[p,d,g,t,a,e,r,s,u,h])}var c1=0,h1=()=>`__${String(++c1)}__`;function f1(){let{router:r}=XT("useSubmit"),{basename:e}=Y.useContext(Di),t=xI();return Y.useCallback(async(a,s={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=FI(a,e);if(s.navigate===!1){let v=s.fetcherKey||h1();await r.fetch(v,t,s.action||u,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||h,formEncType:s.encType||d,flushSync:s.flushSync})}else await r.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||h,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function d1(r,{relative:e}={}){let{basename:t}=Y.useContext(Di),a=Y.useContext(Oi);At(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),u={...Su(r||".",{relative:e})},h=Es();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ti([t,u.pathname])),sp(u)}function m1(r,e={}){let t=Y.useContext(BT);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=XT("useViewTransitionState"),s=Su(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ya(t.currentLocation.pathname,a)||t.currentLocation.pathname,h=ya(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Nh(s.pathname,h)!=null||Nh(s.pathname,u)!=null}new TextEncoder;[...ZI];const p1=()=>{};var kE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let s=r.charCodeAt(a);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},g1=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const s=r[t++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const u=r[t++];e[a++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=r[t++],h=r[t++],d=r[t++],p=((s&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[a++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<r.length;s+=3){const u=r[s],h=s+1<r.length,d=h?r[s+1]:0,p=s+2<r.length,g=p?r[s+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,I=g&63;p||(I=64,h||(w=64)),a.push(t[v],t[b],t[w],t[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ZT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):g1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<r.length;){const u=t[r.charAt(s++)],d=s<r.length?t[r.charAt(s)]:0;++s;const g=s<r.length?t[r.charAt(s)]:64;++s;const b=s<r.length?t[r.charAt(s)]:64;if(++s,u==null||d==null||g==null||b==null)throw new y1;const w=u<<2|d>>4;if(a.push(w),g!==64){const I=d<<4&240|g>>2;if(a.push(I),b!==64){const A=g<<6&192|b;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class y1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v1=function(r){const e=ZT(r);return JT.encodeByteArray(e,!0)},xh=function(r){return v1(r).replace(/\./g,"")},eb=function(r){try{return JT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=()=>_1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof kE>"u")return;const r=kE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},b1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eb(r[1]);return e&&JSON.parse(e)},of=()=>{try{return p1()||E1()||T1()||b1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tb=r=>{var e,t;return(t=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},nb=r=>{const e=tb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},rb=()=>{var r;return(r=of())===null||r===void 0?void 0:r.config},ib=r=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",s=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xh(JSON.stringify(t)),xh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function A1(){var r;const e=(r=of())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function C1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D1(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function O1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function x1(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var u;e(((u=s.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="FirebaseError";class Fr extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=M1,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},s=`${this.service}/${e}`,u=this.errors[e],h=u?P1(u,a):"Error",d=`${this.serviceName}: ${h} (${s}).`;return new Fr(s,d,a)}}function P1(r,e){return r.replace(k1,(t,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const k1=/\{\$([^}]+)}/g;function V1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ds(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const s of t){if(!a.includes(s))return!1;const u=r[s],h=e[s];if(VE(u)&&VE(h)){if(!ds(u,h))return!1}else if(u!==h)return!1}for(const s of a)if(!t.includes(s))return!1;return!0}function VE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[s,u]=a.split("=");e[decodeURIComponent(s)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function U1(r,e){const t=new L1(r,e);return t.subscribe.bind(t)}class L1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let s;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");j1(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:a},s.next===void 0&&(s.next=jm),s.error===void 0&&(s.error=jm),s.complete===void 0&&(s.complete=jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r){return r&&r._delegate?r._delegate:r}class va{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new w1;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q1(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(s)}return s}onInit(e,t){var a;const s=this.normalizeInstanceIdentifier(t),u=(a=this.onInitCallbacks.get(s))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const s of a)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:B1(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(r){return r===ls?void 0:r}function q1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new z1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const F1={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},G1=Ue.INFO,Y1={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},K1=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),s=Y1[e];if(s)console[s](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=G1,this._logHandler=K1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const $1=(r,e)=>e.some(t=>r instanceof t);let UE,LE;function Q1(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W1(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,lp=new WeakMap,ob=new WeakMap,zm=new WeakMap,ng=new WeakMap;function X1(r){const e=new Promise((t,a)=>{const s=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(fa(r.result)),s()},h=()=>{a(r.error),s()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&sb.set(t,r)}).catch(()=>{}),ng.set(e,r),e}function Z1(r){if(lp.has(r))return;const e=new Promise((t,a)=>{const s=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),s()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});lp.set(r,e)}let up={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return lp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ob.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function J1(r){up=r(up)}function eC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Bm(this),e,...t);return ob.set(a,e.sort?e.sort():[e]),fa(a)}:W1().includes(r)?function(...e){return r.apply(Bm(this),e),fa(sb.get(this))}:function(...e){return fa(r.apply(Bm(this),e))}}function tC(r){return typeof r=="function"?eC(r):(r instanceof IDBTransaction&&Z1(r),$1(r,Q1())?new Proxy(r,up):r)}function fa(r){if(r instanceof IDBRequest)return X1(r);if(zm.has(r))return zm.get(r);const e=tC(r);return e!==r&&(zm.set(r,e),ng.set(e,r)),e}const Bm=r=>ng.get(r);function nC(r,e,{blocked:t,upgrade:a,blocking:s,terminated:u}={}){const h=indexedDB.open(r,e),d=fa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(fa(h.result),p.oldVersion,p.newVersion,fa(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const rC=["get","getKey","getAll","getAllKeys","count"],iC=["put","add","delete","clear"],qm=new Map;function jE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,s=iC.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(s||rC.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,s?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return qm.set(e,u),u}J1(r=>({...r,get:(e,t,a)=>jE(e,t)||r.get(e,t,a),has:(e,t)=>!!jE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sC(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function sC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cp="@firebase/app",zE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new tg("@firebase/app"),oC="@firebase/app-compat",lC="@firebase/analytics-compat",uC="@firebase/analytics",cC="@firebase/app-check-compat",hC="@firebase/app-check",fC="@firebase/auth",dC="@firebase/auth-compat",mC="@firebase/database",pC="@firebase/data-connect",gC="@firebase/database-compat",yC="@firebase/functions",vC="@firebase/functions-compat",_C="@firebase/installations",EC="@firebase/installations-compat",TC="@firebase/messaging",bC="@firebase/messaging-compat",wC="@firebase/performance",SC="@firebase/performance-compat",AC="@firebase/remote-config",RC="@firebase/remote-config-compat",IC="@firebase/storage",CC="@firebase/storage-compat",DC="@firebase/firestore",OC="@firebase/vertexai",NC="@firebase/firestore-compat",xC="firebase",MC="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",PC={[cp]:"fire-core",[oC]:"fire-core-compat",[uC]:"fire-analytics",[lC]:"fire-analytics-compat",[hC]:"fire-app-check",[cC]:"fire-app-check-compat",[fC]:"fire-auth",[dC]:"fire-auth-compat",[mC]:"fire-rtdb",[pC]:"fire-data-connect",[gC]:"fire-rtdb-compat",[yC]:"fire-fn",[vC]:"fire-fn-compat",[_C]:"fire-iid",[EC]:"fire-iid-compat",[TC]:"fire-fcm",[bC]:"fire-fcm-compat",[wC]:"fire-perf",[SC]:"fire-perf-compat",[AC]:"fire-rc",[RC]:"fire-rc-compat",[IC]:"fire-gcs",[CC]:"fire-gcs-compat",[DC]:"fire-fst",[NC]:"fire-fst-compat",[OC]:"fire-vertex","fire-js":"fire-js",[xC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,kC=new Map,fp=new Map;function BE(r,e){try{r.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ms(r){const e=r.name;if(fp.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,r);for(const t of Mh.values())BE(t,r);for(const t of kC.values())BE(t,r);return!0}function lf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new Au("app","Firebase",VC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=MC;function lb(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),s=a.name;if(typeof s!="string"||!s)throw da.create("bad-app-name",{appName:String(s)});if(t||(t=rb()),!t)throw da.create("no-options");const u=Mh.get(s);if(u){if(ds(t,u.options)&&ds(a,u.config))return u;throw da.create("duplicate-app",{appName:s})}const h=new H1(s);for(const p of fp.values())h.addComponent(p);const d=new UC(t,a,h);return Mh.set(s,d),d}function rg(r=hp){const e=Mh.get(r);if(!e&&r===hp&&rb())return lb();if(!e)throw da.create("no-app",{appName:r});return e}function Lr(r,e,t){var a;let s=(a=PC[r])!==null&&a!==void 0?a:r;t&&(s+=`-${t}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(d.join(" "));return}ms(new va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebase-heartbeat-database",jC=1,fu="firebase-heartbeat-store";let Hm=null;function ub(){return Hm||(Hm=nC(LC,jC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(t){console.warn(t)}}}}).catch(r=>{throw da.create("idb-open",{originalErrorMessage:r.message})})),Hm}async function zC(r){try{const t=(await ub()).transaction(fu),a=await t.objectStore(fu).get(cb(r));return await t.done,a}catch(e){if(e instanceof Fr)Ai.warn(e.message);else{const t=da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function qE(r,e){try{const a=(await ub()).transaction(fu,"readwrite");await a.objectStore(fu).put(e,cb(r)),await a.done}catch(t){if(t instanceof Fr)Ai.warn(t.message);else{const a=da.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(a.message)}}}function cb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=1024,qC=30;class HC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GC(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=HE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:s}),this._heartbeatsCache.heartbeats.length>qC){const h=YC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ai.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=HE(),{heartbeatsToSend:a,unsentEntries:s}=FC(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ai.warn(t),""}}}function HE(){return new Date().toISOString().substring(0,10)}function FC(r,e=BC){const t=[];let a=r.slice();for(const s of r){const u=t.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),FE(t)>e){u.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),FE(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class GC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?x1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FE(r){return xh(JSON.stringify({version:2,heartbeats:r})).length}function YC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r){ms(new va("platform-logger",e=>new aC(e),"PRIVATE")),ms(new va("heartbeat",e=>new HC(e),"PRIVATE")),Lr(cp,zE,r),Lr(cp,zE,"esm2017"),Lr("fire-js","")}KC("");function ig(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t}function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $C=hb,fb=new Au("auth","Firebase",hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new tg("@firebase/auth");function QC(r,...e){Ph.logLevel<=Ue.WARN&&Ph.warn(`Auth (${Ts}): ${r}`,...e)}function _h(r,...e){Ph.logLevel<=Ue.ERROR&&Ph.error(`Auth (${Ts}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(r,...e){throw sg(r,...e)}function yr(r,...e){return sg(r,...e)}function ag(r,e,t){const a=Object.assign(Object.assign({},$C()),{[e]:t});return new Au("auth","Firebase",a).create(e,{appName:r.name})}function bi(r){return ag(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WC(r,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&nr(r,"argument-error"),ag(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return fb.create(r,...e)}function Te(r,e,...t){if(!r)throw sg(e,...t)}function _i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _h(e),new Error(e)}function Ri(r,e){r||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XC(){return GE()==="http:"||GE()==="https:"}function GE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||I1()||"connection"in navigator)?navigator.onLine:!0}function JC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=S1()||C1()}get(){return ZC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e){Ri(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nD=new Iu(3e4,6e4);function Aa(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ra(r,e,t,a,s={}){return mb(r,s,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const d=Ru(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return R1()||(g.referrerPolicy="no-referrer"),db.fetch()(await pb(r,r.config.apiHost,t,d),g)})}async function mb(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},eD),e);try{const s=new iD(r),u=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw ah(r,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ag(r,v,g);nr(r,v)}}catch(s){if(s instanceof Fr)throw s;nr(r,"network-request-failed",{message:String(s)})}}async function Cu(r,e,t,a,s={}){const u=await Ra(r,e,t,a,s);return"mfaPendingCredential"in u&&nr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function pb(r,e,t,a){const s=`${e}${t}?${a}`,u=r,h=u.config.emulator?og(r.config,s):`${r.config.apiScheme}://${s}`;return tD.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function rD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(yr(this.auth,"network-request-failed")),nD.get())})}}function ah(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const s=yr(r,e,a);return s.customData._tokenResponse=t,s}function YE(r){return r!==void 0&&r.enterprise!==void 0}class aD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sD(r,e){return Ra(r,"GET","/v2/recaptchaConfig",Aa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(r,e){return Ra(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return Ra(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lD(r,e=!1){const t=Kt(r),a=await t.getIdToken(e),s=lg(a);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const u=typeof s.firebase=="object"?s.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:s,token:a,authTime:au(Fm(s.auth_time)),issuedAtTime:au(Fm(s.iat)),expirationTime:au(Fm(s.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Fm(r){return Number(r)*1e3}function lg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const s=eb(t);return s?JSON.parse(s):(_h("Failed to decode base64 JWT payload"),null)}catch(s){return _h("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function KE(r){const e=lg(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Fr&&uD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function uD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(r){var e;const t=r.auth,a=await r.getIdToken(),s=await du(r,kh(t,{idToken:a}));Te(s==null?void 0:s.users.length,t,"internal-error");const u=s.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?gb(u.providerUserInfo):[],d=fD(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new mp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,b)}async function hD(r){const e=Kt(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fD(r,e){return[...r.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function gb(r){return r.map(e=>{var{providerId:t}=e,a=ig(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(r,e){const t=await mb(r,{},async()=>{const a=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:u}=r.config,h=await pb(r,s,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",db.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mD(r,e){return Ra(r,"POST","/v2/accounts:revokeToken",Aa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=KE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:s,expiresIn:u}=await dD(e,t);this.updateTokensAndExpiration(a,s,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:s,expirationTime:u}=t,h=new Io;return a&&(Te(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),s&&(Te(typeof s=="string","internal-error",{appName:e}),h.accessToken=s),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:t,auth:a,stsTokenManager:s}=e,u=ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new mp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await du(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lD(this,e)}reload(){return hD(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await du(this,oD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,s,u,h,d,p,g,v;const b=(a=t.displayName)!==null&&a!==void 0?a:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,A=(h=t.photoURL)!==null&&h!==void 0?h:void 0,x=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,j=(g=t.createdAt)!==null&&g!==void 0?g:void 0,J=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:ie,isAnonymous:le,providerData:ce,stsTokenManager:N}=t;Te(W&&N,e,"internal-error");const R=Io.fromJSON(this.name,N);Te(typeof W=="string",e,"internal-error"),sa(b,e.name),sa(w,e.name),Te(typeof ie=="boolean",e,"internal-error"),Te(typeof le=="boolean",e,"internal-error"),sa(I,e.name),sa(A,e.name),sa(x,e.name),sa(k,e.name),sa(j,e.name),sa(J,e.name);const C=new mr({uid:W,auth:e,email:w,emailVerified:ie,displayName:b,isAnonymous:le,photoURL:A,phoneNumber:I,tenantId:x,stsTokenManager:R,createdAt:j,lastLoginAt:J});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(P=>Object.assign({},P))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(e,t,a=!1){const s=new Io;s.updateFromServerResponse(t);const u=new mr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,t,a){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const u=s.providerUserInfo!==void 0?gb(s.providerUserInfo):[],h=!(s.email&&s.passwordHash)&&!(u!=null&&u.length),d=new Io;d.updateFromIdToken(a);const p=new mr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new mp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function Ei(r){Ri(r instanceof Function,"Expected a class definition");let e=$E.get(r);return e?(Ri(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$E.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yb.type="NONE";const QE=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,e,t){return`firebase:${r}:${e}:${t}`}class Co{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:s,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,s.apiKey,u),this.fullPersistenceKey=Eh("persistence",s.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kh(this.auth,{idToken:e}).catch(()=>{});return t?mr._fromGetAccountInfoResponse(this.auth,t,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Co(Ei(QE),e,a);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=s[0]||Ei(QE);const h=Eh(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const w=await kh(e,{idToken:v}).catch(()=>{});if(!w)break;b=await mr._fromGetAccountInfoResponse(e,w,v)}else b=mr._fromJSON(e,v);g!==u&&(d=b),u=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,e,a):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Co(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Sb(e))return"Webos";if(_b(e))return"Safari";if((e.includes("chrome/")||Eb(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function vb(r=mn()){return/firefox\//i.test(r)}function _b(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eb(r=mn()){return/crios\//i.test(r)}function Tb(r=mn()){return/iemobile/i.test(r)}function bb(r=mn()){return/android/i.test(r)}function wb(r=mn()){return/blackberry/i.test(r)}function Sb(r=mn()){return/webos/i.test(r)}function ug(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pD(r=mn()){var e;return ug(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gD(){return D1()&&document.documentMode===10}function Ab(r=mn()){return ug(r)||bb(r)||Sb(r)||wb(r)||/windows phone/i.test(r)||Tb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r,e=[]){let t;switch(r){case"Browser":t=WE(mn());break;case"Worker":t=`${WE(mn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ts}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(r,e={}){return Ra(r,"GET","/v2/passwordPolicy",Aa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class ED{constructor(e){var t,a,s,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:_D,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,s,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,s,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t,a,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var a,s,u;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kh(this,{idToken:e}),a=await mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let s=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(s=p.user,u=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(bi(this));const t=e?Kt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vD(this),t=new ED(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await mD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,s){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,s);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ia(r){return Kt(r)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=U1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bD(r){uf=r}function Ib(r){return uf.loadJS(r)}function wD(){return uf.recaptchaEnterpriseScript}function SD(){return uf.gapiScript}function AD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RD{constructor(){this.enterprise=new ID}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ID{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const CD="recaptcha-enterprise",Cb="NO_RECAPTCHA";class DD{constructor(e){this.type=CD,this.auth=Ia(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{sD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new aD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function s(u,h,d){const p=window.grecaptcha;YE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Cb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(d=>{if(!t&&YE(window.grecaptcha))s(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wD();p.length!==0&&(p+=d),Ib(p).then(()=>{s(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function ZE(r,e,t,a=!1,s=!1){const u=new DD(r);let h;if(s)h=Cb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pp(r,e,t,a,s){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ZE(r,e,t,t==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ZE(r,e,t,t==="getOobCode");return a(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(r,e){const t=lf(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),u=t.getOptions();if(ds(u,e??{}))return s;nr(s,"already-initialized")}return t.initialize({options:e})}function ND(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Ei);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function xD(r,e,t){const a=Ia(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,u=Db(e),{host:h,port:d}=MD(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(ds(g,a.config.emulator)&&ds(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,PD()}function Db(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MD(r){const e=Db(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const u=s[1];return{host:u,port:JE(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:JE(h)}}}function JE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PD(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function kD(r,e){return Ra(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",Aa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Aa(r,e))}async function LD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Aa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends cg{constructor(e,t,a,s=null){super("password",a),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new mu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new mu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,t,"signInWithPassword",VD);case"emailLink":return UD(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,a,"signUpPassword",kD);case"emailLink":return LD(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",Aa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class ps extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s}=t,u=ig(t,["providerId","signInMethod"]);if(!a||!s)return null;const h=new ps(a,s);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Do(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BD(r){const e=Zl(Jl(r)).link,t=e?Zl(Jl(e)).deep_link_id:null,a=Zl(Jl(r)).deep_link_id;return(a?Zl(Jl(a)).link:null)||a||t||e||r}class hg{constructor(e){var t,a,s,u,h,d;const p=Zl(Jl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,b=zD((s=p.mode)!==null&&s!==void 0?s:null);Te(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=BD(e);try{return new hg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,t){return mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=hg.parseLink(t);return Te(a,"argument-error"),mu._fromEmailAndCode(e,a.code,a.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Du{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ps._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return vi.credential(t,a)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Du{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Du{constructor(){super("twitter.com")}static credential(e,t){return ps._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ua.credential(t,a)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e){return Cu(r,"POST","/v1/accounts:signUp",Aa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,s=!1){const u=await mr._fromIdTokenResponse(e,a,s),h=e0(a);return new gs({user:u,providerId:h,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const s=e0(a);return new gs({user:e,providerId:s,_tokenResponse:a,operationType:t})}}function e0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Fr{constructor(e,t,a,s){var u;super(t.code,t.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,s){return new Uh(e,t,a,s)}}function Ob(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,u,e,a):u})}async function HD(r,e,t=!1){const a=await du(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return gs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(r,e,t=!1){const{auth:a}=r;if(An(a.app))return Promise.reject(bi(a));const s="reauthenticate";try{const u=await du(r,Ob(a,s,e,r),t);Te(u.idToken,a,"internal-error");const h=lg(u.idToken);Te(h,a,"internal-error");const{sub:d}=h;return Te(r.uid===d,a,"user-mismatch"),gs._forOperation(r,s,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&nr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(r,e,t=!1){if(An(r.app))return Promise.reject(bi(r));const a="signIn",s=await Ob(r,a,e),u=await gs._fromIdTokenResponse(r,a,s);return t||await r._updateCurrentUser(u.user),u}async function GD(r,e){return Nb(Ia(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(r){const e=Ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mb(r,e,t){if(An(r.app))return Promise.reject(bi(r));const a=Ia(r),h=await pp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xb(r),p}),d=await gs._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function YD(r,e,t){return An(r.app)?Promise.reject(bi(r)):GD(Kt(r),jo.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&xb(r),a})}function KD(r,e,t,a){return Kt(r).onIdTokenChanged(e,t,a)}function $D(r,e,t){return Kt(r).beforeAuthStateChanged(e,t)}function QD(r,e,t,a){return Kt(r).onAuthStateChanged(e,t,a)}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1e3,XD=10;class kb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),s=this.localCache[t];a!==s&&e(t,s,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const h=this.storage.getItem(a);!t&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);gD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XD):s()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const ZD=kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vb.type="SESSION";const Ub=Vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const a=new cf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:s,data:u}=t.data,h=this.handlersMap[s];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await JD(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=dg("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:s,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),s.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function tO(r){jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function nO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function iO(){return Lb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebaseLocalStorageDb",aO=1,jh="firebaseLocalStorage",zb="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function sO(){const r=indexedDB.deleteDatabase(jb);return new Ou(r).toPromise()}function gp(){const r=indexedDB.open(jb,aO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(jh,{keyPath:zb})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(jh)?e(a):(a.close(),await sO(),e(await gp()))})})}async function t0(r,e,t){const a=hf(r,!0).put({[zb]:e,value:t});return new Ou(a).toPromise()}async function oO(r,e){const t=hf(r,!1).get(e),a=await new Ou(t).toPromise();return a===void 0?null:a.value}function n0(r,e){const t=hf(r,!0).delete(e);return new Ou(t).toPromise()}const lO=800,uO=3;class Bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>uO)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(iO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nO(),!this.activeServiceWorker)return;this.sender=new eO(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await t0(e,Lh,"1"),await n0(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>t0(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>oO(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>n0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const u=hf(s,!1).getAll();return new Ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:u}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bb.type="LOCAL";const cO=Bb;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(r,e){return e?Ei(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hO(r){return Nb(r.auth,new mg(r),r.bypassAuthState)}function fO(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),FD(t,new mg(r),r.bypassAuthState)}async function dO(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),HD(t,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t,a,s,u=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:s,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hO;case"linkViaPopup":case"linkViaRedirect":return dO;case"reauthViaPopup":case"reauthViaRedirect":return fO;default:nr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Iu(2e3,1e4);async function pO(r,e,t){if(An(r.app))return Promise.reject(yr(r,"operation-not-supported-in-this-environment"));const a=Ia(r);WC(r,e,fg);const s=qb(a,t);return new us(a,"signInViaPopup",e,s).executeNotNull()}class us extends Hb{constructor(e,t,a,s,u){super(e,t,s,u),this.provider=a,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mO.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="pendingRedirect",Th=new Map;class yO extends Hb{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const a=await vO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vO(r,e){const t=TO(e),a=EO(r);if(!await a._isAvailable())return!1;const s=await a._get(t)==="true";return await a._remove(t),s}function _O(r,e){Th.set(r._key(),e)}function EO(r){return Ei(r._redirectPersistence)}function TO(r){return Eh(gO,r.config.apiKey,r.name)}async function bO(r,e,t=!1){if(An(r.app))return Promise.reject(bi(r));const a=Ia(r),s=qb(a,e),h=await new yO(a,s,t).execute();return h&&!t&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=10*60*1e3;class SO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!Fb(e)){const s=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wO&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}}function r0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Fb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(r,e={}){return Ra(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function DO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RO(r);for(const t of e)try{if(OO(t))return}catch{}nr(r,"unauthorized-domain")}function OO(r){const e=dp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===a}if(!CO.test(t))return!1;if(IO.test(r))return a===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Iu(3e4,6e4);function i0(){const r=jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function xO(r){return new Promise((e,t)=>{var a,s,u;function h(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),t(yr(r,"network-request-failed"))},timeout:NO.get()})}if(!((s=(a=jr().gapi)===null||a===void 0?void 0:a.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((u=jr().gapi)===null||u===void 0)&&u.load)h();else{const d=AD("iframefcb");return jr()[d]=()=>{gapi.load?h():t(yr(r,"network-request-failed"))},Ib(`${SD()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw bh=null,e})}let bh=null;function MO(r){return bh=bh||xO(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new Iu(5e3,15e3),kO="__/auth/iframe",VO="emulator/auth/iframe",UO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jO(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?og(e,VO):`https://${r.config.authDomain}/${kO}`,a={apiKey:e.apiKey,appName:r.name,v:Ts},s=LO.get(r.config.apiHost);s&&(a.eid=s);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Ru(a).slice(1)}`}async function zO(r){const e=await MO(r),t=jr().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:jO(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UO,dontclear:!0},a=>new Promise(async(s,u)=>{await a.restyle({setHideOnLeave:!1});const h=yr(r,"network-request-failed"),d=jr().setTimeout(()=>{u(h)},PO.get());function p(){jr().clearTimeout(d),s(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qO=500,HO=600,FO="_blank",GO="http://localhost";class a0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YO(r,e,t,a=qO,s=HO){const u=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},BO),{width:a.toString(),height:s.toString(),top:u,left:h}),g=mn().toLowerCase();t&&(d=Eb(g)?FO:t),vb(g)&&(e=e||GO,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[I,A])=>`${w}${I}=${A},`,"");if(pD(g)&&d!=="_self")return KO(e||"",d),new a0(null);const b=window.open(e||"",d,v);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new a0(b)}function KO(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="__/auth/handler",QO="emulator/auth/handler",WO=encodeURIComponent("fac");async function s0(r,e,t,a,s,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Ts,eventId:s};if(e instanceof fg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",V1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Du){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${WO}=${encodeURIComponent(p)}`:"";return`${XO(r)}?${Ru(d).slice(1)}${g}`}function XO({config:r}){return r.emulator?og(r,QO):`https://${r.authDomain}/${$O}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class ZO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=bO,this._overrideRedirectResult=_O}async _openPopup(e,t,a,s){var u;Ri((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await s0(e,t,a,dp(),s);return YO(e,h,dg())}async _openRedirect(e,t,a,s){await this._originValidation(e);const u=await s0(e,t,a,dp(),s);return tO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:u}=this.eventManagers[t];return s?Promise.resolve(s):(Ri(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await zO(e),a=new SO(e);return t.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gm,{type:Gm},s=>{var u;const h=(u=s==null?void 0:s[0])===null||u===void 0?void 0:u[Gm];h!==void 0&&t(!!h),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ab()||_b()||ug()}}const JO=ZO;var o0="@firebase/auth",l0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nN(r){ms(new va("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rb(r)},g=new TD(a,s,u,p);return ND(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),ms(new va("auth-internal",e=>{const t=Ia(e.getProvider("auth").getImmediate());return(a=>new eN(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(o0,l0,tN(r)),Lr(o0,l0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=5*60,iN=ib("authIdTokenMaxAge")||rN;let u0=null;const aN=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>iN)return;const s=t==null?void 0:t.token;u0!==s&&(u0=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sN(r=rg()){const e=lf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=OD(r,{popupRedirectResolver:JO,persistence:[cO,ZD,Ub]}),a=ib("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=aN(u.toString());$D(t,h,()=>h(t.currentUser)),KD(t,d=>h(d))}}const s=tb("auth");return s&&xD(t,`http://${s}`),t}function oN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}bD({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=s=>{const u=yr("internal-error");u.customData=s,t(u)},a.type="text/javascript",a.charset="UTF-8",oN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nN("Browser");var lN="firebase",uN="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(lN,uN,"app");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,Gb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.D=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(P,V,L){for(var O=Array(arguments.length-2),st=2;st<arguments.length;st++)O[st-2]=arguments[st];return R.prototype[V].apply(P,O)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,R,C){C||(C=0);var P=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)P[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)P[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],V=N.g[2];var L=N.g[3],O=R+(L^C&(V^L))+P[0]+3614090360&4294967295;R=C+(O<<7&4294967295|O>>>25),O=L+(V^R&(C^V))+P[1]+3905402710&4294967295,L=R+(O<<12&4294967295|O>>>20),O=V+(C^L&(R^C))+P[2]+606105819&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(R^V&(L^R))+P[3]+3250441966&4294967295,C=V+(O<<22&4294967295|O>>>10),O=R+(L^C&(V^L))+P[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=L+(V^R&(C^V))+P[5]+1200080426&4294967295,L=R+(O<<12&4294967295|O>>>20),O=V+(C^L&(R^C))+P[6]+2821735955&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(R^V&(L^R))+P[7]+4249261313&4294967295,C=V+(O<<22&4294967295|O>>>10),O=R+(L^C&(V^L))+P[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=L+(V^R&(C^V))+P[9]+2336552879&4294967295,L=R+(O<<12&4294967295|O>>>20),O=V+(C^L&(R^C))+P[10]+4294925233&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(R^V&(L^R))+P[11]+2304563134&4294967295,C=V+(O<<22&4294967295|O>>>10),O=R+(L^C&(V^L))+P[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=L+(V^R&(C^V))+P[13]+4254626195&4294967295,L=R+(O<<12&4294967295|O>>>20),O=V+(C^L&(R^C))+P[14]+2792965006&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(R^V&(L^R))+P[15]+1236535329&4294967295,C=V+(O<<22&4294967295|O>>>10),O=R+(V^L&(C^V))+P[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(R^C))+P[6]+3225465664&4294967295,L=R+(O<<9&4294967295|O>>>23),O=V+(R^C&(L^R))+P[11]+643717713&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^R&(V^L))+P[0]+3921069994&4294967295,C=V+(O<<20&4294967295|O>>>12),O=R+(V^L&(C^V))+P[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(R^C))+P[10]+38016083&4294967295,L=R+(O<<9&4294967295|O>>>23),O=V+(R^C&(L^R))+P[15]+3634488961&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^R&(V^L))+P[4]+3889429448&4294967295,C=V+(O<<20&4294967295|O>>>12),O=R+(V^L&(C^V))+P[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(R^C))+P[14]+3275163606&4294967295,L=R+(O<<9&4294967295|O>>>23),O=V+(R^C&(L^R))+P[3]+4107603335&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^R&(V^L))+P[8]+1163531501&4294967295,C=V+(O<<20&4294967295|O>>>12),O=R+(V^L&(C^V))+P[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(R^C))+P[2]+4243563512&4294967295,L=R+(O<<9&4294967295|O>>>23),O=V+(R^C&(L^R))+P[7]+1735328473&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^R&(V^L))+P[12]+2368359562&4294967295,C=V+(O<<20&4294967295|O>>>12),O=R+(C^V^L)+P[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=L+(R^C^V)+P[8]+2272392833&4294967295,L=R+(O<<11&4294967295|O>>>21),O=V+(L^R^C)+P[11]+1839030562&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^R)+P[14]+4259657740&4294967295,C=V+(O<<23&4294967295|O>>>9),O=R+(C^V^L)+P[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=L+(R^C^V)+P[4]+1272893353&4294967295,L=R+(O<<11&4294967295|O>>>21),O=V+(L^R^C)+P[7]+4139469664&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^R)+P[10]+3200236656&4294967295,C=V+(O<<23&4294967295|O>>>9),O=R+(C^V^L)+P[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=L+(R^C^V)+P[0]+3936430074&4294967295,L=R+(O<<11&4294967295|O>>>21),O=V+(L^R^C)+P[3]+3572445317&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^R)+P[6]+76029189&4294967295,C=V+(O<<23&4294967295|O>>>9),O=R+(C^V^L)+P[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=L+(R^C^V)+P[12]+3873151461&4294967295,L=R+(O<<11&4294967295|O>>>21),O=V+(L^R^C)+P[15]+530742520&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^R)+P[2]+3299628645&4294967295,C=V+(O<<23&4294967295|O>>>9),O=R+(V^(C|~L))+P[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=L+(C^(R|~V))+P[7]+1126891415&4294967295,L=R+(O<<10&4294967295|O>>>22),O=V+(R^(L|~C))+P[14]+2878612391&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~R))+P[5]+4237533241&4294967295,C=V+(O<<21&4294967295|O>>>11),O=R+(V^(C|~L))+P[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=L+(C^(R|~V))+P[3]+2399980690&4294967295,L=R+(O<<10&4294967295|O>>>22),O=V+(R^(L|~C))+P[10]+4293915773&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~R))+P[1]+2240044497&4294967295,C=V+(O<<21&4294967295|O>>>11),O=R+(V^(C|~L))+P[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=L+(C^(R|~V))+P[15]+4264355552&4294967295,L=R+(O<<10&4294967295|O>>>22),O=V+(R^(L|~C))+P[6]+2734768916&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~R))+P[13]+1309151649&4294967295,C=V+(O<<21&4294967295|O>>>11),O=R+(V^(C|~L))+P[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=L+(C^(R|~V))+P[11]+3174756917&4294967295,L=R+(O<<10&4294967295|O>>>22),O=V+(R^(L|~C))+P[2]+718787259&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~R))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var C=R-this.blockSize,P=this.B,V=this.h,L=0;L<R;){if(V==0)for(;L<=C;)s(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(P[V++]=N.charCodeAt(L++),V==this.blockSize){s(this,P),V=0;break}}else for(;L<R;)if(P[V++]=N[L++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=R},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var C=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.u(N),N=Array(16),R=C=0;4>R;++R)for(var P=0;32>P;P+=8)N[C++]=this.g[R]>>>P&255;return N};function u(N,R){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function h(N,R){this.h=R;for(var C=[],P=!0,V=N.length-1;0<=V;V--){var L=N[V]|0;P&&L==R||(C[V]=L,P=!1)}this.g=C}var d={};function p(N){return-128<=N&&128>N?u(N,function(R){return new h([R|0],0>R?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return k(g(-N));for(var R=[],C=1,P=0;N>=C;P++)R[P]=N/C|0,C*=4294967296;return new h(R,0)}function v(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return k(v(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),P=b,V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V),O=parseInt(N.substring(V,V+L),R);8>L?(L=g(Math.pow(R,L)),P=P.j(L).add(g(O))):(P=P.j(C),P=P.add(g(O)))}return P}var b=p(0),w=p(1),I=p(16777216);r=h.prototype,r.m=function(){if(x(this))return-k(this).m();for(var N=0,R=1,C=0;C<this.g.length;C++){var P=this.i(C);N+=(0<=P?P:4294967296+P)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(x(this))return"-"+k(this).toString(N);for(var R=g(Math.pow(N,6)),C=this,P="";;){var V=ie(C,R).g;C=j(C,V.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=V,A(C))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function x(N){return N.h==-1}r.l=function(N){return N=j(this,N),x(N)?-1:A(N)?0:1};function k(N){for(var R=N.g.length,C=[],P=0;P<R;P++)C[P]=~N.g[P];return new h(C,~N.h).add(w)}r.abs=function(){return x(this)?k(this):this},r.add=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],P=0,V=0;V<=R;V++){var L=P+(this.i(V)&65535)+(N.i(V)&65535),O=(L>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);P=O>>>16,L&=65535,O&=65535,C[V]=O<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function j(N,R){return N.add(k(R))}r.j=function(N){if(A(this)||A(N))return b;if(x(this))return x(N)?k(this).j(k(N)):k(k(this).j(N));if(x(N))return k(this.j(k(N)));if(0>this.l(I)&&0>N.l(I))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,C=[],P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<N.g.length;V++){var L=this.i(P)>>>16,O=this.i(P)&65535,st=N.i(V)>>>16,Ze=N.i(V)&65535;C[2*P+2*V]+=O*Ze,J(C,2*P+2*V),C[2*P+2*V+1]+=L*Ze,J(C,2*P+2*V+1),C[2*P+2*V+1]+=O*st,J(C,2*P+2*V+1),C[2*P+2*V+2]+=L*st,J(C,2*P+2*V+2)}for(P=0;P<R;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=R;P<2*R;P++)C[P]=0;return new h(C,0)};function J(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function W(N,R){this.g=N,this.h=R}function ie(N,R){if(A(R))throw Error("division by zero");if(A(N))return new W(b,b);if(x(N))return R=ie(k(N),R),new W(k(R.g),k(R.h));if(x(R))return R=ie(N,k(R)),new W(k(R.g),R.h);if(30<N.g.length){if(x(N)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,P=R;0>=P.l(N);)C=le(C),P=le(P);var V=ce(C,1),L=ce(P,1);for(P=ce(P,2),C=ce(C,2);!A(P);){var O=L.add(P);0>=O.l(N)&&(V=V.add(C),L=O),P=ce(P,1),C=ce(C,1)}return R=j(N,V.j(R)),new W(V,R)}for(V=b;0<=N.l(R);){for(C=Math.max(1,Math.floor(N.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=g(C),O=L.j(R);x(O)||0<O.l(N);)C-=P,L=g(C),O=L.j(R);A(L)&&(L=w),V=V.add(L),N=j(N,O)}return new W(V,N)}r.A=function(N){return ie(this,N).h},r.and=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)&N.i(P);return new h(C,this.h&N.h)},r.or=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)|N.i(P);return new h(C,this.h|N.h)},r.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)^N.i(P);return new h(C,this.h^N.h)};function le(N){for(var R=N.g.length+1,C=[],P=0;P<R;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new h(C,N.h)}function ce(N,R){var C=R>>5;R%=32;for(var P=N.g.length-C,V=[],L=0;L<P;L++)V[L]=0<R?N.i(L+C)>>>R|N.i(L+C+1)<<32-R:N.i(L+C);return new h(V,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Gb=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ma=h}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yb,eu,Kb,wh,yp,$b,Qb,Wb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=t(this);function s(c,y){if(y)e:{var _=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,B={next:function(){if(!S&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,B,$){for(var se=Array(arguments.length-2),je=2;je<arguments.length;je++)se[je-2]=arguments[je];return y.prototype[B].apply(S,se)}}function x(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const B=c.length||0,$=S.length||0;c.length=B+$;for(let se=0;se<$;se++)c[B+se]=S[se]}else c.push(S)}}class j{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var le=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ce(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let $=0;$<C.length;$++)_=C[$],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class st{constructor(){this.h=this.g=null}add(y,_){const S=Ze.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ze=new j(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,me=!1,Oe=new st,M=()=>{const c=d.Promise.resolve(void 0);ue=()=>{c.then(ee)}};var ee=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){L(_)}var y=Ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ie(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}A(Ie,ae);var ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),He=0;function Mt(c,y,_,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++He,this.da=this.fa=!1}function Un(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rn(c){this.src=c,this.g={},this.h=0}Rn.prototype.add=function(c,y,_,S,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=rr(c,y,S,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Mt(y,this.src,$,!!S,B),y.fa=_,c.push(y)),y};function Ln(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(S,B,1),$&&(Un(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function rr(c,y,_,S){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==S)return B}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),ir={};function $t(c,y,_,S,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)$t(c,y[$],_,S,B);return null}return _=Ds(_),c&&c[ct]?c.K(y,_,g(S)?!!S.capture:!1,B):Qt(c,y,_,!1,S,B)}function Qt(c,y,_,S,B,$){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,je=Yr(c);if(je||(c[rt]=je=new Rn(c)),_=je.add(y,_,S,se,$),_.proxy)return _;if(S=Cs(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)pe||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(Gr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cs(){function c(_){return y.call(c.src,c.listener,_)}const y=Ko;return c}function xi(c,y,_,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)xi(c,y[$],_,S,B);else S=g(S)?!!S.capture:!!S,_=Ds(_),c&&c[ct]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=rr($,_,S,B),-1<_&&(Un($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Yr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rr(y,_,S,B)),(_=-1<c?y[c]:null)&&Mi(_))}function Mi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])Ln(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Gr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Yr(y))?(Ln(_,c),_.h==0&&(_.src=null,y[rt]=null)):Un(c)}}}function Gr(c){return c in ir?ir[c]:ir[c]="on"+c}function Ko(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Mi(c),c=_.call(S,y)}return c}function Yr(c){return c=c[rt],c instanceof Rn?c:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ds(c){return typeof c=="function"?c:(c[Oa]||(c[Oa]=function(y){return c.handleEvent(y)}),c[Oa])}function ht(){oe.call(this),this.i=new Rn(this),this.M=this,this.F=null}A(ht,oe),ht.prototype[ct]=!0,ht.prototype.removeEventListener=function(c,y,_,S){xi(this,c,y,_,S)};function Ye(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var B=y;y=new ae(S,c),P(y,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var se=y.g=_[$];B=pn(se,S,!0,y)&&B}if(se=y.g=c,B=pn(se,S,!0,y)&&B,B=pn(se,S,!1,y)&&B,_)for($=0;$<_.length;$++)se=y.g=_[$],B=pn(se,S,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Un(_[S]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ht.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function pn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==_){var je=se.listener,Pt=se.ha||se.src;se.fa&&Ln(c.i,se),B=je.call(Pt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Rt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Na(c){c.g=Rt(()=>{c.g=null,c.i&&(c.i=!1,Na(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Os extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(c){oe.call(this),this.h=c,this.g={}}A(Kr,oe);var jn=[];function _r(c){ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&Mi(y)},c),c.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),_r(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=d.JSON.stringify,$r=d.JSON.parse,Er=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Qr(){}Qr.prototype.h=null;function xa(c){return c.h||(c.h=c.i())}function Pi(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){ae.call(this,"d")}A(zn,ae);function It(){ae.call(this,"c")}A(It,ae);var lt={},Tr=null;function Fe(){return Tr=Tr||new ht}lt.La="serverreachability";function Wt(c){ae.call(this,lt.La,c)}A(Wt,ae);function br(c){const y=Fe();Ye(y,new Wt(y))}lt.STAT_EVENT="statevent";function ki(c,y){ae.call(this,lt.STAT_EVENT,c),this.stat=y}A(ki,ae);function it(c){const y=Fe();Ye(y,new ki(y,c))}lt.Ma="timingevent";function yt(c,y){ae.call(this,lt.Ma,c),this.size=y}A(yt,ae);function ft(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Xt(){this.g=!0}Xt.prototype.xa=function(){this.g=!1};function Wr(c,y,_,S,B,$){c.info(function(){if(c.g)if($)for(var se="",je=$.split("&"),Pt=0;Pt<je.length;Pt++){var ze=je[Pt].split("=");if(1<ze.length){var qt=ze[0];ze=ze[1];var kt=qt.split("_");se=2<=kt.length&&kt[1]=="type"?se+(qt+"="+ze+"&"):se+(qt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Ma(c,y,_,S,B,$,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+$+" "+se})}function Bn(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+sr(c,_)+(S?" "+S:"")})}function Ns(c,y){c.info(function(){return"TIMEOUT: "+y})}Xt.prototype.info=function(){};function sr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return In(_)}catch{return y}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Se(){}A(Se,Qr),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},qn=new Se;function Me(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var Zt={},zt={};function gn(c,y,_){c.L=1,c.v=La(Cn(y)),c.m=_,c.P=!0,ur(c,null)}function ur(c,y){c.F=Date.now(),Pa(c),c.A=Cn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Jo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Ce,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Os(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(jn[0]=B.toString()),B=jn);for(var $=0;$<B.length;$++){var se=$t(_,B[$],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),br(),Wr(c.i,c.u,c.A,c.l,c.R,c.m)}Me.prototype.ca=function(c){c=c.target;const y=this.M;y&&Yn(c)==3?y.j():this.Y(c)},Me.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Yn(this.g);var y=this.g.Ba();const ii=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||kt!=4||y==7||(y==8||0>=ii?br(3):br(2)),Vi(this);var _=this.g.Z();this.X=_;t:if(xs(this)){var S=Yu(this.g);c="";var B=S.length,$=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),wr(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Ma(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Pt=this.g;if((je=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var ze=je;break t}}ze=null}if(_=ze)Bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,_);else{this.o=!1,this.s=3,it(12),Jt(this),wr(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<se.length;)if(en=zu(this,se),en==zt){kt==4&&(this.s=4,it(14),_=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Zt){this.s=4,it(15),Bn(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Bn(this.i,this.l,en,null),ka(this,en);if(xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||se.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)Bn(this.i,this.l,se,"[Invalid Chunked Response]"),Jt(this),wr(this);else if(0<se.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ya(qt),qt.M=!0,it(11))}}else Bn(this.i,this.l,se,null),ka(this,se);kt==4&&Jt(this),this.o&&!this.J&&(kt==4?Xu(this.j,this):(this.o=!1,Pa(this)))}else jf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Jt(this),wr(this)}}}catch{}finally{}};function xs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?zt:(_=Number(y.substring(_,S)),isNaN(_)?Zt:(S+=1,S+_>y.length?zt:(y=y.slice(S,S+_),c.C=S+_,y)))}Me.prototype.cancel=function(){this.J=!0,Jt(this)};function Pa(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ft(w(c.ba,c),y)}function Vi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Me.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ns(this.i,this.A),this.L!=2&&(br(),it(17)),Jt(this),this.s=2,wr(this)):Bu(this,this.S-c)};function wr(c){c.j.G==0||c.J||Xu(c.j,c)}function Jt(c){Vi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,_r(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ka(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||$o(_.h,c))){if(!c.K&&$o(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Fs(_),qs(_);else break e;il(_),it(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=ft(w(_.Za,_),6e3));if(1>=Ps(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ri(_,11)}else if((c.K||_.g==c)&&Fs(_),!J(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let ze=B[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const qt=ze[3];qt!=null&&(_.la=qt,_.j.info("VER="+_.la));const kt=ze[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const ii=ze[5];ii!=null&&typeof ii=="number"&&0<ii&&(S=1.5*ii,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const en=c.g;if(en){const Or=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var $=S.h;$.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ks($,$.h),$.h=null))}if(S.D){const sl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(S.ya=sl,Je(S.I,S.D,sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),se.K){yn(S.h,se);var je=se,Pt=S.L;Pt&&(je.I=Pt),je.B&&(Vi(je),Pa(je)),S.g=se}else Qu(S);0<_.i.length&&Hs(_)}else ze[0]!="stop"&&ze[0]!="close"||ri(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ri(_,7):nl(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}br(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function Xr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ps(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ks(c,y){c.g?c.g.add(y):c.h=y}function yn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Xr.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return x(c.i)}function kf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Wo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Vs(c),S=kf(c),B=S.length,$=0;$<B;$++)y.call(void 0,S[$],_&&_[$],c)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),B=null;if(0<=S){var $=c[_].substring(0,S);B=c[_].substring(S+1)}else $=c[_];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ct(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ct){this.h=c.h,Ua(this,c.j),this.o=c.o,this.g=c.g,Ui(this,c.s),this.l=c.l;var y=c.i,_=new Jr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Zr(this,_),this.m=c.m}else c&&(y=String(c).match(Va))?(this.h=!1,Ua(this,y[1]||"",!0),this.o=Hn(y[2]||""),this.g=Hn(y[3]||"",!0),Ui(this,y[4]),this.l=Hn(y[5]||"",!0),Zr(this,y[6]||"",!0),this.m=Hn(y[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Ct.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ja(y,Xo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ja(y,Xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ja(_,_.charAt(0)=="/"?Uf:Zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ja(_,Us)),c.join("")};function Cn(c){return new Ct(c)}function Ua(c,y,_){c.j=_?Hn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ui(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Zr(c,y,_){y instanceof Jr?(c.i=y,Fu(c.i,c.h)):(_||(y=ja(y,Lf)),c.i=new Jr(y,c.h))}function Je(c,y,_){c.i.set(y,_)}function La(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ja(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Zo=/[#\?:]/g,Uf=/[#\?]/g,Lf=/[#\?@]/g,Us=/#/g;function Jr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Vf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Jr.prototype,r.add=function(c,y){Fn(this),this.i=null,c=Sr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ei(c,y){Fn(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ti(c,y){return Fn(c),y=Sr(c,y),c.g.has(y)}r.forEach=function(c,y){Fn(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(y,B,S,this)},this)},this)},r.na=function(){Fn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const B=c[S];for(let $=0;$<B.length;$++)_.push(y[S])}return _},r.V=function(c){Fn(this);let y=[];if(typeof c=="string")ti(this,c)&&(y=y.concat(this.g.get(Sr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Fn(this),this.i=null,c=Sr(this,c),ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Jo(c,y,_){ei(c,y),0<_.length&&(c.i=null,c.g.set(Sr(c,y),x(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const $=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var B=$;se[S]!==""&&(B+="="+encodeURIComponent(String(se[S]))),c.push(B)}}return this.i=c.join("&")};function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(ei(this,S),Jo(this,B,_))},c)),c.j=y}function za(c,y){const _=new Xt;if(d.Image){const S=new Image;S.onload=I(Gn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=I(Gn,_,"TestLoadImage: error",!1,y,S),S.onabort=I(Gn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(Gn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function cr(c,y){const _=new Xt,S=new AbortController,B=setTimeout(()=>{S.abort(),Gn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?Gn(_,"TestPingServer: ok",!0,y):Gn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Gn(_,"TestPingServer: error",!1,y)})}function Gn(c,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Ba(){this.g=new Er}function Ar(c,y,_){const S=_||"";try{Wo(c,function(B,$){let se=B;g(B)&&(se=In(B)),y.push(S+$+"="+encodeURIComponent(se))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function Li(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Li,Qr),Li.prototype.g=function(){return new ni(this.l,this.j)},Li.prototype.i=function(c){return function(){return c}}({});function ni(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ni,ht),r=ni.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ir(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Rr(this):Ir(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Qa=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ir(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return ce(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Bt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=tl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Je(c,y,_))}function $e(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A($e,ht);var Ls=/^https?$/i,qa=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?xa(this.o):xa(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Gu(this,$);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(qa,y,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of _)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Gu(this,$)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,js(c),Cr(c)}function js(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},r.bb=function(){zs(this)};function zs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)Rt(c.Ea,0,c);else if(Ye(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=se===0){var B=String(c.D).match(Va)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!Ls.test(B?B.toLowerCase():"")}_=S}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var $=2<Yn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",js(c)}}finally{Cr(c)}}}}function Cr(c,y){if(c.g){Ha(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ha(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),$r(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jf(c){const y={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var _=V(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[B]||[];y[B]=$,$.push(_)}N(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Bs(c){this.Aa=0,this.i=[],this.j=new Xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,c),this.cb=Fa("retryDelaySeedMs",1e4,c),this.Wa=Fa("forwardChannelMaxRetries",2,c),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xr(c&&c.concurrentRequestLimit),this.Da=new Ba,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Bs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){it(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Hs(this)};function nl(c){if(Ku(c),c.G==3){var y=c.U++,_=Cn(c.I);if(Je(_,"SID",c.K),Je(_,"RID",y),Je(_,"TYPE","terminate"),Ga(c,_),y=new Me(c,c.j,y),y.L=2,y.v=La(Cn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Pa(y)}Zu(c)}function qs(c){c.g&&(Ya(c),c.g.cancel(),c.g=null)}function Ku(c){qs(c),c.u&&(d.clearTimeout(c.u),c.u=null),Fs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Hs(c){if(!Ms(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||M(),me||(ue(),me=!0),Oe.add(y,c),c.B=0}}function zf(c,y){return Ps(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ft(w(c.Ga,c,y),al(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Me(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),P($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=$u(this,B,y),_=Cn(this.I),Je(_,"RID",c),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Ga(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(tl($)))+"&"+y:this.m&&Bt(_,this.m,$)),ks(this.h,B),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",y),Je(_,"SID","null"),B.T=!0,gn(B,_,null)):gn(B,_,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||Ms(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.U++;const S=Cn(c.I);Je(S,"SID",c.K),Je(S,"RID",_),Je(S,"AID",c.T),Ga(c,S),c.m&&c.o&&Bt(S,c.m,c.o),_=new Me(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ks(c.h,_),gn(_,S,y)}function Ga(c,y){c.H&&ce(c.H,function(_,S){Je(y,S,_)}),c.l&&Wo({},function(_,S){Je(y,S,_)})}function $u(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const se=["count="+_];$==-1?0<_?($=B[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let je=!0;for(let Pt=0;Pt<_;Pt++){let ze=B[Pt].g;const qt=B[Pt].map;if(ze-=$,0>ze)$=Math.max(0,B[Pt].g-100),je=!1;else try{Ar(qt,se,"req"+ze+"_")}catch{S&&S(qt)}}if(je){S=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||M(),me||(ue(),me=!0),Oe.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ft(w(c.Fa,c),al(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ft(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),qs(this),Wu(this))};function Ya(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new Me(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Cn(c.qa);Je(y,"RID","rpc"),Je(y,"SID",c.K),Je(y,"AID",c.T),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(y,"TO",c.ja),Je(y,"TYPE","xmlhttp"),Ga(c,y),c.m&&c.o&&Bt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=La(Cn(y)),_.m=null,_.P=!0,ur(_,c)}r.Za=function(){this.C!=null&&(this.C=null,qs(this),il(this),it(19))};function Fs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Xu(c,y){var _=null;if(c.g==y){Fs(c),Ya(c),c.g=null;var S=2}else if($o(c.h,y))_=y.D,yn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=Fe(),Ye(S,new yt(S,_)),Hs(c)}else Qu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&zf(c,y)||S==2&&il(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:ri(c,5);break;case 4:ri(c,10);break;case 3:ri(c,6);break;default:ri(c,2)}}}function al(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ri(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const B=!S;S=new Ct(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ua(S,"https"),La(S),B?za(S.toString(),_):cr(S.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,_){var S=_ instanceof Ct?Cn(_):new Ct(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ui(S,S.s);else{var B=d.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new Ct(null);S&&Ua($,S),y&&($.g=y),B&&Ui($,B),_&&($.l=_),S=$}return _=c.D,y=c.ya,_&&y&&Je(S,_,y),Je(S,"VER",c.la),Ga(c,S),S}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Li({eb:_})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Gs(){}Gs.prototype.g=function(c,y){return new vn(c,y)};function vn(c,y){ht.call(this),this.g=new Bs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Dr(this)}A(vn,ht),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){nl(this.g)},vn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=In(c),c=_);y.i.push(new qu(y.Ya++,c)),y.G==3&&Hs(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,vn.aa.N.call(this)};function nc(c){zn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(nc,zn);function rc(){It.call(this),this.status=1}A(rc,It);function Dr(c){this.g=c}A(Dr,tc),Dr.prototype.ua=function(){Ye(this.g,"a")},Dr.prototype.ta=function(c){Ye(this.g,new nc(c))},Dr.prototype.sa=function(c){Ye(this.g,new rc)},Dr.prototype.ra=function(){Ye(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Wb=function(){return new Gs},Qb=function(){return Fe()},$b=lt,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,wh=or,lr.COMPLETE="complete",Kb=lr,Pi.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",ht.prototype.listen=ht.prototype.K,eu=Pi,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Yb=$e}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const h0="@firebase/firestore",f0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new tg("@firebase/firestore");function To(){return ys.logLevel}function he(r,...e){if(ys.logLevel<=Ue.DEBUG){const t=e.map(pg);ys.debug(`Firestore (${zo}): ${r}`,...t)}}function Ii(r,...e){if(ys.logLevel<=Ue.ERROR){const t=e.map(pg);ys.error(`Firestore (${zo}): ${r}`,...t)}}function No(r,...e){if(ys.logLevel<=Ue.WARN){const t=e.map(pg);ys.warn(`Firestore (${zo}): ${r}`,...t)}}function pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Xb(r,a,t)}function Xb(r,e,t){let a=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ii(a),new Error(a)}function Qe(r,e,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,r||Xb(e,s,a)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class hN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fN{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let a=this.i;const s=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let u=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pa,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pa)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string",31837,{l:a}),new Zb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class dN{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mN{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new dN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const s=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?s(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new d0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new d0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=gN(40);for(let u=0;u<s.length;++u)a.length<20&&s[u]<t&&(a+=e.charAt(s[u]%62))}return a}}function xe(r,e){return r<e?-1:r>e?1:0}function vp(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),s=e.codePointAt(t);if(a!==s){if(a<128&&s<128)return xe(a,s);{const u=Jb(),h=yN(u.encode(m0(r,t)),u.encode(m0(e,t)));return h!==0?h:xe(a,s)}}t+=a>65535?2:1}return xe(r.length,e.length)}function m0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function yN(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return xe(r[t],e[t]);return xe(r.length,e.length)}function xo(r,e,t){return r.length===e.length&&r.every((a,s)=>t(a,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-62135596800,g0=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*g0);return new Lt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<p0)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Lt(0,0))}static max(){return new Ae(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__name__";class Ur{constructor(e,t,a){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&be(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let s=0;s<a;s++){const u=Ur.compareSegments(e.get(s),t.get(s));if(u!==0)return u}return xe(e.length,t.length)}static compareSegments(e,t){const a=Ur.isNumericId(e),s=Ur.isNumericId(t);return a&&!s?-1:!a&&s?1:a&&s?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class ut extends Ur{construct(e,t,a){return new ut(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(s=>s.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const vN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ur{construct(e,t,a){return new sn(e,t,a)}static isValidIdentifier(e){return vN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new sn([y0])}static fromServerFormat(e){const t=[];let a="",s=0;const u=()=>{if(a.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let h=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,s+=2}else d==="`"?(h=!h,s++):d!=="."||h?(a+=d,s++):(u(),s++)}if(u(),h)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function _N(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(a===1e9?new Lt(t+1,0):new Lt(t,a));return new _a(s,ye.empty(),e)}function EN(r){return new _a(r.readTime,r.key,pu)}class _a{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new _a(Ae.min(),ye.empty(),pu)}static max(){return new _a(Ae.max(),ye.empty(),pu)}}function TN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==bN)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((a,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,a)=>{t(e)})}static reject(e){return new ne((t,a)=>{a(e)})}static waitFor(e){return new ne((t,a)=>{let s=0,u=0,h=!1;e.forEach(d=>{++s,d.next(()=>{++u,h&&u===s&&t()},p=>a(p))}),h=!0,u===s&&t()})}static or(e){let t=ne.resolve(!1);for(const a of e)t=t.next(s=>s?ne.resolve(s):a());return t}static forEach(e,t){const a=[];return e.forEach((s,u)=>{a.push(t.call(this,s,u))}),this.waitFor(a)}static mapArray(e,t){return new ne((a,s)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++d,d===u&&a(h)},v=>s(v))}})}static doWhile(e,t){return new ne((a,s)=>{const u=()=>{e()===!0?t().next(()=>{u()},s):a()};u()})}}function SN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>t.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ff.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function df(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function AN(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function RN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=v0(e)),e=IN(r.get(t),e);return v0(e)}function IN(r,e){let t=e;const a=r.length;for(let s=0;s<a;s++){const u=r.charAt(s);switch(u){case"\0":t+="";break;case tw:t+="";break;default:t+=u}}return t}function v0(r){return r+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function bs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function nw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return t+a.left.size;s<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,a,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,a,s,u){this.key=e,this.value=t,this.color=a??an.RED,this.left=s??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,s,u){return new an(e??this.key,t??this.value,a??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let s=this;const u=a(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,a),null):u===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,a,s,u){return this}insert(e,t,a){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=a.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new pr([])}unionWith(e){let t=new jt(sn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rw("Invalid base64 string: "+u):u}}(e);return new ln(t)}static fromUint8Array(e){const t=function(s){let u="";for(let h=0;h<s.length;++h)u+=String.fromCharCode(s[h]);return u}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const CN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const t=CN.exec(r);if(Qe(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ta(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="server_timestamp",aw="__type__",sw="__previous_value__",ow="__local_write_time__";function yg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aw])===null||t===void 0?void 0:t.stringValue)===iw}function mf(r){const e=r.mapValue.fields[sw];return yg(e)?mf(e):e}function gu(r){const e=Ea(r.mapValue.fields[ow].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t,a,s,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Bh="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||Bh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__type__",ON="__max__",lh={mapValue:{}},uw="__vector__",qh="value";function ba(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:xN(r)?9007199254740991:NN(r)?10:11:be(28295,{value:r})}function Hr(r,e){if(r===e)return!0;const t=ba(r);if(t!==ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return gu(r).isEqual(gu(e));case 3:return function(s,u){if(typeof s.timestampValue=="string"&&typeof u.timestampValue=="string"&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const h=Ea(s.timestampValue),d=Ea(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,u){return Ta(s.bytesValue).isEqual(Ta(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,u){return St(s.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(u.geoPointValue.longitude)}(r,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return St(s.integerValue)===St(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const h=St(s.doubleValue),d=St(u.doubleValue);return h===d?zh(h)===zh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return xo(r.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(s,u){const h=s.mapValue.fields||{},d=u.mapValue.fields||{};if(_0(h)!==_0(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Hr(h[p],d[p])))return!1;return!0}(r,e);default:return be(52216,{left:r})}}function vu(r,e){return(r.values||[]).find(t=>Hr(t,e))!==void 0}function Mo(r,e){if(r===e)return 0;const t=ba(r),a=ba(e);if(t!==a)return xe(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=St(u.integerValue||u.doubleValue),p=St(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return T0(r.timestampValue,e.timestampValue);case 4:return T0(gu(r),gu(e));case 5:return vp(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Ta(u),p=Ta(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=xe(d[g],p[g]);if(v!==0)return v}return xe(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=xe(St(u.latitude),St(h.latitude));return d!==0?d:xe(St(u.longitude),St(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return b0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,v;const b=u.fields||{},w=h.fields||{},I=(d=b[qh])===null||d===void 0?void 0:d.arrayValue,A=(p=w[qh])===null||p===void 0?void 0:p.arrayValue,x=xe(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0);return x!==0?x:b0(I,A)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=vp(p[b],v[b]);if(w!==0)return w;const I=Mo(d[p[b]],g[v[b]]);if(I!==0)return I}return xe(p.length,v.length)}(r.mapValue,e.mapValue);default:throw be(23264,{Pe:t})}}function T0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=Ea(r),a=Ea(e),s=xe(t.seconds,a.seconds);return s!==0?s:xe(t.nanos,a.nanos)}function b0(r,e){const t=r.values||[],a=e.values||[];for(let s=0;s<t.length&&s<a.length;++s){const u=Mo(t[s],a[s]);if(u)return u}return xe(t.length,a.length)}function Po(r){return _p(r)}function _p(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=Ea(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ta(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",s=!0;for(const u of t.values||[])s?s=!1:a+=",",a+=_p(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let s="{",u=!0;for(const h of a)u?u=!1:s+=",",s+=`${h}:${_p(t.fields[h])}`;return s+"}"}(r.mapValue):be(61005,{value:r})}function Sh(r){switch(ba(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Sh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ta(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((s,u)=>s+Sh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let s=0;return bs(a.fields,(u,h)=>{s+=u.length+Sh(h)}),s}(r.mapValue);default:throw be(13486,{value:r})}}function w0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ep(r){return!!r&&"integerValue"in r}function vg(r){return!!r&&"arrayValue"in r}function S0(r){return!!r&&"nullValue"in r}function A0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ah(r){return!!r&&"mapValue"in r}function NN(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===uw}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=su(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(r.arrayValue.values[t]);return e}return Object.assign({},r)}function xN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=sn.emptyPath(),a={},s=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,s),a={},s=[],t=d.popLast()}h?a[d.lastSegment()]=su(h):s.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,a,s)}delete(e){const t=this.field(e.popLast());Ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=t.mapValue.fields[e.get(a)];Ah(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,a){bs(t,(s,u)=>e[s]=u);for(const s of a)delete e[s]}clone(){return new er(su(this.value))}}function cw(r){const e=[];return bs(r.fields,(t,a)=>{const s=new sn([t]);if(Ah(a)){const u=cw(a.mapValue).fields;if(u.length===0)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,a,s,u,h,d){this.key=e,this.documentType=t,this.version=a,this.readTime=s,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),er.empty(),0)}static newFoundDocument(e,t,a,s){return new dn(e,1,t,Ae.min(),a,s,0)}static newNoDocument(e,t){return new dn(e,2,t,Ae.min(),Ae.min(),er.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ae.min(),Ae.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function R0(r,e,t){let a=0;for(let s=0;s<r.position.length;s++){const u=e[s],h=r.position[s];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(h.referenceValue),t.key):a=Mo(h,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Hr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function MN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class xt extends hw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new kN(e,t,a):t==="array-contains"?new LN(e,a):t==="in"?new jN(e,a):t==="not-in"?new zN(e,a):t==="array-contains-any"?new BN(e,a):new xt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new VN(e,a):new UN(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mo(t,this.value)):t!==null&&ba(this.value)===ba(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new vr(e,t)}matches(e){return fw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fw(r){return r.op==="and"}function dw(r){return PN(r)&&fw(r)}function PN(r){for(const e of r.filters)if(e instanceof vr)return!1;return!0}function Tp(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+Po(r.value);if(dw(r))return r.filters.map(e=>Tp(e)).join(",");{const e=r.filters.map(t=>Tp(t)).join(",");return`${r.op}(${e})`}}function mw(r,e){return r instanceof xt?function(a,s){return s instanceof xt&&a.op===s.op&&a.field.isEqual(s.field)&&Hr(a.value,s.value)}(r,e):r instanceof vr?function(a,s){return s instanceof vr&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce((u,h,d)=>u&&mw(h,s.filters[d]),!0):!1}(r,e):void be(19439)}function pw(r){return r instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`}(r):r instanceof vr?function(t){return t.op.toString()+" {"+t.getFilters().map(pw).join(" ,")+"}"}(r):"Filter"}class kN extends xt{constructor(e,t,a){super(e,t,a),this.key=ye.fromName(a.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class VN extends xt{constructor(e,t){super(e,"in",t),this.keys=gw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UN extends xt{constructor(e,t){super(e,"not-in",t),this.keys=gw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>ye.fromName(a.referenceValue))}class LN extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&vu(t.arrayValue,this.value)}}class jN extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}}class zN extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vu(this.value.arrayValue,t)}}class BN extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>vu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t=null,a=[],s=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=s,this.limit=u,this.startAt=h,this.endAt=d,this.Ie=null}}function C0(r,e=null,t=[],a=[],s=null,u=null,h=null){return new qN(r,e,t,a,s,u,h)}function _g(r){const e=Re(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Tp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Po(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Po(a)).join(",")),e.Ie=t}return e.Ie}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!MN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!mw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!I0(r.startAt,e.startAt)&&I0(r.endAt,e.endAt)}function bp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t=null,a=[],s=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=s,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function HN(r,e,t,a,s,u,h,d){return new Nu(r,e,t,a,s,u,h,d)}function yw(r){return new Nu(r)}function D0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vw(r){return r.collectionGroup!==null}function ou(r){const e=Re(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new jt(sn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Fh(u,a))}),t.has(sn.keyField().canonicalString())||e.Ee.push(new Fh(sn.keyField(),a))}return e.Ee}function zr(r){const e=Re(r);return e.de||(e.de=FN(e,ou(r))),e.de}function FN(r,e){if(r.limitType==="F")return C0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new Fh(s.field,u)});const t=r.endAt?new Hh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Hh(r.startAt.position,r.startAt.inclusive):null;return C0(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function wp(r,e){const t=r.filters.concat([e]);return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Sp(r,e,t){return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function pf(r,e){return Eg(zr(r),zr(e))&&r.limitType===e.limitType}function _w(r){return`${_g(zr(r))}|lt:${r.limitType}`}function bo(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(s=>pw(s)).join(", ")}]`),df(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(s=>Po(s)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(s=>Po(s)).join(",")),`Target(${a})`}(zr(r))}; limitType=${r.limitType})`}function gf(r,e){return e.isFoundDocument()&&function(a,s){const u=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,s){for(const u of ou(a))if(!u.field.isKeyField()&&s.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,s){for(const u of a.filters)if(!u.matches(s))return!1;return!0}(r,e)&&function(a,s){return!(a.startAt&&!function(h,d,p){const g=R0(h,d,p);return h.inclusive?g<=0:g<0}(a.startAt,ou(a),s)||a.endAt&&!function(h,d,p){const g=R0(h,d,p);return h.inclusive?g>=0:g>0}(a.endAt,ou(a),s))}(r,e)}function GN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ew(r){return(e,t)=>{let a=!1;for(const s of ou(r)){const u=YN(s,e,t);if(u!==0)return u;a=a||s.field.isKeyField()}return 0}}function YN(r,e,t){const a=r.field.isKeyField()?ye.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Mo(p,g):be(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[s,u]of a)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[t]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,a)=>{for(const[s,u]of a)e(s,u)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new gt(ye.comparator);function Ci(){return KN}const Tw=new gt(ye.comparator);function tu(...r){let e=Tw;for(const t of r)e=e.insert(t.key,t);return e}function bw(r){let e=Tw;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function cs(){return lu()}function ww(){return lu()}function lu(){return new ws(r=>r.toString(),(r,e)=>r.isEqual(e))}const $N=new gt(ye.comparator),QN=new jt(ye.comparator);function Le(...r){let e=QN;for(const t of r)e=e.add(t);return e}const WN=new jt(xe);function XN(){return WN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function Sw(r){return{integerValue:""+r}}function ZN(r,e){return AN(e)?Sw(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function JN(r,e,t){return r instanceof Gh?function(s,u){const h={fields:{[aw]:{stringValue:iw},[ow]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&yg(u)&&(u=mf(u)),u&&(h.fields[sw]=u),{mapValue:h}}(t,e):r instanceof _u?Rw(r,e):r instanceof Eu?Iw(r,e):function(s,u){const h=Aw(s,u),d=O0(h)+O0(s.Re);return Ep(h)&&Ep(s.Re)?Sw(d):Tg(s.serializer,d)}(r,e)}function e2(r,e,t){return r instanceof _u?Rw(r,e):r instanceof Eu?Iw(r,e):t}function Aw(r,e){return r instanceof Yh?function(a){return Ep(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Gh extends yf{}class _u extends yf{constructor(e){super(),this.elements=e}}function Rw(r,e){const t=Cw(e);for(const a of r.elements)t.some(s=>Hr(s,a))||t.push(a);return{arrayValue:{values:t}}}class Eu extends yf{constructor(e){super(),this.elements=e}}function Iw(r,e){let t=Cw(e);for(const a of r.elements)t=t.filter(s=>!Hr(s,a));return{arrayValue:{values:t}}}class Yh extends yf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function O0(r){return St(r.integerValue||r.doubleValue)}function Cw(r){return vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function t2(r,e){return r.field.isEqual(e.field)&&function(a,s){return a instanceof _u&&s instanceof _u||a instanceof Eu&&s instanceof Eu?xo(a.elements,s.elements,Hr):a instanceof Yh&&s instanceof Yh?Hr(a.Re,s.Re):a instanceof Gh&&s instanceof Gh}(r.transform,e.transform)}class n2{constructor(e,t){this.version=e,this.transformResults=t}}class Br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vf{}function Dw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bg(r.key,Br.none()):new xu(r.key,r.data,Br.none());{const t=r.data,a=er.empty();let s=new jt(sn.comparator);for(let u of e.fields)if(!s.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?a.delete(u):a.set(u,h),s=s.add(u)}return new Ss(r.key,a,new pr(s.toArray()),Br.none())}}function r2(r,e,t){r instanceof xu?function(s,u,h){const d=s.value.clone(),p=x0(s.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ss?function(s,u,h){if(!Rh(s.precondition,u))return void u.convertToUnknownDocument(h.version);const d=x0(s.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Ow(s)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uu(r,e,t,a){return r instanceof xu?function(u,h,d,p){if(!Rh(u.precondition,h))return d;const g=u.value.clone(),v=M0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof Ss?function(u,h,d,p){if(!Rh(u.precondition,h))return d;const g=M0(u.fieldTransforms,p,h),v=h.data;return v.setAll(Ow(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,t,a):function(u,h,d){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function i2(r,e){let t=null;for(const a of r.fieldTransforms){const s=e.data.field(a.field),u=Aw(a.transform,s||null);u!=null&&(t===null&&(t=er.empty()),t.set(a.field,u))}return t||null}function N0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&xo(a,s,(u,h)=>t2(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends vf{constructor(e,t,a,s=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ss extends vf{constructor(e,t,a,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function x0(r,e,t){const a=new Map;Qe(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let s=0;s<t.length;s++){const u=r[s],h=u.transform,d=e.data.field(u.field);a.set(u.field,e2(h,d,t[s]))}return a}function M0(r,e,t){const a=new Map;for(const s of r){const u=s.transform,h=t.data.field(s.field);a.set(s.field,JN(u,h,e))}return a}class bg extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t,a,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&r2(u,e,a[s])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=uu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=uu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=ww();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(s.key)?null:d;const p=Dw(h,d);p!==null&&a.set(s.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(t,a)=>N0(t,a))&&xo(this.baseMutations,e.baseMutations,(t,a)=>N0(t,a))}}class wg{constructor(e,t,a,s){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=s}static from(e,t,a){Qe(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let s=function(){return $N}();const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,a[h].version);return new wg(e,t,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,qe;function u2(r){switch(r){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Nw(r){if(r===void 0)return Ii("GRPC error has no .code"),re.UNKNOWN;switch(r){case Nt.OK:return re.OK;case Nt.CANCELLED:return re.CANCELLED;case Nt.UNKNOWN:return re.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return re.INTERNAL;case Nt.UNAVAILABLE:return re.UNAVAILABLE;case Nt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Nt.NOT_FOUND:return re.NOT_FOUND;case Nt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Nt.ABORTED:return re.ABORTED;case Nt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Nt.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new ma([4294967295,4294967295],0);function P0(r){const e=Jb().encode(r),t=new Gb;return t.update(e),new Uint8Array(t.digest())}function k0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ma([t,a],0),new ma([s,u],0)]}class Sg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(a<0)throw new nu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ma.fromNumber(this.pe)}we(e,t,a){let s=e.add(t.multiply(ma.fromNumber(a)));return s.compare(c2)===1&&(s=new ma([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=P0(e),[a,s]=k0(t);for(let u=0;u<this.hashCount;u++){const h=this.we(a,s,u);if(!this.be(h))return!1}return!0}static create(e,t,a){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Sg(u,s,t);return a.forEach(d=>h.insert(d)),h}insert(e){if(this.pe===0)return;const t=P0(e),[a,s]=k0(t);for(let u=0;u<this.hashCount;u++){const h=this.we(a,s,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t,a,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const s=new Map;return s.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new _f(Ae.min(),s,new gt(xe),Ci(),Le())}}class Mu{constructor(e,t,a,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Mu(a,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,a,s){this.De=e,this.removedTargetIds=t,this.key=a,this.ve=s}}class xw{constructor(e,t){this.targetId=e,this.Ce=t}}class Mw{constructor(e,t,a=ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=s}}class V0{constructor(){this.Fe=0,this.Me=U0(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),t=Le(),a=Le();return this.Me.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:a=a.add(s);break;default:be(38017,{changeType:u})}}),new Mu(this.xe,this.Oe,e,t,a)}Qe(){this.Ne=!1,this.Me=U0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h2{constructor(e){this.ze=e,this.je=new Map,this.He=Ci(),this.Je=uh(),this.Ye=uh(),this.Ze=new gt(xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const a=this.rt(t);switch(e.state){case 0:this.it(t)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(t);break;case 3:this.it(t)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),a.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((a,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,a=e.Ce.count,s=this._t(t);if(s){const u=s.target;if(bp(u))if(a===0){const h=new ye(u.path);this.tt(t,h,dn.newNoDocument(h,Ae.min()))}else Qe(a===1,20013,{expectedCount:a});else{const h=this.ut(t);if(h!==a){const d=this.ct(e),p=d?this.lt(d,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:u=0}=t;let h,d;try{h=Ta(a).toUint8Array()}catch(p){if(p instanceof rw)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sg(h,s,u)}catch(p){return No(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,a){return t.Ce.count===a-this.Tt(e,t.targetId)?0:2}Tt(e,t){const a=this.ze.getRemoteKeysForTarget(t);let s=0;return a.forEach(u=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,u,null),s++)}),s}It(e){const t=new Map;this.je.forEach((u,h)=>{const d=this._t(h);if(d){if(u.current&&bp(d.target)){const p=new ye(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,dn.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let a=Le();this.Ye.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const s=new _f(e,t,this.Ze,this.He,a);return this.He=Ci(),this.Je=uh(),this.Ye=uh(),this.Ze=new gt(xe),s}et(e,t){if(!this.it(e))return;const a=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,a),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,a){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),a&&(this.He=this.He.insert(t,a))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new V0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new jt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new jt(xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new V0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function uh(){return new gt(ye.comparator)}function U0(){return new gt(ye.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class p2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ap(r,e){return r.useProto3Json||df(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function g2(r,e){return Kh(r,e.toTimestamp())}function qr(r){return Qe(!!r,49232),Ae.fromTimestamp(function(t){const a=Ea(t);return new Lt(a.seconds,a.nanos)}(r))}function Ag(r,e){return Rp(r,e).canonicalString()}function Rp(r,e){const t=function(s){return new ut(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kw(r){const e=ut.fromString(r);return Qe(zw(e),10190,{key:e.toString()}),e}function Ip(r,e){return Ag(r.databaseId,e.path)}function Ym(r,e){const t=kw(e);if(t.get(1)!==r.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(Uw(t))}function Vw(r,e){return Ag(r.databaseId,e)}function y2(r){const e=kw(r);return e.length===4?ut.emptyPath():Uw(e)}function Cp(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Uw(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function L0(r,e,t){return{name:Ip(r,e),fields:t.value.mapValue.fields}}function v2(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?re.UNKNOWN:Nw(g.code);return new de(v,g.message||"")}(h);t=new Mw(a,s,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=Ym(r,a.document.name),u=qr(a.document.updateTime),h=a.document.createTime?qr(a.document.createTime):Ae.min(),d=new er({mapValue:{fields:a.document.fields}}),p=dn.newFoundDocument(s,u,h,d),g=a.targetIds||[],v=a.removedTargetIds||[];t=new Ih(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=Ym(r,a.document),u=a.readTime?qr(a.readTime):Ae.min(),h=dn.newNoDocument(s,u),d=a.removedTargetIds||[];t=new Ih([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=Ym(r,a.document),u=a.removedTargetIds||[];t=new Ih([],u,s,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:u}=a,h=new l2(s,u),d=a.targetId;t=new xw(d,h)}}return t}function _2(r,e){let t;if(e instanceof xu)t={update:L0(r,e.key,e.value)};else if(e instanceof bg)t={delete:Ip(r,e.key)};else if(e instanceof Ss)t={update:L0(r,e.key,e.data),updateMask:C2(e.fieldMask)};else{if(!(e instanceof a2))return be(16599,{ft:e.type});t={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Gh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yh)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw be(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(s,u){return u.updateTime!==void 0?{updateTime:g2(s,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(r,e.precondition)),t}function E2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map(t=>function(s,u){let h=s.updateTime?qr(s.updateTime):qr(u);return h.isEqual(Ae.min())&&(h=qr(u)),new n2(h,s.transformResults||[])}(t,e))):[]}function T2(r,e){return{documents:[Vw(r,e.path)]}}function b2(r,e){const t={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Vw(r,s);const u=function(g){if(g.length!==0)return jw(vr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:wo(w.field),direction:A2(w.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Ap(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function w2(r){let e=y2(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let s=null;if(a>0){Qe(a===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(b){const w=Lw(b);return w instanceof vr&&dw(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(A){return new Fh(So(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(b){let w;return w=typeof b=="object"?b.value:b,df(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,I=b.values||[];return new Hh(I,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,I=b.values||[];return new Hh(I,w)}(t.endAt)),HN(e,s,h,u,d,"F",p,g)}function S2(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=So(t.unaryFilter.field);return xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=So(t.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(t.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(r):r.fieldFilter!==void 0?function(t){return xt.create(So(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return vr.create(t.compositeFilter.filters.map(a=>Lw(a)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(r):be(30097,{filter:r})}function A2(r){return f2[r]}function R2(r){return d2[r]}function I2(r){return m2[r]}function wo(r){return{fieldPath:r.canonicalString()}}function So(r){return sn.fromServerFormat(r.fieldPath)}function jw(r){return r instanceof xt?function(t){if(t.op==="=="){if(A0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(S0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(A0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(S0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:R2(t.op),value:t.value}}}(r):r instanceof vr?function(t){const a=t.getFilters().map(s=>jw(s));return a.length===1?a[0]:{compositeFilter:{op:I2(t.op),filters:a}}}(r):be(54877,{filter:r})}function C2(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,a,s,u=Ae.min(),h=Ae.min(),d=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.wt=e}}function O2(r){const e=w2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.yn=new x2}addToCollectionParentIndex(e,t){return this.yn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(_a.min())}updateCollectionGroup(e,t,a){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class x2{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t]||new jt(ut.comparator),u=!s.has(a);return this.index[t]=s.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t];return s&&s.has(a)}getEntries(e){return(this.index[e]||new jt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bw=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Bw,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ko(0)}static ir(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LruGarbageCollector",M2=1048576;function B0([r,e],[t,a]){const s=xe(r,t);return s===0?xe(e,a):s}class P2{constructor(e){this.cr=e,this.buffer=new jt(B0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();B0(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(z0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?he(z0,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.Ir(3e5)})}}class V2{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(ff.le);const a=new P2(t);return this.Er.forEachTarget(e,s=>a.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>a.Pr(s))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Er.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(j0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let a,s,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,h=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(a=b,d=Date.now(),this.removeTargets(e,a,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),To()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${s} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:b})))}}function U2(r,e){return new V2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ne.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t,a,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(a=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(a!==null&&uu(a.mutation,s,pr.empty(),Lt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Le()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Le()){const s=cs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,a).next(u=>{let h=tu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const a=cs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Le()))}populateOverlays(e,t,a){const s=[];return a.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,a,s){let u=Ci();const h=lu(),d=function(){return lu()}();return t.forEach((p,g)=>{const v=a.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof Ss)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),uu(v.mutation,g,v.mutation.getFieldMask(),Lt.now())):h.set(g.key,pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new j2(v,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const a=lu();let s=new gt((h,d)=>h-d),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=a.get(p)||pr.empty();v=d.applyToLocalView(g,v),a.set(p,v);const b=(s.get(d.batchId)||Le()).add(p);s=s.insert(d.batchId,b)})}).next(()=>{const h=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=ww();v.forEach(w=>{if(!u.has(w)){const I=Dw(t.get(w),a.get(w));I!==null&&b.set(w,I),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,s){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,s):this.getDocumentsMatchingCollectionQuery(e,t,a,s)}getNextDocuments(e,t,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,s-u.size):ne.resolve(cs());let d=pu,p=u;return h.next(g=>ne.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(v=>({batchId:d,changes:bw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(a=>{let s=tu();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,a,s){const u=t.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,p=>{const g=function(b,w){return new Nu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next(v=>{v.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,a,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,s))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,dn.newInvalidDocument(v)))});let d=tu();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&uu(v.mutation,g,pr.empty(),Lt.now()),gf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:qr(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:O2(s.bundledQuery),readTime:qr(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.overlays=new gt(ye.comparator),this.Or=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const a=cs();return ne.forEach(t,s=>this.getOverlay(e,s).next(u=>{u!==null&&a.set(s,u)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((s,u)=>{this.St(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,a){const s=this.Or.get(a);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),ne.resolve()}getOverlaysForCollection(e,t,a){const s=cs(),u=t.length+1,h=new ye(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&s.set(p.getKey(),p)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,a,s){let u=new gt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=cs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=cs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=s)););return ne.resolve(d)}St(e,t,a){const s=this.overlays.get(a.key);if(s!==null){const h=this.Or.get(s.largestBatchId).delete(a.key);this.Or.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new o2(t,a));let u=this.Or.get(t);u===void 0&&(u=Le(),this.Or.set(t,u)),this.Or.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Nr=new jt(Yt.Br),this.Lr=new jt(Yt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const a=new Yt(e,t);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Qr(new Yt(e,t))}$r(e,t){e.forEach(a=>this.removeReference(a,t))}Ur(e){const t=new ye(new ut([])),a=new Yt(t,e),s=new Yt(t,e+1),u=[];return this.Lr.forEachInRange([a,s],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ye(new ut([])),a=new Yt(t,e),s=new Yt(t,e+1);let u=Le();return this.Lr.forEachInRange([a,s],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Yt(e,0),a=this.Nr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Yt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ye.comparator(e.key,t.key)||xe(e.Gr,t.Gr)}static kr(e,t){return xe(e.Gr,t.Gr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new jt(Yt.Br)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,s){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new s2(u,t,a,s);this.mutationQueue.push(h);for(const d of s)this.zr=this.zr.add(new Yt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,s=this.Hr(a),u=s<0?0:s;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?gg:this.Jn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Yt(t,0),s=new Yt(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,s],h=>{const d=this.jr(h.Gr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new jt(xe);return t.forEach(s=>{const u=new Yt(s,0),h=new Yt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],d=>{a=a.add(d.Gr)})}),ne.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,s=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const h=new Yt(new ye(u),0);let d=new jt(xe);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Gr)),!0)},h),ne.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(a=>{const s=this.jr(a);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Qe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return ne.forEach(t.mutations,s=>{const u=new Yt(s.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=a})}Xn(e){}containsKey(e,t){const a=new Yt(t,0),s=this.zr.firstAfterOrEqual(a);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.Zr=e,this.docs=function(){return new gt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,s=this.docs.get(a),u=s?s.size:0,h=this.Zr(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ne.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let a=Ci();return t.forEach(s=>{const u=this.docs.get(s);a=a.insert(s,u?u.document.mutableCopy():dn.newInvalidDocument(s))}),ne.resolve(a)}getDocumentsMatchingQuery(e,t,a,s){let u=Ci();const h=t.path,d=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||TN(EN(v),a)<=0||(s.has(v.key)||gf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,a,s){be(9500)}Xr(e,t){return ne.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Y2(this)}getSize(e){return ne.resolve(this.size)}}class Y2 extends L2{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((a,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(a)}),ne.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.persistence=e,this.ei=new ws(t=>_g(t),Eg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rg,this.targetCount=0,this.ri=ko.rr()}forEachTarget(e,t){return this.ei.forEach((a,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ti&&(this.ti=t),ne.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.ar(t),ne.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,a){let s=0;const u=[];return this.ei.forEach((h,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ne.waitFor(u).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const a=this.ei.get(t)||null;return ne.resolve(a)}addMatchingKeys(e,t,a){return this.ni.qr(t,a),ne.resolve()}removeMatchingKeys(e,t,a){this.ni.$r(t,a);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ni.Wr(t);return ne.resolve(a)}containsKey(e,t){return ne.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.ii={},this.overlays={},this.si=new ff(0),this.oi=!1,this.oi=!0,this._i=new H2,this.referenceDelegate=e(this),this.ai=new K2(this),this.indexManager=new N2,this.remoteDocumentCache=function(s){return new G2(s)}(a=>this.referenceDelegate.ui(a)),this.serializer=new D2(t),this.ci=new B2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ii[e.toKey()];return a||(a=new F2(t,this.referenceDelegate),this.ii[e.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,a){he("MemoryPersistence","Starting transaction:",e);const s=new $2(this.si.next());return this.referenceDelegate.li(),a(s).next(u=>this.referenceDelegate.hi(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Pi(e,t){return ne.or(Object.values(this.ii).map(a=>()=>a.containsKey(e,t)))}}class $2 extends wN{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Ti=new Rg,this.Ii=null}static Ei(e){return new Ig(e)}get di(){if(this.Ii)return this.Ii;throw be(60996)}addReference(e,t,a){return this.Ti.addReference(a,t),this.di.delete(a.toString()),ne.resolve()}removeReference(e,t,a){return this.Ti.removeReference(a,t),this.di.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,a=>{const s=ye.fromPath(a);return this.Ai(e,s).next(u=>{u||t.removeEntry(s,Ae.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ne.or([()=>ne.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class $h{constructor(e,t){this.persistence=e,this.Ri=new ws(a=>RN(a.path),(a,s)=>a.isEqual(s)),this.garbageCollector=U2(this,t)}static Ei(e,t){return new $h(e,t)}li(){}hi(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(s=>a+s))}Vr(e){let t=0;return this.Ar(e,a=>{t++}).next(()=>t)}Ar(e,t){return ne.forEach(this.Ri,(a,s)=>this.gr(e,a,s).next(u=>u?ne.resolve():t(s)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.Xr(e,h=>this.gr(e,h,t).next(d=>{d||(a++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.Ri.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,a){return this.Ri.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}gr(e,t,a){return ne.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return ne.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,a,s){this.targetId=e,this.fromCache=t,this.ls=a,this.hs=s}static Ps(e,t){let a=Le(),s=Le();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Cg(e,t.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return O1()?8:SN(mn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,a,s){const u={result:null};return this.Rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(e,t,s,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Q2;return this.fs(e,t,h).next(d=>{if(u.result=d,this.Is)return this.gs(e,t,h,d.size)})}).next(()=>u.result)}gs(e,t,a,s){return a.documentReadCount<this.Es?(To()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ne.resolve()):(To()<=Ue.DEBUG&&he("QueryEngine","Query:",bo(t),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ds*s?(To()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):ne.resolve())}Rs(e,t){if(D0(t))return ne.resolve(null);let a=zr(t);return this.indexManager.getIndexType(e,a).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Sp(t,null,"F"),a=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=Le(...u);return this.As.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.ps(t,d);return this.ys(t,g,h,p.readTime)?this.Rs(e,Sp(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,a,s){return D0(t)||s.isEqual(Ae.min())?ne.resolve(null):this.As.getDocuments(e,a).next(u=>{const h=this.ps(t,u);return this.ys(t,h,a,s)?ne.resolve(null):(To()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bo(t)),this.ws(e,h,t,_N(s,pu)).next(d=>d))})}ps(e,t){let a=new jt(Ew(e));return t.forEach((s,u)=>{gf(e,u)&&(a=a.add(u))}),a}ys(e,t,a,s){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}fs(e,t,a){return To()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",bo(t)),this.As.getDocumentsMatchingQuery(e,t,_a.min(),a)}ws(e,t,a,s){return this.As.getDocumentsMatchingQuery(e,a,s).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",X2=3e8;class Z2{constructor(e,t,a,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new gt(xe),this.Ds=new ws(u=>_g(u),Eg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(a)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function J2(r,e,t,a){return new Z2(r,e,t,a)}async function Hw(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let s;return t.mutationQueue.getAllMutationBatches(a).next(u=>(s=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let p=Le();for(const g of s){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:d}))})})}function ex(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const s=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const b=g.batch,w=b.keys();let I=ne.resolve();return w.forEach(A=>{I=I.next(()=>v.getEntry(p,A)).next(x=>{const k=g.docVersions.get(A);Qe(k!==null,48541),x.version.compareTo(k)<0&&(b.applyToRemoteDocument(x,g),x.isValidDocument()&&(x.setReadTime(g.commitVersion),v.addEntry(x)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,a,e,u).next(()=>u.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let p=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,s))})}function Fw(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function tx(r,e){const t=Re(r),a=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const d=[];e.targetChanges.forEach((v,b)=>{const w=s.get(b);if(!w)return;d.push(t.ai.removeMatchingKeys(u,v.removedDocuments,b).next(()=>t.ai.addMatchingKeys(u,v.addedDocuments,b)));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(ln.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,a)),s=s.insert(b,I),function(x,k,j){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=X2?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(w,I,v)&&d.push(t.ai.updateTargetData(u,I))});let p=Ci(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(nx(u,h,e.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!a.isEqual(Ae.min())){const v=t.ai.getLastRemoteSnapshotVersion(u).next(b=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(v)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ss=s,u))}function nx(r,e,t){let a=Le(),s=Le();return t.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=Ci();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(Dg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:h,Os:s}})}function rx(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=gg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function ix(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let s;return t.ai.getTargetData(a,e).next(u=>u?(s=u,ne.resolve(s)):t.ai.allocateTargetId(a).next(h=>(s=new ha(e,h,"TargetPurposeListen",a.currentSequenceNumber),t.ai.addTargetData(a,s).next(()=>s))))}).then(a=>{const s=t.Ss.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(a.targetId,a),t.Ds.set(e,a.targetId)),a})}async function Dp(r,e,t){const a=Re(r),s=a.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!qo(h))throw h;he(Dg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ss=a.Ss.remove(e),a.Ds.delete(s.target)}function q0(r,e,t){const a=Re(r);let s=Ae.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=Re(p),w=b.Ds.get(v);return w!==void 0?ne.resolve(b.Ss.get(w)):b.ai.getTargetData(g,v)}(a,h,zr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>a.bs.getDocumentsMatchingQuery(h,e,t?s:Ae.min(),t?u:Le())).next(d=>(ax(a,GN(e),d),{documents:d,Ns:u})))}function ax(r,e,t){let a=r.vs.get(e)||Ae.min();t.forEach((s,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.vs.set(e,a)}class H0{constructor(){this.activeTargetIds=XN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(){this.So=new H0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,a){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new H0,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class G0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(F0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Op(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ux{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${a}/databases/${s}`,this.qo=this.databaseId.database===Bh?`project_id=${a}`:`project_id=${a}&database_id=${s}`}Qo(e,t,a,s,u){const h=Op(),d=this.$o(e,t.toUriEncodedString());he(Km,`Sending RPC '${e}' ${h}:`,d,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,s,u),this.Ko(e,d,p,a).then(g=>(he(Km,`Received RPC '${e}' ${h}: `,g),g),g=>{throw No(Km,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Wo(e,t,a,s,u,h){return this.Qo(e,t,a,s,u)}Uo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),a&&a.headers.forEach((s,u)=>e[u]=s)}$o(e,t){const a=lx[e];return`${this.Lo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class hx extends ux{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,a,s){const u=Op();return new Promise((h,d)=>{const p=new Yb;p.setWithCredentials(!0),p.listenOnce(Kb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const v=p.getResponseJson();he(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case wh.TIMEOUT:he(hn,`RPC '${e}' ${u} timed out`),d(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const b=p.getStatus();if(he(hn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const A=function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(j)>=0?j:re.UNKNOWN}(I.status);d(new de(A,I.message))}else d(new de(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{he(hn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);he(hn,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",g,a,15)})}a_(e,t,a){const s=Op(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Wb(),d=Qb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const v=u.join("");he(hn,`Creating RPC '${e}' stream ${s}: ${v}`,p);const b=h.createWebChannel(v,p);let w=!1,I=!1;const A=new cx({Go:k=>{I?he(hn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(w||(he(hn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),w=!0),he(hn,`RPC '${e}' stream ${s} sending:`,k),b.send(k))},zo:()=>b.close()}),x=(k,j,J)=>{k.listen(j,W=>{try{J(W)}catch(ie){setTimeout(()=>{throw ie},0)}})};return x(b,eu.EventType.OPEN,()=>{I||(he(hn,`RPC '${e}' stream ${s} transport opened.`),A.t_())}),x(b,eu.EventType.CLOSE,()=>{I||(I=!0,he(hn,`RPC '${e}' stream ${s} transport closed`),A.r_())}),x(b,eu.EventType.ERROR,k=>{I||(I=!0,No(hn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),A.r_(new de(re.UNAVAILABLE,"The operation could not be completed")))}),x(b,eu.EventType.MESSAGE,k=>{var j;if(!I){const J=k.data[0];Qe(!!J,16349);const W=J,ie=(W==null?void 0:W.error)||((j=W[0])===null||j===void 0?void 0:j.error);if(ie){he(hn,`RPC '${e}' stream ${s} received error:`,ie);const le=ie.status;let ce=function(C){const P=Nt[C];if(P!==void 0)return Nw(P)}(le),N=ie.message;ce===void 0&&(ce=re.INTERNAL,N="Unknown error status: "+le+" with message "+ie.message),I=!0,A.r_(new de(ce,N)),b.close()}else he(hn,`RPC '${e}' stream ${s} received:`,J),A.i_(J)}}),x(d,$b.STAT_EVENT,k=>{k.stat===yp.PROXY?he(hn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===yp.NOPROXY&&he(hn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r){return new p2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,a=1e3,s=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=a,this.c_=s,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-a);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class Yw{constructor(e,t,a,s,u,h,d,p){this.bi=e,this.R_=a,this.V_=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Gw(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,s])=>{this.m_===t&&this.B_(a,s)},a=>{e(()=>{const s=new de(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(s)})})}B_(e,t){const a=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{a(()=>this.L_(s))}),this.stream.onMessage(s=>{a(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(he(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fx extends Yw{constructor(e,t,a,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,s,h),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=v2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?qr(h.readTime):Ae.min()}(e);return this.listener.Q_(t,a)}U_(e){const t={};t.database=Cp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=bp(p)?{documents:T2(u,p)}:{query:b2(u,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Pw(u,h.resumeToken);const g=Ap(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Kh(u,h.snapshotVersion.toTimestamp());const g=Ap(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=S2(this.serializer,e);a&&(t.labels=a),this.F_(t)}K_(e){const t={};t.database=Cp(this.serializer),t.removeTarget=e,this.F_(t)}}class dx extends Yw{constructor(e,t,a,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,s,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=E2(e.writeResults,e.commitTime),a=qr(e.commitTime);return this.listener.j_(a,t)}H_(){const e={};e.database=Cp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>_2(this.serializer,a))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{}class px extends mx{constructor(e,t,a,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,a,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(e,Rp(t,a),s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(re.UNKNOWN,u.toString())})}Wo(e,t,a,s,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,Rp(t,a),s,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(re.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class gx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ii(t),this.ea=!1):he("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class yx{constructor(e,t,a,s,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{a.enqueueAndForget(async()=>{As(this)&&(he(vs,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.aa.add(4),await Pu(g),g.la.set("Unknown"),g.aa.delete(4),await Tf(g)}(this))})}),this.la=new gx(a,s)}}async function Tf(r){if(As(r))for(const e of r.ua)await e(!0)}async function Pu(r){for(const e of r.ua)await e(!1)}function Kw(r,e){const t=Re(r);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Mg(t)?xg(t):Ho(t).b_()&&Ng(t,e))}function Og(r,e){const t=Re(r),a=Ho(t);t._a.delete(e),a.b_()&&$w(t,e),t._a.size===0&&(a.b_()?a.v_():As(t)&&t.la.set("Unknown"))}function Ng(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(r).U_(e)}function $w(r,e){r.ha.Ke(e),Ho(r).K_(e)}function xg(r){r.ha=new h2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.la.ta()}function Mg(r){return As(r)&&!Ho(r).w_()&&r._a.size>0}function As(r){return Re(r).aa.size===0}function Qw(r){r.ha=void 0}async function vx(r){r.la.set("Online")}async function _x(r){r._a.forEach((e,t)=>{Ng(r,e)})}async function Ex(r,e){Qw(r),Mg(r)?(r.la.ia(e),xg(r)):r.la.set("Unknown")}async function Tx(r,e,t){if(r.la.set("Online"),e instanceof Mw&&e.state===2&&e.cause)try{await async function(s,u){const h=u.cause;for(const d of u.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,h),s._a.delete(d),s.ha.removeTarget(d))}(r,e)}catch(a){he(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Qh(r,a)}else if(e instanceof Ih?r.ha.Xe(e):e instanceof xw?r.ha.ot(e):r.ha.nt(e),!t.isEqual(Ae.min()))try{const a=await Fw(r.localStore);t.compareTo(a)>=0&&await function(u,h){const d=u.ha.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u._a.get(g);v&&u._a.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u._a.get(p);if(!v)return;u._a.set(p,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),$w(u,p);const b=new ha(v.target,p,g,v.sequenceNumber);Ng(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(a){he(vs,"Failed to raise snapshot:",a),await Qh(r,a)}}async function Qh(r,e,t){if(!qo(e))throw e;r.aa.add(1),await Pu(r),r.la.set("Offline"),t||(t=()=>Fw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(vs,"Retrying IndexedDB access"),await t(),r.aa.delete(1),await Tf(r)})}function Ww(r,e){return e().catch(t=>Qh(r,t,e))}async function bf(r){const e=Re(r),t=wa(e);let a=e.oa.length>0?e.oa[e.oa.length-1].batchId:gg;for(;bx(e);)try{const s=await rx(e.localStore,a);if(s===null){e.oa.length===0&&t.v_();break}a=s.batchId,wx(e,s)}catch(s){await Qh(e,s)}Xw(e)&&Zw(e)}function bx(r){return As(r)&&r.oa.length<10}function wx(r,e){r.oa.push(e);const t=wa(r);t.b_()&&t.W_&&t.G_(e.mutations)}function Xw(r){return As(r)&&!wa(r).w_()&&r.oa.length>0}function Zw(r){wa(r).start()}async function Sx(r){wa(r).H_()}async function Ax(r){const e=wa(r);for(const t of r.oa)e.G_(t.mutations)}async function Rx(r,e,t){const a=r.oa.shift(),s=wg.from(a,e,t);await Ww(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await bf(r)}async function Ix(r,e){e&&wa(r).W_&&await async function(a,s){if(function(h){return u2(h)&&h!==re.ABORTED}(s.code)){const u=a.oa.shift();wa(a).D_(),await Ww(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,s)),await bf(a)}}(r,e),Xw(r)&&Zw(r)}async function K0(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),he(vs,"RemoteStore received new credentials");const a=As(t);t.aa.add(3),await Pu(t),a&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Tf(t)}async function Cx(r,e){const t=Re(r);e?(t.aa.delete(2),await Tf(t)):e||(t.aa.add(2),await Pu(t),t.la.set("Unknown"))}function Ho(r){return r.Pa||(r.Pa=function(t,a,s){const u=Re(t);return u.Y_(),new fx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{jo:vx.bind(null,r),Jo:_x.bind(null,r),Zo:Ex.bind(null,r),Q_:Tx.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Mg(r)?xg(r):r.la.set("Unknown")):(await r.Pa.stop(),Qw(r))})),r.Pa}function wa(r){return r.Ta||(r.Ta=function(t,a,s){const u=Re(t);return u.Y_(),new dx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:Sx.bind(null,r),Zo:Ix.bind(null,r),z_:Ax.bind(null,r),j_:Rx.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await bf(r)):(await r.Ta.stop(),r.oa.length>0&&(he(vs,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,a,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=s,this.removalCallback=u,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,s,u){const h=Date.now()+a,d=new Pg(e,t,h,s,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(r,e){if(Ii("AsyncQueue",`${e}: ${r}`),qo(r))return new de(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||ye.comparator(t.key,a.key):(t,a)=>ye.comparator(t.key,a.key),this.keyedMap=tu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=a.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Oo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Ia=new gt(ye.comparator)}track(e){const t=e.doc.key,a=this.Ia.get(t);a?e.type!==0&&a.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&a.type!==1?this.Ia=this.Ia.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Ia=this.Ia.remove(t):e.type===1&&a.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):be(63341,{Vt:e,Ea:a}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,a)=>{e.push(a)}),e}}class Vo{constructor(e,t,a,s,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,s,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Vo(e,t,Oo.emptySet(t),h,a,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==a[s].type||!t[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Ox{constructor(){this.queries=Q0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,a){const s=Re(t),u=s.queries;s.queries=Q0(),u.forEach((h,d)=>{for(const p of d.Ra)p.onError(a)})})(this,new de(re.ABORTED,"Firestore shutting down"))}}function Q0(){return new ws(r=>_w(r),pf)}async function Nx(r,e){const t=Re(r);let a=3;const s=e.query;let u=t.queries.get(s);u?!u.Va()&&e.ma()&&(a=2):(u=new Dx,a=e.ma()?0:1);try{switch(a){case 0:u.Aa=await t.onListen(s,!0);break;case 1:u.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(h){const d=kg(h,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&Vg(t)}async function xx(r,e){const t=Re(r),a=e.query;let s=3;const u=t.queries.get(a);if(u){const h=u.Ra.indexOf(e);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?s=e.ma()?0:1:!u.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function Mx(r,e){const t=Re(r);let a=!1;for(const s of e){const u=s.query,h=t.queries.get(u);if(h){for(const d of h.Ra)d.pa(s)&&(a=!0);h.Aa=s}}a&&Vg(t)}function Px(r,e,t){const a=Re(r),s=a.queries.get(e);if(s)for(const u of s.Ra)u.onError(t);a.queries.delete(e)}function Vg(r){r.fa.forEach(e=>{e.next()})}var Np,W0;(W0=Np||(Np={})).ya="default",W0.Cache="cache";class kx{constructor(e,t,a){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new Vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const a=t!=="Offline";return(!this.options.Fa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class Vx{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Le(),this.mutatedKeys=Le(),this.Ua=Ew(e),this.Ka=new Oo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const a=t?t.za:new $0,s=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,h=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const w=s.get(v),I=gf(this.query,b)?b:null,A=!!w&&this.mutatedKeys.has(w.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;w&&I?w.data.isEqual(I.data)?A!==x&&(a.track({type:3,doc:I}),k=!0):this.ja(w,I)||(a.track({type:2,doc:I}),k=!0,(p&&this.Ua(I,p)>0||g&&this.Ua(I,g)<0)&&(d=!0)):!w&&I?(a.track({type:0,doc:I}),k=!0):w&&!I&&(a.track({type:1,doc:w}),k=!0,(p||g)&&(d=!0)),k&&(I?(h=h.add(I),u=x?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{Ka:h,za:a,ys:d,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,s){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((v,b)=>function(I,A){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:k})}};return x(I)-x(A)}(v.type,b.type)||this.Ua(v.doc,b.doc)),this.Ha(a),s=s!=null&&s;const d=t&&!s?this.Ja():[],p=this.$a.size===0&&this.current&&!s?1:0,g=p!==this.Qa;return this.Qa=p,h.length!==0||g?{snapshot:new Vo(this.query,e.Ka,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new $0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Le(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const t=[];return e.forEach(a=>{this.$a.has(a)||t.push(new eS(a))}),this.$a.forEach(a=>{e.has(a)||t.push(new Jw(a))}),t}Xa(e){this.qa=e.Ns,this.$a=Le();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Vo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ug="SyncEngine";class Ux{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Lx{constructor(e){this.key=e,this.tu=!1}}class jx{constructor(e,t,a,s,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new ws(d=>_w(d),pf),this.iu=new Map,this.su=new Set,this.ou=new gt(ye.comparator),this._u=new Map,this.au=new Rg,this.uu={},this.cu=new Map,this.lu=ko.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function zx(r,e,t=!0){const a=sS(r);let s;const u=a.ru.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.eu()):s=await tS(a,e,t,!0),s}async function Bx(r,e){const t=sS(r);await tS(t,e,!0,!1)}async function tS(r,e,t,a){const s=await ix(r.localStore,zr(e)),u=s.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return a&&(d=await qx(r,e,u,h==="current",s.resumeToken)),r.isPrimaryClient&&t&&Kw(r.remoteStore,s),d}async function qx(r,e,t,a,s){r.Pu=(b,w,I)=>async function(x,k,j,J){let W=k.view.Ga(j);W.ys&&(W=await q0(x.localStore,k.query,!1).then(({documents:N})=>k.view.Ga(N,W)));const ie=J&&J.targetChanges.get(k.targetId),le=J&&J.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(W,x.isPrimaryClient,ie,le);return Z0(x,k.targetId,ce.Ya),ce.snapshot}(r,b,w,I);const u=await q0(r.localStore,e,!0),h=new Vx(e,u.Ns),d=h.Ga(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",s),g=h.applyChanges(d,r.isPrimaryClient,p);Z0(r,t,g.Ya);const v=new Ux(e,t,h);return r.ru.set(e,v),r.iu.has(t)?r.iu.get(t).push(e):r.iu.set(t,[e]),g.snapshot}async function Hx(r,e,t){const a=Re(r),s=a.ru.get(e),u=a.iu.get(s.targetId);if(u.length>1)return a.iu.set(s.targetId,u.filter(h=>!pf(h,e))),void a.ru.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await Dp(a.localStore,s.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(s.targetId),t&&Og(a.remoteStore,s.targetId),xp(a,s.targetId)}).catch(Bo)):(xp(a,s.targetId),await Dp(a.localStore,s.targetId,!0))}async function Fx(r,e){const t=Re(r),a=t.ru.get(e),s=t.iu.get(a.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Og(t.remoteStore,a.targetId))}async function Gx(r,e,t){const a=Zx(r);try{const s=await function(h,d){const p=Re(h),g=Lt.now(),v=d.reduce((I,A)=>I.add(A.key),Le());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Ci(),x=Le();return p.Cs.getEntries(I,v).next(k=>{A=k,A.forEach((j,J)=>{J.isValidDocument()||(x=x.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,A)).next(k=>{b=k;const j=[];for(const J of d){const W=i2(J,b.get(J.key).overlayedDocument);W!=null&&j.push(new Ss(J.key,W,cw(W.value.mapValue),Br.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,j,d)}).next(k=>{w=k;const j=k.applyToLocalDocumentSet(b,x);return p.documentOverlayCache.saveOverlays(I,k.batchId,j)})}).then(()=>({batchId:w.batchId,changes:bw(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),function(h,d,p){let g=h.uu[h.currentUser.toKey()];g||(g=new gt(xe)),g=g.insert(d,p),h.uu[h.currentUser.toKey()]=g}(a,s.batchId,t),await ku(a,s.changes),await bf(a.remoteStore)}catch(s){const u=kg(s,"Failed to persist write");t.reject(u)}}async function nS(r,e){const t=Re(r);try{const a=await tx(t.localStore,e);e.targetChanges.forEach((s,u)=>{const h=t._u.get(u);h&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?h.tu=!0:s.modifiedDocuments.size>0?Qe(h.tu,14607):s.removedDocuments.size>0&&(Qe(h.tu,42227),h.tu=!1))}),await ku(t,a,e)}catch(a){await Bo(a)}}function X0(r,e,t){const a=Re(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const s=[];a.ru.forEach((u,h)=>{const d=h.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(h,d){const p=Re(h);p.onlineState=d;let g=!1;p.queries.forEach((v,b)=>{for(const w of b.Ra)w.ga(d)&&(g=!0)}),g&&Vg(p)}(a.eventManager,e),s.length&&a.nu.Q_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Yx(r,e,t){const a=Re(r);a.sharedClientState.updateQueryState(e,"rejected",t);const s=a._u.get(e),u=s&&s.key;if(u){let h=new gt(ye.comparator);h=h.insert(u,dn.newNoDocument(u,Ae.min()));const d=Le().add(u),p=new _f(Ae.min(),new Map,new gt(xe),h,d);await nS(a,p),a.ou=a.ou.remove(u),a._u.delete(e),Lg(a)}else await Dp(a.localStore,e,!1).then(()=>xp(a,e,t)).catch(Bo)}async function Kx(r,e){const t=Re(r),a=e.batch.batchId;try{const s=await ex(t.localStore,e);iS(t,a,null),rS(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await ku(t,s)}catch(s){await Bo(s)}}async function $x(r,e,t){const a=Re(r);try{const s=await function(h,d){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(Qe(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);iS(a,e,t),rS(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await ku(a,s)}catch(s){await Bo(s)}}function rS(r,e){(r.cu.get(e)||[]).forEach(t=>{t.resolve()}),r.cu.delete(e)}function iS(r,e,t){const a=Re(r);let s=a.uu[a.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),a.uu[a.currentUser.toKey()]=s}}function xp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.iu.get(e))r.ru.delete(a),t&&r.nu.Tu(a,t);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(a=>{r.au.containsKey(a)||aS(r,a)})}function aS(r,e){r.su.delete(e.path.canonicalString());const t=r.ou.get(e);t!==null&&(Og(r.remoteStore,t),r.ou=r.ou.remove(e),r._u.delete(t),Lg(r))}function Z0(r,e,t){for(const a of t)a instanceof Jw?(r.au.addReference(a.key,e),Qx(r,a)):a instanceof eS?(he(Ug,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,e),r.au.containsKey(a.key)||aS(r,a.key)):be(19791,{Iu:a})}function Qx(r,e){const t=e.key,a=t.path.canonicalString();r.ou.get(t)||r.su.has(a)||(he(Ug,"New document in limbo: "+t),r.su.add(a),Lg(r))}function Lg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const t=new ye(ut.fromString(e)),a=r.lu.next();r._u.set(a,new Lx(t)),r.ou=r.ou.insert(t,a),Kw(r.remoteStore,new ha(zr(yw(t.path)),a,"TargetPurposeLimboResolution",ff.le))}}async function ku(r,e,t){const a=Re(r),s=[],u=[],h=[];a.ru.isEmpty()||(a.ru.forEach((d,p)=>{h.push(a.Pu(p,e,t).then(g=>{var v;if((g||t)&&a.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){s.push(g);const b=Cg.Ps(p.targetId,g);u.push(b)}}))}),await Promise.all(h),a.nu.Q_(s),await async function(p,g){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(g,w=>ne.forEach(w.ls,I=>v.persistence.referenceDelegate.addReference(b,w.targetId,I)).next(()=>ne.forEach(w.hs,I=>v.persistence.referenceDelegate.removeReference(b,w.targetId,I)))))}catch(b){if(!qo(b))throw b;he(Dg,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const I=v.Ss.get(w),A=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(A);v.Ss=v.Ss.insert(w,x)}}}(a.localStore,u))}async function Wx(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){he(Ug,"User change. New user:",e.toKey());const a=await Hw(t.localStore,e);t.currentUser=e,function(u,h){u.cu.forEach(d=>{d.forEach(p=>{p.reject(new de(re.CANCELLED,h))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ku(t,a.Ms)}}function Xx(r,e){const t=Re(r),a=t._u.get(e);if(a&&a.tu)return Le().add(a.key);{let s=Le();const u=t.iu.get(e);if(!u)return s;for(const h of u){const d=t.ru.get(h);s=s.unionWith(d.view.Wa)}return s}}function sS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yx.bind(null,e),e.nu.Q_=Mx.bind(null,e.eventManager),e.nu.Tu=Px.bind(null,e.eventManager),e}function Zx(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$x.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return J2(this.persistence,new W2,e.initialUser,this.serializer)}Ru(e){return new qw(Ig.Ei,this.serializer)}Au(e){return new sx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class Jx extends Wh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Qe(this.persistence.referenceDelegate instanceof $h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new k2(a,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new qw(a=>$h.Ei(a,t),this.serializer)}}class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>X0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wx.bind(null,this.syncEngine),await Cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ox}()}createDatastore(e){const t=Ef(e.databaseInfo.databaseId),a=function(u){return new hx(u)}(e.databaseInfo);return function(u,h,d,p){return new px(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,s,u,h,d){return new yx(a,s,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>X0(this.syncEngine,t,0),function(){return G0.C()?new G0:new ox}())}createSyncEngine(e,t){return function(s,u,h,d,p,g,v){const b=new jx(s,u,h,d,p,g);return v&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const u=Re(s);he(vs,"RemoteStore shutting down."),u.aa.add(5),await Pu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class tM{constructor(e,t,a,s,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{he(Sa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(he(Sa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=kg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Qm(r,e){r.asyncQueue.verifyOperationInProgress(),he(Sa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async s=>{a.isEqual(s)||(await Hw(e.localStore,s),a=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function J0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await nM(r);he(Sa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>K0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,s)=>K0(e.remoteStore,s)),r._onlineComponents=e}async function nM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Sa,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await Qm(r,new Wh)}}else he(Sa,"Using default OfflineComponentProvider"),await Qm(r,new Jx(void 0));return r._offlineComponents}async function oS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Sa,"Using user provided OnlineComponentProvider"),await J0(r,r._uninitializedComponentsProvider._online)):(he(Sa,"Using default OnlineComponentProvider"),await J0(r,new Mp))),r._onlineComponents}function rM(r){return oS(r).then(e=>e.syncEngine)}async function iM(r){const e=await oS(r),t=e.eventManager;return t.onListen=zx.bind(null,e.syncEngine),t.onUnlisten=Hx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Bx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fx.bind(null,e.syncEngine),t}function aM(r,e,t={}){const a=new pa;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new eM({next:w=>{v.yu(),h.enqueueAndForget(()=>xx(u,b)),w.fromCache&&p.source==="server"?g.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new kx(d,v,{includeMetadataChanges:!0,Fa:!0});return Nx(u,b)}(await iM(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r,e,t){if(!t)throw new de(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sM(r,e,t,a){if(e===!0&&a===!0)throw new de(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function tT(r){if(!ye.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nT(r){if(ye.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Tu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(r);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firestore.googleapis.com",rT=!0;class iT{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cS,this.ssl=rT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M2)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,s){return a.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,t,a,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new cN;switch(a.type){case"firstParty":return new mN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=eT.get(t);a&&(he("ComponentProvider","Removing Datastore"),eT.delete(t),a.terminate())}(this),Promise.resolve()}}function oM(r,e,t,a={}){var s;const u=(r=Tu(r,Sf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==cS&&u.host!==d&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!ds(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=fn.MOCK_USER;else{g=ab(a.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(b)}r._authCredentials=new hN(new Zb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class tr{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ga extends Fo{constructor(e,t,a){super(e,t,yw(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new ye(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function jg(r,e,...t){if(r=Kt(r),uS("collection","path",e),r instanceof Sf){const a=ut.fromString(e,...t);return nT(a),new ga(r,null,a)}{if(!(r instanceof tr||r instanceof ga))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ut.fromString(e,...t));return nT(a),new ga(r.firestore,null,a)}}function hS(r,e,...t){if(r=Kt(r),arguments.length===1&&(e=ew.newId()),uS("doc","path",e),r instanceof Sf){const a=ut.fromString(e,...t);return tT(a),new tr(r,null,new ye(a))}{if(!(r instanceof tr||r instanceof ga))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ut.fromString(e,...t));return tT(a),new tr(r.firestore,r instanceof ga?r.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class sT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Gw(this,"async_queue_retry"),this.ju=()=>{const a=$m();a&&he(aT,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=e;const t=$m();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=$m();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new pa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!qo(e))throw e;he(aT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(a=>{throw this.Ku=a,this.Wu=!1,Ii("INTERNAL UNHANDLED ERROR: ",oT(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=t,t}enqueueAfterDelay(e,t,a){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=Pg.createAndSchedule(this,e,t,a,u=>this.Xu(u));return this.Uu.push(s),s}Ju(){this.Ku&&be(47125,{ec:oT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function oT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Af extends Sf{constructor(e,t,a,s){super(e,t,a,s),this.type="firestore",this._queue=new sT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sT(e),this._firestoreClient=void 0,await e}}}function lM(r,e){const t=typeof r=="object"?r:rg(),a=typeof r=="string"?r:Bh,s=lf(t,"firestore").getImmediate({identifier:a});if(!s._initialized){const u=nb("firestore");u&&oM(s,...u)}return s}function fS(r){if(r._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uM(r),r._firestoreClient}function uM(r){var e,t,a;const s=r._freezeSettings(),u=function(d,p,g,v){return new DN(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,lS(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=s.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new tM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(ln.fromBase64String(e))}catch(t){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,s){if(a.length!==s.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==s[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/^__.*__$/;class hM{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}function mS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{oc:r})}}class Hg{constructor(e,t,a,s,u,h){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=s,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:a,cc:!1});return s.lc(e),s}hc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:a,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Xh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(mS(this.oc)&&cM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class fM{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Ef(e)}dc(e,t,a,s=!1){return new Hg({oc:e,methodName:t,Ec:a,path:sn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pS(r){const e=r._freezeSettings(),t=Ef(r._databaseId);return new fM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function dM(r,e,t,a,s,u={}){const h=r.dc(u.merge||u.mergeFields?2:0,e,t,s);vS("Data must be an object, but it was:",h,a);const d=gS(a,h);let p,g;if(u.merge)p=new pr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const w=pM(e,b,t);if(!h.contains(w))throw new de(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yM(v,w)||v.push(w)}p=new pr(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new hM(new er(d),p,g)}function mM(r,e,t,a=!1){return Fg(t,r.dc(a?4:3,e))}function Fg(r,e){if(yS(r=Kt(r)))return vS("Unsupported field value:",e,r),gS(r,e);if(r instanceof dS)return function(a,s){if(!mS(s.oc))throw s.Tc(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(a,s){const u=[];let h=0;for(const d of a){let p=Fg(d,s.Pc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,s){if((a=Kt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ZN(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Lt.fromDate(a);return{timestampValue:Kh(s.serializer,u)}}if(a instanceof Lt){const u=new Lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kh(s.serializer,u)}}if(a instanceof Bg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Uo)return{bytesValue:Pw(s.serializer,a._byteString)};if(a instanceof tr){const u=s.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw s.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ag(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof qg)return function(h,d){return{mapValue:{fields:{[lw]:{stringValue:uw},[qh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Tg(d.serializer,g)})}}}}}}(a,s);throw s.Tc(`Unsupported field value: ${wf(a)}`)}(r,e)}function gS(r,e){const t={};return nw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,(a,s)=>{const u=Fg(s,e.uc(a));u!=null&&(t[a]=u)}),{mapValue:{fields:t}}}function yS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof Bg||r instanceof Uo||r instanceof tr||r instanceof dS||r instanceof qg)}function vS(r,e,t){if(!yS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const a=wf(t);throw a==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+a)}}function pM(r,e,t){if((e=Kt(e))instanceof zg)return e._internalPath;if(typeof e=="string")return _S(r,e);throw Xh("Field path arguments must be of type string or ",r,!1,void 0,t)}const gM=new RegExp("[~\\*/\\[\\]]");function _S(r,e,t){if(e.search(gM)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new zg(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Xh(r,e,t,a,s){const u=a&&!a.isEmpty(),h=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${s}`),p+=")"),new de(re.INVALID_ARGUMENT,d+r+p)}function yM(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t,a,s,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vM extends ES{data(){return super.data()}}function Gg(r,e){return typeof e=="string"?_S(r,e):e instanceof zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class EM extends Yg{}function TS(r,e,...t){let a=[];e instanceof Yg&&a.push(e),a=a.concat(t),function(u){const h=u.filter(p=>p instanceof Kg).length,d=u.filter(p=>p instanceof Rf).length;if(h>1||h>0&&d>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const s of a)r=s._apply(r);return r}class Rf extends EM{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Rf(e,t,a)}_apply(e){const t=this._parse(e);return bS(e._query,t),new Fo(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=pS(e.firestore);return function(u,h,d,p,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){uT(b,v);const A=[];for(const x of b)A.push(lT(p,u,x));w={arrayValue:{values:A}}}else w=lT(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||uT(b,v),w=mM(d,h,b,v==="in"||v==="not-in");return xt.create(g,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cu(r,e,t){const a=e,s=Gg("where",r);return Rf._create(s,a,t)}class Kg extends Yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kg(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,u){let h=s;const d=u.getFlattenedFilters();for(const p of d)bS(h,p),h=wp(h,p)}(e._query,t),new Fo(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lT(r,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vw(e)&&t.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ut.fromString(t));if(!ye.isDocumentKey(a))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return w0(r,new ye(a))}if(t instanceof tr)return w0(r,t._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function uT(r,e){if(!Array.isArray(r)||r.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bS(r,e){const t=function(s,u){for(const h of s)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TM{convertValue(e,t="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return bs(e,(s,u)=>{a[s]=this.convertValue(u,t)}),a}convertVectorValue(e){var t,a,s;const u=(s=(a=(t=e.fields)===null||t===void 0?void 0:t[qh].arrayValue)===null||a===void 0?void 0:a.values)===null||s===void 0?void 0:s.map(h=>St(h.doubleValue));return new qg(u)}convertGeoPoint(e){return new Bg(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=mf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=Ea(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ut.fromString(e);Qe(zw(a),9688,{name:e});const s=new yu(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return s.isEqual(t)||Ii(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(r,e,t){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wM extends ES{constructor(e,t,a,s,u,h){super(e,t,a,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Gg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Ch extends wM{data(e={}){return super.data(e)}}class SM{constructor(e,t,a,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new hh(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Ch(this._firestore,this._userDataWriter,a.key,a,new hh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(d=>{const p=new Ch(s._firestore,s._userDataWriter,d.doc.key,d.doc,new hh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Ch(s._firestore,s._userDataWriter,d.doc.key,d.doc,new hh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:AM(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}class RM extends TM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function wS(r){r=Tu(r,Fo);const e=Tu(r.firestore,Af),t=fS(e),a=new RM(e);return _M(r._query),aM(t,r._query).then(s=>new SM(e,a,r,s))}function IM(r){return SS(Tu(r.firestore,Af),[new bg(r._key,Br.none())])}function CM(r,e){const t=Tu(r.firestore,Af),a=hS(r),s=bM(r.converter,e);return SS(t,[dM(pS(r.firestore),"addDoc",a._key,s,r.converter!==null,{}).toMutation(a._key,Br.exists(!1))]).then(()=>a)}function SS(r,e){return function(a,s){const u=new pa;return a.asyncQueue.enqueueAndForget(async()=>Gx(await rM(a),s,u)),u.promise}(fS(r),e)}(function(e,t=!0){(function(s){zo=s})(Ts),ms(new va("firestore",(a,{instanceIdentifier:s,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Af(new fN(a.getProvider("auth-internal")),new pN(h,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,v)}(h,s),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Lr(h0,f0,e),Lr(h0,f0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebasestorage.googleapis.com",RS="storageBucket",DM=2*60*1e3,OM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends Fr{constructor(e,t,a=0){super(Wm(e),`Firebase Storage: ${t} (${Wm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function Wm(r){return"storage/"+r}function $g(){const r="An unknown error occurred, please check the error payload for server response.";return new Tt(Et.UNKNOWN,r)}function NM(r){return new Tt(Et.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function xM(r){return new Tt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MM(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(Et.UNAUTHENTICATED,r)}function PM(){return new Tt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kM(r){return new Tt(Et.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function VM(){return new Tt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UM(){return new Tt(Et.CANCELED,"User canceled the upload/download.")}function LM(r){return new Tt(Et.INVALID_URL,"Invalid URL '"+r+"'.")}function jM(r){return new Tt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function zM(){return new Tt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RS+"' property when initializing the app?")}function BM(){return new Tt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qM(){return new Tt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HM(r){return new Tt(Et.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pp(r){return new Tt(Et.INVALID_ARGUMENT,r)}function IS(){return new Tt(Et.APP_DELETED,"The Firebase app was deleted.")}function FM(r){return new Tt(Et.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hu(r,e){return new Tt(Et.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Wl(r){throw new Tt(Et.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=Vn.makeFromUrl(e,t)}catch{return new Vn(e,"")}if(a.path==="")return a;throw jM(e)}static makeFromUrl(e,t){let a=null;const s="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+s+h,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${b}/${v}/b/${s}/o${w}`,"i"),A={bucket:1,path:3},x=t===AS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",j=new RegExp(`^https?://${x}/${s}/${k}`,"i"),W=[{regex:d,indices:p,postModify:u},{regex:I,indices:A,postModify:g},{regex:j,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<W.length;ie++){const le=W[ie],ce=le.regex.exec(e);if(ce){const N=ce[le.indices.bucket];let R=ce[le.indices.path];R||(R=""),a=new Vn(N,R),le.postModify(a);break}}if(a==null)throw LM(e);return a}}class GM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(r,e,t){let a=1,s=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function b(k){s=setTimeout(()=>{s=null,r(I,p())},k)}function w(){u&&clearTimeout(u)}function I(k,...j){if(g){w();return}if(k){w(),v.call(null,k,...j);return}if(p()||h){w(),v.call(null,k,...j);return}a<64&&(a*=2);let W;d===1?(d=2,W=0):W=(a+Math.random())*1e3,b(W)}let A=!1;function x(k){A||(A=!0,w(),!g&&(s!==null?(k||(d=2),clearTimeout(s),b(0)):k||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,x(!0)},t),x}function KM(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(r){return r!==void 0}function QM(r){return typeof r=="object"&&!Array.isArray(r)}function Qg(r){return typeof r=="string"||r instanceof String}function cT(r){return Wg()&&r instanceof Blob}function Wg(){return typeof Blob<"u"}function hT(r,e,t,a){if(a<e)throw Pp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>t)throw Pp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(r,e,t){let a=e;return t==null&&(a=`https://${e}`),`${t}://${a}/v0${r}`}function CS(r){const e=encodeURIComponent;let t="?";for(const a in r)if(r.hasOwnProperty(a)){const s=e(a)+"="+e(r[a]);t=t+s+"&"}return t=t.slice(0,-1),t}var hs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(hs||(hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(r,e){const t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||s||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,t,a,s,u,h,d,p,g,v,b,w=!0){this.url_=e,this.method_=t,this.headers_=a,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,A)=>{this.resolve_=I,this.reject_=A,this.start_()})}start_(){const e=(a,s)=>{if(s){a(!1,new fh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===hs.NO_ERROR,p=u.getStatus();if(!d||WM(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===hs.ABORT;a(!1,new fh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new fh(g,u))})},t=(a,s)=>{const u=this.resolve_,h=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());$M(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=$g();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(s.canceled){const p=this.appDelete_?IS():UM();h(p)}else{const p=VM();h(p)}};this.canceled_?t(!1,new fh(!1,null,!0)):this.backoffId_=YM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function ZM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function JM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eP(r,e){e&&(r["X-Firebase-GMPID"]=e)}function tP(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function nP(r,e,t,a,s,u,h=!0){const d=CS(r.urlParams),p=r.url+d,g=Object.assign({},r.headers);return eP(g,e),ZM(g,t),JM(g,u),tP(g,a),new XM(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iP(...r){const e=rP();if(e!==void 0){const t=new e;for(let a=0;a<r.length;a++)t.append(r[a]);return t.getBlob()}else{if(Wg())return new Blob(r);throw new Tt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aP(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(r){if(typeof atob>"u")throw HM("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,t){this.data=e,this.contentType=t||null}}function DS(r,e){switch(r){case gr.RAW:return new Xm(OS(e));case gr.BASE64:case gr.BASE64URL:return new Xm(NS(r,e));case gr.DATA_URL:return new Xm(lP(e),uP(e))}throw $g()}function OS(r){const e=[];for(let t=0;t<r.length;t++){let a=r.charCodeAt(t);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=a,h=r.charCodeAt(++t);a=65536|(u&1023)<<10|h&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function oP(r){let e;try{e=decodeURIComponent(r)}catch{throw hu(gr.DATA_URL,"Malformed data URL.")}return OS(e)}function NS(r,e){switch(r){case gr.BASE64:{const s=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(s||u)throw hu(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case gr.BASE64URL:{const s=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(s||u)throw hu(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=sP(e)}catch(s){throw s.message.includes("polyfill")?s:hu(r,"Invalid character found")}const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a}class xS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hu(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=t[1]||null;a!=null&&(this.base64=cP(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function lP(r){const e=new xS(r);return e.base64?NS(gr.BASE64,e.rest):oP(e.rest)}function uP(r){return new xS(r).contentType}function cP(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){let a=0,s="";cT(e)?(this.data_=e,a=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(cT(this.data_)){const a=this.data_,s=aP(a,e,t);return s===null?null:new ca(s)}else{const a=new Uint8Array(this.data_.buffer,e,t-e);return new ca(a,!0)}}static getBlob(...e){if(Wg()){const t=e.map(a=>a instanceof ca?a.data_:a);return new ca(iP.apply(null,t))}else{const t=e.map(h=>Qg(h)?DS(gr.RAW,h).data:h.data_);let a=0;t.forEach(h=>{a+=h.byteLength});const s=new Uint8Array(a);let u=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)s[u++]=h[d]}),new ca(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){let e;try{e=JSON.parse(r)}catch{return null}return QM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function fP(r,e){const t=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?t:r+"/"+t}function PS(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(r,e){return e}class En{constructor(e,t,a,s){this.server=e,this.local=t||e,this.writable=!!a,this.xform=s||dP}}let dh=null;function mP(r){return!Qg(r)||r.length<2?r:PS(r)}function kS(){if(dh)return dh;const r=[];r.push(new En("bucket")),r.push(new En("generation")),r.push(new En("metageneration")),r.push(new En("name","fullPath",!0));function e(u,h){return mP(h)}const t=new En("name");t.xform=e,r.push(t);function a(u,h){return h!==void 0?Number(h):h}const s=new En("size");return s.xform=a,r.push(s),r.push(new En("timeCreated")),r.push(new En("updated")),r.push(new En("md5Hash",null,!0)),r.push(new En("cacheControl",null,!0)),r.push(new En("contentDisposition",null,!0)),r.push(new En("contentEncoding",null,!0)),r.push(new En("contentLanguage",null,!0)),r.push(new En("contentType",null,!0)),r.push(new En("metadata","customMetadata",!0)),dh=r,dh}function pP(r,e){function t(){const a=r.bucket,s=r.fullPath,u=new Vn(a,s);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function gP(r,e,t){const a={};a.type="file";const s=t.length;for(let u=0;u<s;u++){const h=t[u];a[h.local]=h.xform(a,e[h.server])}return pP(a,r),a}function VS(r,e,t){const a=MS(e);return a===null?null:gP(r,a,t)}function yP(r,e,t,a){const s=MS(e);if(s===null||!Qg(s.downloadTokens))return null;const u=s.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,b=r.fullPath,w="/b/"+h(v)+"/o/"+h(b),I=Xg(w,t,a),A=CS({alt:"media",token:g});return I+A})[0]}function vP(r,e){const t={},a=e.length;for(let s=0;s<a;s++){const u=e[s];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class US{constructor(e,t,a,s){this.url=e,this.method=t,this.handler=a,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r){if(!r)throw $g()}function _P(r,e){function t(a,s){const u=VS(r,s,e);return LS(u!==null),u}return t}function EP(r,e){function t(a,s){const u=VS(r,s,e);return LS(u!==null),yP(u,s,r.host,r._protocol)}return t}function jS(r){function e(t,a){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=PM():s=MM():t.getStatus()===402?s=xM(r.bucket):t.getStatus()===403?s=kM(r.path):s=a,s.status=t.getStatus(),s.serverResponse=a.serverResponse,s}return e}function TP(r){const e=jS(r);function t(a,s){let u=e(a,s);return a.getStatus()===404&&(u=NM(r.path)),u.serverResponse=s.serverResponse,u}return t}function bP(r,e,t){const a=e.fullServerUrl(),s=Xg(a,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,d=new US(s,u,EP(r,t),h);return d.errorHandler=TP(e),d}function wP(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function SP(r,e,t){const a=Object.assign({},t);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=wP(null,e)),a}function AP(r,e,t,a,s){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let W="";for(let ie=0;ie<2;ie++)W=W+Math.random().toString().slice(2);return W}const p=d();h["Content-Type"]="multipart/related; boundary="+p;const g=SP(e,a,s),v=vP(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",I=ca.getBlob(b,a,w);if(I===null)throw BM();const A={name:g.fullPath},x=Xg(u,r.host,r._protocol),k="POST",j=r.maxUploadRetryTime,J=new US(x,k,_P(r,t),j);return J.urlParams=A,J.headers=h,J.body=I.uploadData(),J.errorHandler=jS(e),J}class RP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,a,s){if(this.sent_)throw Wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IP extends RP{initXhr(){this.xhr_.responseType="text"}}function zS(){return new IP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _s(e,t)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PS(this._location.path)}get storage(){return this._service}get parent(){const e=hP(this._location.path);if(e===null)return null;const t=new Vn(this._location.bucket,e);return new _s(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw FM(e)}}function CP(r,e,t){r._throwIfRoot("uploadBytes");const a=AP(r.storage,r._location,kS(),new ca(e,!0),t);return r.storage.makeRequestWithTokens(a,zS).then(s=>({metadata:s,ref:r}))}function DP(r,e,t=gr.RAW,a){r._throwIfRoot("uploadString");const s=DS(t,e),u=Object.assign({},a);return u.contentType==null&&s.contentType!=null&&(u.contentType=s.contentType),CP(r,s.data,u)}function OP(r){r._throwIfRoot("getDownloadURL");const e=bP(r.storage,r._location,kS());return r.storage.makeRequestWithTokens(e,zS).then(t=>{if(t===null)throw qM();return t})}function NP(r,e){const t=fP(r._location.path,e),a=new Vn(r._location.bucket,t);return new _s(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(r){return/^[A-Za-z]+:\/\//.test(r)}function MP(r,e){return new _s(r,e)}function BS(r,e){if(r instanceof Zg){const t=r;if(t._bucket==null)throw zM();const a=new _s(t,t._bucket);return e!=null?BS(a,e):a}else return e!==void 0?NP(r,e):r}function PP(r,e){if(e&&xP(e)){if(r instanceof Zg)return MP(r,e);throw Pp("To use ref(service, url), the first argument must be a Storage instance.")}else return BS(r,e)}function fT(r,e){const t=e==null?void 0:e[RS];return t==null?null:Vn.makeFromBucketSpec(t,r)}function kP(r,e,t,a={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:s}=a;s&&(r._overrideAuthToken=typeof s=="string"?s:ab(s,r.app.options.projectId))}class Zg{constructor(e,t,a,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=AS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DM,this._maxUploadRetryTime=OM,this._requests=new Set,s!=null?this._bucket=Vn.makeFromBucketSpec(s,this._host):this._bucket=fT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=fT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _s(this,e)}_makeRequest(e,t,a,s,u=!0){if(this._deleted)return new GM(IS());{const h=nP(e,this._appId,a,s,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[a,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,s).getPromise()}}const dT="@firebase/storage",mT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="storage";function VP(r,e,t,a){return r=Kt(r),DP(r,e,t,a)}function UP(r){return r=Kt(r),OP(r)}function LP(r,e){return r=Kt(r),PP(r,e)}function jP(r=rg(),e){r=Kt(r);const a=lf(r,qS).getImmediate({identifier:e}),s=nb("storage");return s&&zP(a,...s),a}function zP(r,e,t,a={}){kP(r,e,t,a)}function BP(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new Zg(t,a,s,e,Ts)}function qP(){ms(new va(qS,BP,"PUBLIC").setMultipleInstances(!0)),Lr(dT,mT,""),Lr(dT,mT,"esm2017")}qP();const HP={apiKey:"AIzaSyBonq2AaR6RPvyQJpx16WQxItqqD2Sy2Vc",authDomain:"mood-tracker-8cfa8.firebaseapp.com",projectId:"mood-tracker-8cfa8",storageBucket:"mood-tracker-8cfa8.firebasestorage.app",messagingSenderId:"263284993707",appId:"1:263284993707:web:1e7ad866b36f5cbbc3d1ee",measurementId:"G-RP0E4MZH8W"},Jg=lb(HP),wi=sN(Jg),If=lM(Jg),FP=jP(Jg);function Zm(){const[r,e]=Y.useState(!0),[t,a]=Y.useState(""),[s,u]=Y.useState(""),h=async()=>{const p=new vi;try{await pO(wi,p)}catch(g){alert(g.message)}},d=async p=>{p.preventDefault();try{r?await YD(wi,t,s):await Mb(wi,t,s)}catch(g){alert(g.message)}};return Q.jsxs("div",{className:"auth-page",children:[Q.jsxs("div",{className:"auth-card",children:[Q.jsx("h2",{className:"text-center mb-4",children:"Welcome to MoodTracker"}),Q.jsxs("div",{className:"tabs",children:[Q.jsx("button",{className:`tab ${r?"active":""}`,onClick:()=>e(!0),children:"Sign In"}),Q.jsx("button",{className:`tab ${r?"":"active"}`,onClick:()=>e(!1),children:"Sign Up"})]}),Q.jsxs("form",{onSubmit:d,className:"form",children:[Q.jsx("label",{className:"form-label",children:"Email address"}),Q.jsx("input",{className:"form-control mb-3",type:"email",placeholder:"Enter your email",value:t,onChange:p=>a(p.target.value),required:!0}),Q.jsx("label",{className:"form-label",children:"Password"}),Q.jsx("input",{className:"form-control mb-4",type:"password",placeholder:"Enter your password",value:s,onChange:p=>u(p.target.value),required:!0}),Q.jsx("button",{className:"btn btn-primary w-100 mb-3",type:"submit",children:r?"Log In":"Register"})]}),Q.jsx("div",{className:"divider",children:Q.jsx("span",{children:"Or"})}),Q.jsx("button",{className:"btn btn-outline-danger w-100 mb-2",onClick:h,children:"Continue with Google"}),Q.jsx("footer",{className:"text-center mt-4 small-text",children:"© MoodTracker 2025"})]}),Q.jsx("style",{jsx:"true",children:`
        .auth-page {
          display: flex;
          align-items: center;
          justify-content: center;
          min-height: 100vh;
          background-color: #f1f3f6;
          padding: 20px;
        }

        .auth-card {
          background: #fff;
          border-radius: 20px;
          padding: 30px 20px;
          width: 100%;
          max-width: 400px;
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
          display: flex;
          flex-direction: column;
          align-items: stretch;
        }

        .tabs {
          display: flex;
          justify-content: center;
          margin-bottom: 30px;
        }

        .tab {
          background: none;
          border: none;
          font-weight: bold;
          font-size: 16px;
          padding: 10px 20px;
          cursor: pointer;
          color: #888;
          border-bottom: 2px solid transparent;
          transition: 0.3s;
        }

        .tab.active {
          color: #333;
          border-color: #4a69bd;
        }

        .form-label {
          font-size: 14px;
          margin-bottom: 5px;
          font-weight: 500;
          color: #333;
        }

        .form-control {
          border-radius: 10px;
          padding: 10px 15px;
          border: 1px solid #ccc;
        }

        .btn-primary {
          background-color: #4a69bd;
          border: none;
          border-radius: 12px;
          padding: 10px;
          font-weight: bold;
        }

        .btn-outline-danger {
          border-radius: 12px;
          padding: 10px;
          font-weight: bold;
        }

        .divider {
          text-align: center;
          margin: 20px 0;
          position: relative;
        }

        .divider span {
          background: #fff;
          padding: 0 10px;
          color: #888;
        }

        .divider::before {
          content: "";
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: #ccc;
          z-index: -1;
        }

        .small-text {
          font-size: 12px;
          color: #aaa;
        }

        @media (max-width: 576px) {
          .auth-card {
            padding: 25px 15px;
            border-radius: 15px;
          }
        }
      `})]})}function GP(){const[r,e]=Y.useState(""),[t,a]=Y.useState(""),s=async u=>{u.preventDefault();try{await Mb(wi,r,t),alert("Account created!")}catch(h){alert(h.message)}};return Q.jsxs("div",{className:"container mt-5",children:[Q.jsx("h2",{children:"Register"}),Q.jsxs("form",{onSubmit:s,children:[Q.jsx("input",{className:"form-control mb-2",type:"email",placeholder:"Email",value:r,onChange:u=>e(u.target.value)}),Q.jsx("input",{className:"form-control mb-2",type:"password",placeholder:"Password",value:t,onChange:u=>a(u.target.value)}),Q.jsx("button",{className:"btn btn-success w-100",type:"submit",children:"Register"})]})]})}function HS(r){var e,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=HS(r[e]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function Cf(){for(var r,e,t=0,a="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=HS(r))&&(a&&(a+=" "),a+=e);return a}var Jm,pT;function YP(){if(pT)return Jm;pT=1;const r=(p,g,v,b)=>{if(v==="length"||v==="prototype"||v==="arguments"||v==="caller")return;const w=Object.getOwnPropertyDescriptor(p,v),I=Object.getOwnPropertyDescriptor(g,v);!e(w,I)&&b||Object.defineProperty(p,v,I)},e=function(p,g){return p===void 0||p.configurable||p.writable===g.writable&&p.enumerable===g.enumerable&&p.configurable===g.configurable&&(p.writable||p.value===g.value)},t=(p,g)=>{const v=Object.getPrototypeOf(g);v!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,v)},a=(p,g)=>`/* Wrapped ${p}*/
${g}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(p,g,v)=>{const b=v===""?"":`with ${v.trim()}() `,w=a.bind(null,b,g.toString());Object.defineProperty(w,"name",u),Object.defineProperty(p,"toString",{...s,value:w})};return Jm=(p,g,{ignoreNonConfigurable:v=!1}={})=>{const{name:b}=p;for(const w of Reflect.ownKeys(g))r(p,g,w,v);return t(p,g),h(p,g,b),p},Jm}var ru={exports:{}},ep,gT;function KP(){return gT||(gT=1,ep=()=>{const r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}),ep}var mh=ru.exports,yT;function $P(){return yT||(yT=1,function(r,e){var t=mh&&mh.__awaiter||function(h,d,p,g){return new(p||(p=Promise))(function(v,b){function w(x){try{A(g.next(x))}catch(k){b(k)}}function I(x){try{A(g.throw(x))}catch(k){b(k)}}function A(x){x.done?v(x.value):new p(function(k){k(x.value)}).then(w,I)}A((g=g.apply(h,d||[])).next())})},a=mh&&mh.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(KP());function u(h,d="maxAge"){let p,g,v;const b=()=>t(this,void 0,void 0,function*(){if(p!==void 0)return;const A=x=>t(this,void 0,void 0,function*(){v=s.default();const k=x[1][d]-Date.now();if(k<=0){h.delete(x[0]),v.resolve();return}return p=x[0],g=setTimeout(()=>{h.delete(x[0]),v&&v.resolve()},k),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const x of h)yield A(x)}catch{}p=void 0}),w=()=>{p=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},I=h.set.bind(h);return h.set=(A,x)=>{h.has(A)&&h.delete(A);const k=I(A,x);return p&&p===A&&w(),b(),k},b(),h}e.default=u,r.exports=u,r.exports.default=u}(ru,ru.exports)),ru.exports}var tp,vT;function QP(){if(vT)return tp;vT=1;const r=YP(),e=$P(),t=new WeakMap,a=new WeakMap,s=(u,{cacheKey:h,cache:d=new Map,maxAge:p}={})=>{typeof p=="number"&&e(d);const g=function(...v){const b=h?h(v):v[0],w=d.get(b);if(w)return w.data;const I=u.apply(this,v);return d.set(b,{data:I,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),I};return r(g,u,{ignoreNonConfigurable:!0}),a.set(g,d),g};return s.decorator=(u={})=>(h,d,p)=>{const g=h[d];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!t.has(this)){const v=s(g,u);return t.set(this,v),v}return t.get(this)}},s.clear=u=>{const h=a.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},tp=s,tp}var WP=QP();const FS=Jh(WP);function XP(r){return typeof r=="string"}function ZP(r,e,t){return t.indexOf(r)===e}function JP(r){return r.toLowerCase()===r}function _T(r){return r.indexOf(",")===-1?r:r.split(",")}function kp(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],t=e===void 0?"":e;return kp(t)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],t=a===void 0?"":a;return kp(t)}if(r.indexOf("-")===-1||!JP(r))return r;var s=r.split("-"),u=s[0],h=s[1],d=h===void 0?"":h;return"".concat(u,"-").concat(d.toUpperCase())}function ek(r){var e=r===void 0?{}:r,t=e.useFallbackLocale,a=t===void 0?!0:t,s=e.fallbackLocale,u=s===void 0?"en-US":s,h=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],p=[],g=0,v=d;g<v.length;g++){var b=v[g];p=p.concat(_T(b))}var w=navigator.language,I=w&&_T(w);h=h.concat(p,I)}return a&&h.push(u),h.filter(XP).map(kp).filter(ZP)}var tk=FS(ek,{cacheKey:JSON.stringify});function nk(r){return tk(r)[0]||null}var GS=FS(nk,{cacheKey:JSON.stringify});function Ni(r,e,t){return function(s,u){u===void 0&&(u=t);var h=r(s)+u;return e(h)}}function Vu(r){return function(t){return new Date(r(t).getTime()-1)}}function Uu(r,e){return function(a){return[r(a),e(a)]}}function mt(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var e=parseInt(r,10);if(typeof r=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(r,"."))}function Ca(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Df(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function Go(r){var e=mt(r),t=e+(-e+1)%100,a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}var rk=Ni(mt,Go,-100),YS=Ni(mt,Go,100),ey=Vu(YS),ik=Ni(mt,ey,-100),KS=Uu(Go,ey);function Da(r){var e=mt(r),t=e+(-e+1)%10,a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}var $S=Ni(mt,Da,-10),ty=Ni(mt,Da,10),Of=Vu(ty),QS=Ni(mt,Of,-10),WS=Uu(Da,Of);function Yo(r){var e=mt(r),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}var XS=Ni(mt,Yo,-1),ny=Ni(mt,Yo,1),Nf=Vu(ny),ZS=Ni(mt,Nf,-1),ak=Uu(Yo,Nf);function ry(r,e){return function(a,s){s===void 0&&(s=e);var u=mt(a),h=Ca(a)+s,d=new Date;return d.setFullYear(u,h,1),d.setHours(0,0,0,0),r(d)}}function Rs(r){var e=mt(r),t=Ca(r),a=new Date;return a.setFullYear(e,t,1),a.setHours(0,0,0,0),a}var JS=ry(Rs,-1),iy=ry(Rs,1),Lu=Vu(iy),eA=ry(Lu,-1),sk=Uu(Rs,Lu);function ok(r,e){return function(a,s){s===void 0&&(s=e);var u=mt(a),h=Ca(a),d=Df(a)+s,p=new Date;return p.setFullYear(u,h,d),p.setHours(0,0,0,0),r(p)}}function ju(r){var e=mt(r),t=Ca(r),a=Df(r),s=new Date;return s.setFullYear(e,t,a),s.setHours(0,0,0,0),s}var lk=ok(ju,1),ay=Vu(lk),uk=Uu(ju,ay);function tA(r){return Df(Lu(r))}var on={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ck={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},sy=[0,1,2,3,4,5,6],np=new Map;function hk(r){return function(t,a){var s=t||GS();np.has(s)||np.set(s,new Map);var u=np.get(s);return u.has(r)||u.set(r,new Intl.DateTimeFormat(s||void 0,r).format),u.get(r)(a)}}function fk(r){var e=new Date(r);return new Date(e.setHours(12))}function Is(r){return function(e,t){return hk(r)(e,fk(t))}}var dk={day:"numeric"},mk={day:"numeric",month:"long",year:"numeric"},pk={month:"long"},gk={month:"long",year:"numeric"},yk={weekday:"short"},vk={weekday:"long"},_k={year:"numeric"},Ek=Is(dk),Tk=Is(mk),bk=Is(pk),nA=Is(gk),wk=Is(yk),Sk=Is(vk),xf=Is(_k),Ak=sy[0],Rk=sy[5],ET=sy[6];function bu(r,e){e===void 0&&(e=on.ISO_8601);var t=r.getDay();switch(e){case on.ISO_8601:return(t+6)%7;case on.ISLAMIC:return(t+1)%7;case on.HEBREW:case on.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function Ik(r){var e=Go(r);return mt(e)}function Ck(r){var e=Da(r);return mt(e)}function Vp(r,e){e===void 0&&(e=on.ISO_8601);var t=mt(r),a=Ca(r),s=r.getDate()-bu(r,e);return new Date(t,a,s)}function Dk(r,e){e===void 0&&(e=on.ISO_8601);var t=e===on.GREGORY?on.GREGORY:on.ISO_8601,a=Vp(r,e),s=mt(r)+1,u,h;do u=new Date(s,0,t===on.ISO_8601?4:1),h=Vp(u,e),s-=1;while(r<h);return Math.round((a.getTime()-h.getTime())/(864e5*7))+1}function fs(r,e){switch(r){case"century":return Go(e);case"decade":return Da(e);case"year":return Yo(e);case"month":return Rs(e);case"day":return ju(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ok(r,e){switch(r){case"century":return rk(e);case"decade":return $S(e);case"year":return XS(e);case"month":return JS(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function rA(r,e){switch(r){case"century":return YS(e);case"decade":return ty(e);case"year":return ny(e);case"month":return iy(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Nk(r,e){switch(r){case"decade":return $S(e,-100);case"year":return XS(e,-10);case"month":return JS(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function xk(r,e){switch(r){case"decade":return ty(e,100);case"year":return ny(e,10);case"month":return iy(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function iA(r,e){switch(r){case"century":return ey(e);case"decade":return Of(e);case"year":return Nf(e);case"month":return Lu(e);case"day":return ay(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Mk(r,e){switch(r){case"century":return ik(e);case"decade":return QS(e);case"year":return ZS(e);case"month":return eA(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Pk(r,e){switch(r){case"decade":return QS(e,-100);case"year":return ZS(e,-10);case"month":return eA(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function TT(r,e){switch(r){case"century":return KS(e);case"decade":return WS(e);case"year":return ak(e);case"month":return sk(e);case"day":return uk(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function kk(r,e,t){var a=[e,t].sort(function(s,u){return s.getTime()-u.getTime()});return[fs(r,a[0]),iA(r,a[1])]}function aA(r,e,t){return t.map(function(a){return(e||xf)(r,a)}).join(" – ")}function Vk(r,e,t){return aA(r,e,KS(t))}function sA(r,e,t){return aA(r,e,WS(t))}function Uk(r){return r.getDay()===new Date().getDay()}function oA(r,e){e===void 0&&(e=on.ISO_8601);var t=r.getDay();switch(e){case on.ISLAMIC:case on.HEBREW:return t===Rk||t===ET;case on.ISO_8601:case on.GREGORY:return t===ET||t===Ak;default:throw new Error("Unsupported calendar type.")}}var Vr="react-calendar__navigation";function Lk(r){var e=r.activeStartDate,t=r.drillUp,a=r.formatMonthYear,s=a===void 0?nA:a,u=r.formatYear,h=u===void 0?xf:u,d=r.locale,p=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,b=v===void 0?"":v,w=r.navigationAriaLive,I=r.navigationLabel,A=r.next2AriaLabel,x=A===void 0?"":A,k=r.next2Label,j=k===void 0?"»":k,J=r.nextAriaLabel,W=J===void 0?"":J,ie=r.nextLabel,le=ie===void 0?"›":ie,ce=r.prev2AriaLabel,N=ce===void 0?"":ce,R=r.prev2Label,C=R===void 0?"«":R,P=r.prevAriaLabel,V=P===void 0?"":P,L=r.prevLabel,O=L===void 0?"‹":L,st=r.setActiveStartDate,Ze=r.showDoubleView,K=r.view,ue=r.views,me=ue.indexOf(K)>0,Oe=K!=="century",M=Ok(K,e),ee=Oe?Nk(K,e):void 0,oe=rA(K,e),ae=Oe?xk(K,e):void 0,pe=function(){if(M.getFullYear()<0)return!0;var rt=Mk(K,e);return g&&g>=rt}(),Ie=Oe&&function(){if(ee.getFullYear()<0)return!0;var rt=Pk(K,e);return g&&g>=rt}(),ve=p&&p<oe,ct=Oe&&p&&p<ae;function He(){st(M,"prev")}function Mt(){st(ee,"prev2")}function Un(){st(oe,"next")}function Rn(){st(ae,"next2")}function Ln(rt){var ir=function(){switch(K){case"century":return Vk(d,h,rt);case"decade":return sA(d,h,rt);case"year":return h(d,rt);case"month":return s(d,rt);default:throw new Error("Invalid view: ".concat(K,"."))}}();return I?I({date:rt,label:ir,locale:d||GS()||void 0,view:K}):ir}function rr(){var rt="".concat(Vr,"__label");return Q.jsxs("button",{"aria-label":b,"aria-live":w,className:rt,disabled:!me,onClick:t,style:{flexGrow:1},type:"button",children:[Q.jsx("span",{className:"".concat(rt,"__labelText ").concat(rt,"__labelText--from"),children:Ln(e)}),Ze?Q.jsxs(Q.Fragment,{children:[Q.jsx("span",{className:"".concat(rt,"__divider"),children:" – "}),Q.jsx("span",{className:"".concat(rt,"__labelText ").concat(rt,"__labelText--to"),children:Ln(oe)})]}):null]})}return Q.jsxs("div",{className:Vr,children:[C!==null&&Oe?Q.jsx("button",{"aria-label":N,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev2-button"),disabled:Ie,onClick:Mt,type:"button",children:C}):null,O!==null&&Q.jsx("button",{"aria-label":V,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev-button"),disabled:pe,onClick:He,type:"button",children:O}),rr(),le!==null&&Q.jsx("button",{"aria-label":W,className:"".concat(Vr,"__arrow ").concat(Vr,"__next-button"),disabled:ve,onClick:Un,type:"button",children:le}),j!==null&&Oe?Q.jsx("button",{"aria-label":x,className:"".concat(Vr,"__arrow ").concat(Vr,"__next2-button"),disabled:ct,onClick:Rn,type:"button",children:j}):null]})}var Ao=function(){return Ao=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Ao.apply(this,arguments)},jk=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t};function bT(r){return"".concat(r,"%")}function oy(r){var e=r.children,t=r.className,a=r.count,s=r.direction,u=r.offset,h=r.style,d=r.wrap,p=jk(r,["children","className","count","direction","offset","style","wrap"]);return Q.jsx("div",Ao({className:t,style:Ao({display:"flex",flexDirection:s,flexWrap:d?"wrap":"nowrap"},h)},p,{children:Y.Children.map(e,function(g,v){var b=u&&v===0?bT(100*u/a):null;return Y.cloneElement(g,Ao(Ao({},g.props),{style:{flexBasis:bT(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function zk(r,e,t){return e&&e>r?e:t&&t<r?t:r}function wu(r,e){return e[0]<=r&&e[1]>=r}function Bk(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function lA(r,e){return wu(r[0],e)||wu(r[1],e)}function wT(r,e,t){var a=lA(e,r),s=[];if(a){s.push(t);var u=wu(r[0],e),h=wu(r[1],e);u&&s.push("".concat(t,"Start")),h&&s.push("".concat(t,"End")),u&&h&&s.push("".concat(t,"BothEnds"))}return s}function qk(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function Hk(r){if(!r)throw new Error("args is required");var e=r.value,t=r.date,a=r.hover,s="react-calendar__tile",u=[s];if(!t)return u;var h=new Date,d=function(){if(Array.isArray(t))return t;var I=r.dateType;if(!I)throw new Error("dateType is required when date is not an array of two dates");return TT(I,t)}();if(wu(h,d)&&u.push("".concat(s,"--now")),!e||!qk(e))return u;var p=function(){if(Array.isArray(e))return e;var I=r.valueType;if(!I)throw new Error("valueType is required when value is not an array of two dates");return TT(I,e)}();Bk(p,d)?u.push("".concat(s,"--active")):lA(p,d)&&u.push("".concat(s,"--hasActive"));var g=wT(p,d,"".concat(s,"--range"));u.push.apply(u,g);var v=Array.isArray(e)?e:[e];if(a&&v.length===1){var b=a>p[0]?[p[0],a]:[a,p[0]],w=wT(b,d,"".concat(s,"--hover"));u.push.apply(u,w)}return u}function Mf(r){for(var e=r.className,t=r.count,a=t===void 0?3:t,s=r.dateTransform,u=r.dateType,h=r.end,d=r.hover,p=r.offset,g=r.renderTile,v=r.start,b=r.step,w=b===void 0?1:b,I=r.value,A=r.valueType,x=[],k=v;k<=h;k+=w){var j=s(k);x.push(g({classes:Hk({date:j,dateType:u,hover:d,value:I,valueType:A}),date:j}))}return Q.jsx(oy,{className:e,count:a,offset:p,wrap:!0,children:x})}function Pf(r){var e=r.activeStartDate,t=r.children,a=r.classes,s=r.date,u=r.formatAbbr,h=r.locale,d=r.maxDate,p=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,b=r.onClick,w=r.onMouseOver,I=r.style,A=r.tileClassName,x=r.tileContent,k=r.tileDisabled,j=r.view,J=Y.useMemo(function(){var ie={activeStartDate:e,date:s,view:j};return typeof A=="function"?A(ie):A},[e,s,A,j]),W=Y.useMemo(function(){var ie={activeStartDate:e,date:s,view:j};return typeof x=="function"?x(ie):x},[e,s,x,j]);return Q.jsxs("button",{className:Cf(a,J),disabled:g&&v(g)>s||d&&p(d)<s||(k==null?void 0:k({activeStartDate:e,date:s,view:j})),onClick:b?function(ie){return b(s,ie)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:I,type:"button",children:[u?Q.jsx("abbr",{"aria-label":u(h,s),children:t}):t,W]})}var Up=function(){return Up=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Up.apply(this,arguments)},Fk=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t},ST="react-calendar__century-view__decades__decade";function Gk(r){var e=r.classes,t=e===void 0?[]:e,a=r.currentCentury,s=r.formatYear,u=s===void 0?xf:s,h=Fk(r,["classes","currentCentury","formatYear"]),d=h.date,p=h.locale,g=[];return t&&g.push.apply(g,t),g.push(ST),Go(d).getFullYear()!==a&&g.push("".concat(ST,"--neighboringCentury")),Q.jsx(Pf,Up({},h,{classes:g,maxDateTransform:Of,minDateTransform:Da,view:"century",children:sA(p,u,d)}))}var Lp=function(){return Lp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Lp.apply(this,arguments)},AT=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t};function Yk(r){var e=r.activeStartDate,t=r.hover,a=r.showNeighboringCentury,s=r.value,u=r.valueType,h=AT(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=Ik(e),p=d+(a?119:99);return Q.jsx(Mf,{className:"react-calendar__century-view__decades",dateTransform:Da,dateType:"decade",end:p,hover:t,renderTile:function(g){var v=g.date,b=AT(g,["date"]);return Q.jsx(Gk,Lp({},h,b,{activeStartDate:e,currentCentury:d,date:v}),v.getTime())},start:d,step:10,value:s,valueType:u})}var jp=function(){return jp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},jp.apply(this,arguments)};function Kk(r){function e(){return Q.jsx(Yk,jp({},r))}return Q.jsx("div",{className:"react-calendar__century-view",children:e()})}var zp=function(){return zp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},zp.apply(this,arguments)},$k=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t},RT="react-calendar__decade-view__years__year";function Qk(r){var e=r.classes,t=e===void 0?[]:e,a=r.currentDecade,s=r.formatYear,u=s===void 0?xf:s,h=$k(r,["classes","currentDecade","formatYear"]),d=h.date,p=h.locale,g=[];return t&&g.push.apply(g,t),g.push(RT),Da(d).getFullYear()!==a&&g.push("".concat(RT,"--neighboringDecade")),Q.jsx(Pf,zp({},h,{classes:g,maxDateTransform:Nf,minDateTransform:Yo,view:"decade",children:u(p,d)}))}var Bp=function(){return Bp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Bp.apply(this,arguments)},IT=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t};function Wk(r){var e=r.activeStartDate,t=r.hover,a=r.showNeighboringDecade,s=r.value,u=r.valueType,h=IT(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=Ck(e),p=d+(a?11:9);return Q.jsx(Mf,{className:"react-calendar__decade-view__years",dateTransform:Yo,dateType:"year",end:p,hover:t,renderTile:function(g){var v=g.date,b=IT(g,["date"]);return Q.jsx(Qk,Bp({},h,b,{activeStartDate:e,currentDecade:d,date:v}),v.getTime())},start:d,value:s,valueType:u})}var qp=function(){return qp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},qp.apply(this,arguments)};function Xk(r){function e(){return Q.jsx(Wk,qp({},r))}return Q.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Hp=function(){return Hp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Hp.apply(this,arguments)},Zk=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t},CT=function(r,e,t){if(t||arguments.length===2)for(var a=0,s=e.length,u;a<s;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return r.concat(u||Array.prototype.slice.call(e))},Jk="react-calendar__year-view__months__month";function eV(r){var e=r.classes,t=e===void 0?[]:e,a=r.formatMonth,s=a===void 0?bk:a,u=r.formatMonthYear,h=u===void 0?nA:u,d=Zk(r,["classes","formatMonth","formatMonthYear"]),p=d.date,g=d.locale;return Q.jsx(Pf,Hp({},d,{classes:CT(CT([],t,!0),[Jk],!1),formatAbbr:h,maxDateTransform:Lu,minDateTransform:Rs,view:"year",children:s(g,p)}))}var Fp=function(){return Fp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Fp.apply(this,arguments)},DT=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t};function tV(r){var e=r.activeStartDate,t=r.hover,a=r.value,s=r.valueType,u=DT(r,["activeStartDate","hover","value","valueType"]),h=0,d=11,p=mt(e);return Q.jsx(Mf,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(p,g,1),Rs(v)},dateType:"month",end:d,hover:t,renderTile:function(g){var v=g.date,b=DT(g,["date"]);return Q.jsx(eV,Fp({},u,b,{activeStartDate:e,date:v}),v.getTime())},start:h,value:a,valueType:s})}var Gp=function(){return Gp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Gp.apply(this,arguments)};function nV(r){function e(){return Q.jsx(tV,Gp({},r))}return Q.jsx("div",{className:"react-calendar__year-view",children:e()})}var Yp=function(){return Yp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Yp.apply(this,arguments)},rV=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t},rp="react-calendar__month-view__days__day";function iV(r){var e=r.calendarType,t=r.classes,a=t===void 0?[]:t,s=r.currentMonthIndex,u=r.formatDay,h=u===void 0?Ek:u,d=r.formatLongDate,p=d===void 0?Tk:d,g=rV(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,b=g.locale,w=[];return a&&w.push.apply(w,a),w.push(rp),oA(v,e)&&w.push("".concat(rp,"--weekend")),v.getMonth()!==s&&w.push("".concat(rp,"--neighboringMonth")),Q.jsx(Pf,Yp({},g,{classes:w,formatAbbr:p,maxDateTransform:ay,minDateTransform:ju,view:"month",children:h(b,v)}))}var Kp=function(){return Kp=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Kp.apply(this,arguments)},OT=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t};function aV(r){var e=r.activeStartDate,t=r.calendarType,a=r.hover,s=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,d=r.valueType,p=OT(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=mt(e),v=Ca(e),b=s||u,w=bu(e,t),I=b?0:w,A=(b?-w:0)+1,x=function(){if(s)return A+6*7-1;var k=tA(e);if(u){var j=new Date;j.setFullYear(g,v,k),j.setHours(0,0,0,0);var J=7-bu(j,t)-1;return k+J}return k}();return Q.jsx(Mf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(k){var j=new Date;return j.setFullYear(g,v,k),ju(j)},dateType:"day",hover:a,end:x,renderTile:function(k){var j=k.date,J=OT(k,["date"]);return Q.jsx(iV,Kp({},p,J,{activeStartDate:e,calendarType:t,currentMonthIndex:v,date:j}),j.getTime())},offset:I,start:A,value:h,valueType:d})}var uA="react-calendar__month-view__weekdays",ip="".concat(uA,"__weekday");function sV(r){for(var e=r.calendarType,t=r.formatShortWeekday,a=t===void 0?wk:t,s=r.formatWeekday,u=s===void 0?Sk:s,h=r.locale,d=r.onMouseLeave,p=new Date,g=Rs(p),v=mt(g),b=Ca(g),w=[],I=1;I<=7;I+=1){var A=new Date(v,b,I-bu(g,e)),x=u(h,A);w.push(Q.jsx("div",{className:Cf(ip,Uk(A)&&"".concat(ip,"--current"),oA(A,e)&&"".concat(ip,"--weekend")),children:Q.jsx("abbr",{"aria-label":x,title:x,children:a(h,A).replace(".","")})},I))}return Q.jsx(oy,{className:uA,count:7,onFocus:d,onMouseOver:d,children:w})}var Zh=function(){return Zh=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Zh.apply(this,arguments)},NT=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t},xT="react-calendar__tile";function oV(r){var e=r.onClickWeekNumber,t=r.weekNumber,a=Q.jsx("span",{children:t});if(e){var s=r.date,u=r.onClickWeekNumber,h=r.weekNumber,d=NT(r,["date","onClickWeekNumber","weekNumber"]);return Q.jsx("button",Zh({},d,{className:xT,onClick:function(p){return u(h,s,p)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var d=NT(r,["date","onClickWeekNumber","weekNumber"]);return Q.jsx("div",Zh({},d,{className:xT,children:a}))}}function lV(r){var e=r.activeStartDate,t=r.calendarType,a=r.onClickWeekNumber,s=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=tA(e),v=bu(e,t),b=g-(7-v);return 1+Math.ceil(b/7)}(),d=function(){for(var g=mt(e),v=Ca(e),b=Df(e),w=[],I=0;I<h;I+=1)w.push(Vp(new Date(g,v,b+I*7),t));return w}(),p=d.map(function(g){return Dk(g,t)});return Q.jsx(oy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,v){var b=d[v];if(!b)throw new Error("date is not defined");return Q.jsx(oV,{date:b,onClickWeekNumber:a,weekNumber:g},g)})})}var $p=function(){return $p=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},$p.apply(this,arguments)},uV=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t};function cV(r){if(r)for(var e=0,t=Object.entries(ck);e<t.length;e++){var a=t[e],s=a[0],u=a[1];if(u.includes(r))return s}return on.ISO_8601}function hV(r){var e=r.activeStartDate,t=r.locale,a=r.onMouseLeave,s=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?cV(t):u,d=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,b=uV(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return Q.jsx(sV,{calendarType:h,formatShortWeekday:d,formatWeekday:p,locale:t,onMouseLeave:a})}function I(){return v?Q.jsx(lV,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:a,showFixedNumberOfWeeks:s}):null}function A(){return Q.jsx(aV,$p({calendarType:h},b))}var x="react-calendar__month-view";return Q.jsx("div",{className:Cf(x,v?"".concat(x,"--weekNumbers"):""),children:Q.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[I(),Q.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),A()]})]})})}var Ro=function(){return Ro=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Ro.apply(this,arguments)},ph="react-calendar",Dh=["century","decade","year","month"],fV=["decade","year","month","day"],ly=new Date;ly.setFullYear(1,0,1);ly.setHours(0,0,0,0);var dV=new Date(864e13);function iu(r){return r instanceof Date?r:new Date(r)}function cA(r,e){return Dh.slice(Dh.indexOf(r),Dh.indexOf(e)+1)}function mV(r,e,t){var a=cA(e,t);return a.indexOf(r)!==-1}function uy(r,e,t){return r&&mV(r,e,t)?r:t}function hA(r){var e=Dh.indexOf(r);return fV[e]}function pV(r,e){var t=Array.isArray(r)?r[e]:r;if(!t)return null;var a=iu(t);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function fA(r,e){var t=r.value,a=r.minDate,s=r.maxDate,u=r.maxDetail,h=pV(t,e);if(!h)return null;var d=hA(u),p=function(){switch(e){case 0:return fs(d,h);case 1:return iA(d,h);default:throw new Error("Invalid index value: ".concat(e))}}();return zk(p,a,s)}var cy=function(r){return fA(r,0)},dA=function(r){return fA(r,1)},gV=function(r){return[cy,dA].map(function(e){return e(r)})};function mA(r){var e=r.maxDate,t=r.maxDetail,a=r.minDate,s=r.minDetail,u=r.value,h=r.view,d=uy(h,s,t),p=cy({value:u,minDate:a,maxDate:e,maxDetail:t})||new Date;return fs(d,p)}function yV(r){var e=r.activeStartDate,t=r.defaultActiveStartDate,a=r.defaultValue,s=r.defaultView,u=r.maxDate,h=r.maxDetail,d=r.minDate,p=r.minDetail,g=r.value,v=r.view,b=uy(v,p,h),w=e||t;return w?fs(b,w):mA({maxDate:u,maxDetail:h,minDate:d,minDetail:p,value:g||a,view:v||s})}function ap(r){return r&&(!Array.isArray(r)||r.length===1)}function gh(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var vV=Y.forwardRef(function(e,t){var a=e.activeStartDate,s=e.allowPartialRange,u=e.calendarType,h=e.className,d=e.defaultActiveStartDate,p=e.defaultValue,g=e.defaultView,v=e.formatDay,b=e.formatLongDate,w=e.formatMonth,I=e.formatMonthYear,A=e.formatShortWeekday,x=e.formatWeekday,k=e.formatYear,j=e.goToRangeStartOnSelect,J=j===void 0?!0:j,W=e.inputRef,ie=e.locale,le=e.maxDate,ce=le===void 0?dV:le,N=e.maxDetail,R=N===void 0?"month":N,C=e.minDate,P=C===void 0?ly:C,V=e.minDetail,L=V===void 0?"century":V,O=e.navigationAriaLabel,st=e.navigationAriaLive,Ze=e.navigationLabel,K=e.next2AriaLabel,ue=e.next2Label,me=e.nextAriaLabel,Oe=e.nextLabel,M=e.onActiveStartDateChange,ee=e.onChange,oe=e.onClickDay,ae=e.onClickDecade,pe=e.onClickMonth,Ie=e.onClickWeekNumber,ve=e.onClickYear,ct=e.onDrillDown,He=e.onDrillUp,Mt=e.onViewChange,Un=e.prev2AriaLabel,Rn=e.prev2Label,Ln=e.prevAriaLabel,rr=e.prevLabel,rt=e.returnValue,ir=rt===void 0?"start":rt,$t=e.selectRange,Qt=e.showDoubleView,Cs=e.showFixedNumberOfWeeks,xi=e.showNavigation,Mi=xi===void 0?!0:xi,Gr=e.showNeighboringCentury,Ko=e.showNeighboringDecade,Yr=e.showNeighboringMonth,Oa=Yr===void 0?!0:Yr,Ds=e.showWeekNumbers,ht=e.tileClassName,Ye=e.tileContent,pn=e.tileDisabled,Rt=e.value,Na=e.view,Os=Y.useState(d),Kr=Os[0],jn=Os[1],_r=Y.useState(null),In=_r[0],$r=_r[1],Er=Y.useState(Array.isArray(p)?p.map(function(Se){return Se!==null?iu(Se):null}):p!=null?iu(p):null),Qr=Er[0],xa=Er[1],Pi=Y.useState(g),ar=Pi[0],zn=Pi[1],It=a||Kr||yV({activeStartDate:a,defaultActiveStartDate:d,defaultValue:p,defaultView:g,maxDate:ce,maxDetail:R,minDate:P,minDetail:L,value:Rt,view:Na}),lt=function(){var Se=function(){return $t&&ap(Qr)?Qr:Rt!==void 0?Rt:Qr}();return Se?Array.isArray(Se)?Se.map(function(Me){return Me!==null?iu(Me):null}):Se!==null?iu(Se):null:null}(),Tr=hA(R),Fe=uy(Na||ar,L,R),Wt=cA(L,R),br=$t?In:null,ki=Wt.indexOf(Fe)<Wt.length-1,it=Wt.indexOf(Fe)>0,yt=Y.useCallback(function(Se){var Me=function(){switch(ir){case"start":return cy;case"end":return dA;case"range":return gV;default:throw new Error("Invalid returnValue.")}}();return Me({maxDate:ce,maxDetail:R,minDate:P,value:Se})},[ce,R,P,ir]),ft=Y.useCallback(function(Se,Me){jn(Se);var Ce={action:Me,activeStartDate:Se,value:lt,view:Fe};M&&!gh(It,Se)&&M(Ce)},[It,M,lt,Fe]),Xt=Y.useCallback(function(Se,Me){var Ce=function(){switch(Fe){case"century":return ae;case"decade":return ve;case"year":return pe;case"month":return oe;default:throw new Error("Invalid view: ".concat(Fe,"."))}}();Ce&&Ce(Se,Me)},[oe,ae,pe,ve,Fe]),Wr=Y.useCallback(function(Se,Me){if(ki){Xt(Se,Me);var Ce=Wt[Wt.indexOf(Fe)+1];if(!Ce)throw new Error("Attempted to drill down from the lowest view.");jn(Se),zn(Ce);var Zt={action:"drillDown",activeStartDate:Se,value:lt,view:Ce};M&&!gh(It,Se)&&M(Zt),Mt&&Fe!==Ce&&Mt(Zt),ct&&ct(Zt)}},[It,ki,M,Xt,ct,Mt,lt,Fe,Wt]),Ma=Y.useCallback(function(){if(it){var Se=Wt[Wt.indexOf(Fe)-1];if(!Se)throw new Error("Attempted to drill up from the highest view.");var Me=fs(Se,It);jn(Me),zn(Se);var Ce={action:"drillUp",activeStartDate:Me,value:lt,view:Se};M&&!gh(It,Me)&&M(Ce),Mt&&Fe!==Se&&Mt(Ce),He&&He(Ce)}},[It,it,M,He,Mt,lt,Fe,Wt]),Bn=Y.useCallback(function(Se,Me){var Ce=lt;Xt(Se,Me);var Zt=$t&&!ap(Ce),zt;if($t)if(Zt)zt=fs(Tr,Se);else{if(!Ce)throw new Error("previousValue is required");if(Array.isArray(Ce))throw new Error("previousValue must not be an array");zt=kk(Tr,Ce,Se)}else zt=yt(Se);var gn=!$t||Zt||J?mA({maxDate:ce,maxDetail:R,minDate:P,minDetail:L,value:zt,view:Fe}):null;Me.persist(),jn(gn),xa(zt);var ur={action:"onChange",activeStartDate:gn,value:zt,view:Fe};if(M&&!gh(It,gn)&&M(ur),ee)if($t){var xs=ap(zt);if(!xs)ee(zt||null,Me);else if(s){if(Array.isArray(zt))throw new Error("value must not be an array");ee([zt||null,null],Me)}}else ee(zt||null,Me)},[It,s,yt,J,ce,R,P,L,M,ee,Xt,$t,lt,Tr,Fe]);function Ns(Se){$r(Se)}function sr(){$r(null)}Y.useImperativeHandle(t,function(){return{activeStartDate:It,drillDown:Wr,drillUp:Ma,onChange:Bn,setActiveStartDate:ft,value:lt,view:Fe}},[It,Wr,Ma,Bn,ft,lt,Fe]);function or(Se){var Me=Se?rA(Fe,It):fs(Fe,It),Ce=ki?Wr:Bn,Zt={activeStartDate:Me,hover:br,locale:ie,maxDate:ce,minDate:P,onClick:Ce,onMouseOver:$t?Ns:void 0,tileClassName:ht,tileContent:Ye,tileDisabled:pn,value:lt,valueType:Tr};switch(Fe){case"century":return Q.jsx(Kk,Ro({formatYear:k,showNeighboringCentury:Gr},Zt));case"decade":return Q.jsx(Xk,Ro({formatYear:k,showNeighboringDecade:Ko},Zt));case"year":return Q.jsx(nV,Ro({formatMonth:w,formatMonthYear:I},Zt));case"month":return Q.jsx(hV,Ro({calendarType:u,formatDay:v,formatLongDate:b,formatShortWeekday:A,formatWeekday:x,onClickWeekNumber:Ie,onMouseLeave:$t?sr:void 0,showFixedNumberOfWeeks:typeof Cs<"u"?Cs:Qt,showNeighboringMonth:Oa,showWeekNumbers:Ds},Zt));default:throw new Error("Invalid view: ".concat(Fe,"."))}}function lr(){return Mi?Q.jsx(Lk,{activeStartDate:It,drillUp:Ma,formatMonthYear:I,formatYear:k,locale:ie,maxDate:ce,minDate:P,navigationAriaLabel:O,navigationAriaLive:st,navigationLabel:Ze,next2AriaLabel:K,next2Label:ue,nextAriaLabel:me,nextLabel:Oe,prev2AriaLabel:Un,prev2Label:Rn,prevAriaLabel:Ln,prevLabel:rr,setActiveStartDate:ft,showDoubleView:Qt,view:Fe,views:Wt}):null}var qn=Array.isArray(lt)?lt:[lt];return Q.jsxs("div",{className:Cf(ph,$t&&qn.length===1&&"".concat(ph,"--selectRange"),Qt&&"".concat(ph,"--doubleView"),h),ref:W,children:[lr(),Q.jsxs("div",{className:"".concat(ph,"__viewContainer"),onBlur:$t?sr:void 0,onMouseLeave:$t?sr:void 0,children:[or(),Qt?or(!0):null]})]})});function _V({selectedDate:r,setSelectedDate:e,refreshKey:t}){const[a,s]=Y.useState({}),[u,h]=Y.useState(!0),[d,p]=Y.useState(null);return Y.useEffect(()=>{(async()=>{h(!0);const v=wi.currentUser;if(!v){p("Not logged in"),h(!1);return}const b=r.getFullYear(),w=r.getMonth(),I=new Date(b,w,1),A=new Date(b,w+1,0),x=j=>j.toLocaleDateString("en-CA").slice(0,10),k=TS(jg(If,"moods"),cu("userUid","==",v.uid),cu("date",">=",x(I)),cu("date","<=",x(A)));try{const j=await wS(k),J={};j.docs.forEach(W=>{const{date:ie}=W.data();J[ie]=(J[ie]||0)+1}),s(J)}catch(j){console.error(j),p("Failed to load mood counts")}finally{h(!1)}})()},[r,t]),u?Q.jsx("div",{children:"Loading calendar…"}):d?Q.jsx("div",{children:d}):Q.jsx("div",{className:"mood-calendar",children:Q.jsx(vV,{onChange:e,value:r,tileContent:({date:g,view:v})=>{if(v==="month"){const b=g.toLocaleDateString("en-CA").slice(0,10),w=a[b];return w?Q.jsx("div",{className:"mood-badge",children:w}):null}}})})}var Oh={exports:{}},EV=Oh.exports,MT;function TV(){return MT||(MT=1,function(r,e){(function(a,s){r.exports=s(ef())})(EV,function(t){return function(a){var s={};function u(h){if(s[h])return s[h].exports;var d=s[h]={i:h,l:!1,exports:{}};return a[h].call(d.exports,d,d.exports,u),d.l=!0,d.exports}return u.m=a,u.c=s,u.d=function(h,d,p){u.o(h,d)||Object.defineProperty(h,d,{enumerable:!0,get:p})},u.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},u.t=function(h,d){if(d&1&&(h=u(h)),d&8||d&4&&typeof h=="object"&&h&&h.__esModule)return h;var p=Object.create(null);if(u.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:h}),d&2&&typeof h!="string")for(var g in h)u.d(p,g,(function(v){return h[v]}).bind(null,g));return p},u.n=function(h){var d=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(d,"a",d),d},u.o=function(h,d){return Object.prototype.hasOwnProperty.call(h,d)},u.p="",u(u.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(a,s,u){u.r(s);var h=u("react"),d=function(){var w=function(I,A){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,k){x.__proto__=k}||function(x,k){for(var j in k)k.hasOwnProperty(j)&&(x[j]=k[j])},w(I,A)};return function(I,A){w(I,A);function x(){this.constructor=I}I.prototype=A===null?Object.create(A):(x.prototype=A.prototype,new x)}}(),p=function(){return p=Object.assign||function(w){for(var I,A=1,x=arguments.length;A<x;A++){I=arguments[A];for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&(w[k]=I[k])}return w},p.apply(this,arguments)},g=function(w,I){var A={};for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&I.indexOf(x)<0&&(A[x]=w[x]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,x=Object.getOwnPropertySymbols(w);k<x.length;k++)I.indexOf(x[k])<0&&Object.prototype.propertyIsEnumerable.call(w,x[k])&&(A[x[k]]=w[x[k]]);return A};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(I){var A=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return A?new Promise(function(x,k){A.call(navigator,I,x,k)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function v(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var b=function(w){d(I,w);function I(A){var x=w.call(this,A)||this;return x.canvas=null,x.ctx=null,x.requestUserMediaId=0,x.unmounted=!1,x.state={hasUserMedia:!1},x}return I.prototype.componentDidMount=function(){var A=this,x=A.state,k=A.props;if(this.unmounted=!1,!v()){k.onUserMediaError("getUserMedia not supported");return}x.hasUserMedia||this.requestUserMedia(),k.children&&typeof k.children!="function"&&console.warn("children must be a function")},I.prototype.componentDidUpdate=function(A){var x=this.props;if(!v()){x.onUserMediaError("getUserMedia not supported");return}var k=JSON.stringify(A.audioConstraints)!==JSON.stringify(x.audioConstraints),j=JSON.stringify(A.videoConstraints)!==JSON.stringify(x.videoConstraints),J=A.minScreenshotWidth!==x.minScreenshotWidth,W=A.minScreenshotHeight!==x.minScreenshotHeight;(j||J||W)&&(this.canvas=null,this.ctx=null),(k||j)&&(this.stopAndCleanup(),this.requestUserMedia())},I.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},I.stopMediaStream=function(A){A&&(A.getVideoTracks&&A.getAudioTracks?(A.getVideoTracks().map(function(x){A.removeTrack(x),x.stop()}),A.getAudioTracks().map(function(x){A.removeTrack(x),x.stop()})):A.stop())},I.prototype.stopAndCleanup=function(){var A=this.state;A.hasUserMedia&&(I.stopMediaStream(this.stream),A.src&&window.URL.revokeObjectURL(A.src))},I.prototype.getScreenshot=function(A){var x=this,k=x.state,j=x.props;if(!k.hasUserMedia)return null;var J=this.getCanvas(A);return J&&J.toDataURL(j.screenshotFormat,j.screenshotQuality)},I.prototype.getCanvas=function(A){var x=this,k=x.state,j=x.props;if(!this.video||!k.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var J=this.video.videoWidth,W=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var ie=J/W;J=j.minScreenshotWidth||this.video.clientWidth,W=J/ie,j.minScreenshotHeight&&W<j.minScreenshotHeight&&(W=j.minScreenshotHeight,J=W*ie)}this.canvas=document.createElement("canvas"),this.canvas.width=(A==null?void 0:A.width)||J,this.canvas.height=(A==null?void 0:A.height)||W,this.ctx=this.canvas.getContext("2d")}var le=this,ce=le.ctx,N=le.canvas;return ce&&N&&(N.width=(A==null?void 0:A.width)||N.width,N.height=(A==null?void 0:A.height)||N.height,j.mirrored&&(ce.translate(N.width,0),ce.scale(-1,1)),ce.imageSmoothingEnabled=j.imageSmoothing,ce.drawImage(this.video,0,0,(A==null?void 0:A.width)||N.width,(A==null?void 0:A.height)||N.height),j.mirrored&&(ce.scale(-1,1),ce.translate(-N.width,0))),N},I.prototype.requestUserMedia=function(){var A=this,x=this.props,k=function(W,ie){var le={video:typeof ie<"u"?ie:!0};x.audio&&(le.audio=typeof W<"u"?W:!0),A.requestUserMediaId++;var ce=A.requestUserMediaId;navigator.mediaDevices.getUserMedia(le).then(function(N){A.unmounted||ce!==A.requestUserMediaId?I.stopMediaStream(N):A.handleUserMedia(null,N)}).catch(function(N){A.handleUserMedia(N)})};if("mediaDevices"in navigator)k(x.audioConstraints,x.videoConstraints);else{var j=function(W){return{optional:[{sourceId:W}]}},J=function(W){var ie=W.deviceId;return typeof ie=="string"?ie:Array.isArray(ie)&&ie.length>0?ie[0]:typeof ie=="object"&&ie.ideal?ie.ideal:null};MediaStreamTrack.getSources(function(W){var ie=null,le=null;W.forEach(function(R){R.kind==="audio"?ie=R.id:R.kind==="video"&&(le=R.id)});var ce=J(x.audioConstraints);ce&&(ie=ce);var N=J(x.videoConstraints);N&&(le=N),k(j(ie),j(le))})}},I.prototype.handleUserMedia=function(A,x){var k=this.props;if(A||!x){this.setState({hasUserMedia:!1}),k.onUserMediaError(A);return}this.stream=x;try{this.video&&(this.video.srcObject=x),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(x)})}k.onUserMedia(x)},I.prototype.render=function(){var A=this,x=this,k=x.state,j=x.props,J=j.audio;j.forceScreenshotSourceSize;var W=j.disablePictureInPicture;j.onUserMedia,j.onUserMediaError,j.screenshotFormat,j.screenshotQuality,j.minScreenshotWidth,j.minScreenshotHeight,j.audioConstraints,j.videoConstraints,j.imageSmoothing;var ie=j.mirrored,le=j.style,ce=le===void 0?{}:le,N=j.children,R=g(j,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),C=ie?p(p({},ce),{transform:(ce.transform||"")+" scaleX(-1)"}):ce,P={getScreenshot:this.getScreenshot.bind(this)};return h.createElement(h.Fragment,null,h.createElement("video",p({autoPlay:!0,disablePictureInPicture:W,src:k.src,muted:!J,playsInline:!0,ref:function(V){A.video=V},style:C},R)),N&&N(P))},I.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},I}(h.Component);s.default=b},react:function(a,s){a.exports=t}}).default})}(Oh)),Oh.exports}var bV=TV();const wV=Jh(bV),SV=(r,e)=>{const[t,a]=Y.useState([]),[s,u]=Y.useState(!0),[h,d]=Y.useState(null);return Y.useEffect(()=>{console.log("Selected date changed:",r),(async()=>{const g=wi.currentUser;if(!g){d("No user is logged in"),u(!1);return}try{const v=jg(If,"moods"),b=r.toLocaleDateString("en-CA"),w=TS(v,cu("userUid","==",g.uid),cu("date","==",b)),I=await wS(w);I.empty&&console.log("No moods found for this date."),console.log(I);const A=I.docs.map(x=>({id:x.id,...x.data()}));a(A)}catch(v){console.log("Firebase query error:",v),d("Error fetching moods: "+v.message)}finally{u(!1)}})()},[r,e]),{moods:t,loading:s,error:h}},AV=({moods:r,setMoods:e,setRefreshKey:t})=>{const[a,s]=Y.useState(null),[u,h]=Y.useState(null);if(r.length===0)return Q.jsx("p",{children:"No moods for this day yet."});const d=async()=>{if(u)try{await IM(hS(If,"moods",u)),e(g=>g.filter(v=>v.id!==u)),h(null),t(g=>g+1)}catch(g){console.error("Error deleting mood:",g),alert("Failed to delete mood.")}},p=r.reduce((g,v)=>{const w=new Date(v.date).toLocaleDateString("en-CA");return g[w]||(g[w]=[]),g[w].push(v),g},{});return Q.jsxs("div",{className:"mood-list",children:[Object.entries(p).map(([g,v])=>Q.jsxs("div",{className:"mood-day",children:[Q.jsx("h3",{children:new Date(g).toLocaleDateString()}),Q.jsx("div",{className:"mood-cards",children:v.map(b=>Q.jsxs("div",{className:"mood-card",children:[Q.jsx("p",{children:b.description}),b.imageURL&&Q.jsx("img",{src:b.imageURL,alt:"Mood",className:"mood-image",onClick:()=>s(b.imageURL)}),Q.jsx("button",{className:"delete-button",onClick:()=>h(b.id),children:"🗑️ Delete"})]},b.id))})]},g)),a&&Q.jsx("div",{className:"image-modal",onClick:()=>s(null),children:Q.jsx("img",{src:a,alt:"Selected Mood",className:"full-screen-image"})}),u&&Q.jsx("div",{className:"modal-overlay",children:Q.jsxs("div",{className:"modal-content",children:[Q.jsx("h3",{children:"Delete Mood?"}),Q.jsx("p",{children:"Are you sure you want to delete this mood?"}),Q.jsxs("div",{className:"modal-buttons",children:[Q.jsx("button",{className:"confirm-button",onClick:d,children:"Yes, Delete"}),Q.jsx("button",{className:"cancel-button",onClick:()=>h(null),children:"Cancel"})]})]})})]})},PT=()=>{const r=Wp(),[e,t]=Y.useState(!1),[a,s]=Y.useState(""),[u,h]=Y.useState(new Date),[d,p]=Y.useState(null),[g,v]=Y.useState(!1),[b,w]=Y.useState(null),[I,A]=Y.useState(0),[x,k]=Y.useState([]),j=Y.useRef(null),J=async()=>{await wi.signOut(),r("/login")},W=()=>{t(!0),v(!0)},ie=()=>{t(!1),s(""),p(null),v(!1)},le=V=>V.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),{moods:ce}=SV(u,I);qR.useEffect(()=>{k(ce)},[ce]);const N=V=>{h(V)},R=async V=>{V.preventDefault();const L=wi.currentUser;if(!L||!a.trim()){alert("Please describe your mood.");return}if(!d){alert("Please take a photo before submitting.");return}try{const O=LP(FP,`moods/${L.uid}/${Date.now()}.jpg`);await VP(O,d,"data_url");const st=await UP(O),Ze=u.toLocaleDateString("en-CA");await CM(jg(If,"moods"),{userUid:L.uid,description:a,date:Ze,imageURL:st}),ie(),A(K=>K+1)}catch(O){console.error("Error saving mood:",O)}},C=()=>{const V=j.current.getScreenshot();V&&(p(V),v(!1))},P=()=>{p(null),v(!0)};return Q.jsxs("div",{className:"mood-tracker-container",children:[Q.jsxs("header",{className:"app-header",children:[Q.jsx("h1",{children:"Mood Tracker"}),Q.jsx("button",{className:"logout-button",onClick:J,children:"Logout"})]}),Q.jsx("div",{className:"mood-calendar-container",children:Q.jsx(_V,{selectedDate:u,setSelectedDate:N,refreshKey:I})}),Q.jsxs("p",{className:"selected-date-label",children:["Selected Date: ",le(u)]}),Q.jsx("button",{onClick:W,className:"new-mood-button",children:"+"}),Q.jsx(AV,{moods:x,setMoods:k,setRefreshKey:A}),b&&Q.jsx("div",{className:"image-popup",onClick:()=>w(null),children:Q.jsx("img",{src:b,alt:"Expanded Mood"})}),Q.jsx("div",{className:`modal ${e?"show":""}`,children:Q.jsxs("div",{className:"modal-content",children:[Q.jsx("button",{className:"close-btn",onClick:ie,children:"×"}),Q.jsx("h2",{children:"Add a Mood"}),Q.jsxs("form",{onSubmit:R,children:[Q.jsx("textarea",{value:a,onChange:V=>s(V.target.value),placeholder:"How do you feel today?",rows:"4",required:!0}),Q.jsxs("div",{children:[g&&!d&&Q.jsxs("div",{children:[Q.jsx(wV,{audio:!1,ref:j,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"user"},style:{width:"100%",maxWidth:300,borderRadius:"10px"}}),Q.jsx("button",{type:"capture-button",onClick:C,children:"Capture Photo"})]}),d&&Q.jsxs("div",{children:[Q.jsx("img",{src:d,alt:"Captured",style:{width:"100%",maxWidth:300,borderRadius:"10px"}}),Q.jsx("button",{type:"capture-button",onClick:P,children:"Retake"})]})]}),Q.jsx("button",{type:"submit",children:"Save Mood"})]})]})})]})};function RV(){const[r,e]=Y.useState(null),t=Wp();return Y.useEffect(()=>{const a=QD(wi,s=>{e(s),t(s?"/mood":"/login")});return()=>a()},[t]),Q.jsxs(VI,{children:[Q.jsx(Xl,{path:"/",element:r?Q.jsx(PT,{}):Q.jsx(Zm,{})}),Q.jsx(Xl,{path:"/login",element:Q.jsx(Zm,{})}),Q.jsx(Xl,{path:"/register",element:Q.jsx(GP,{})}),Q.jsx(Xl,{path:"/mood",element:r?Q.jsx(PT,{}):Q.jsx(Zm,{})})]})}WR.createRoot(document.getElementById("root")).render(Q.jsx(HashRouter,{children:Q.jsx(RV,{})}));
